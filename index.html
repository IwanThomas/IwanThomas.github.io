<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Iwan's Blog</title>
    <link rel="shortcut icon" type="image/png" href="/favicon.png">
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
    <link rel="stylesheet" href="/theme/css/screen.css" type="text/css" />
    <link rel="stylesheet" href="/theme/css/pygments.css" type="text/css" />
    <link rel="stylesheet" href="/theme/css/print.css" type="text/css" media="print" />
    <meta name="generator" content="Pelican" />
    <meta name="description" content="" />
    <meta name="author" content="Iwan Thomas" />
</head>
<body>
    <header>
        <nav>
            <ul>
                <li class="selected"><a href="/">Home</a></li>
                <li><a href="/pages/about.html">About</a></li>
            </ul>
        </nav>
        <div class="header_box">
            <h1><a href="/">Iwan's Blog</a></h1>
        </div>
    </header>
    <div id="wrapper">
        <div id="content">            <h4 class="date">Mar 20, 2020</h4>

            <article class="post">
                <h2 class="title">
                    <a href="/my-top-takeaways-from-mastering-metrics.html" rel="bookmark" title="Permanent Link to &quot;My Top Takeaways from Mastering Metrics&quot;">My Top Takeaways from Mastering Metrics</a>
                </h2>

                
                

                <style type="text/css">/*!
*
* IPython notebook
*
*/
/* CSS font colors for translated ANSI escape sequences */
/* The color values are a mix of
   http://www.xcolors.net/dl/baskerville-ivorylight and
   http://www.xcolors.net/dl/euphrasia */
.ansi-black-fg {
  color: #3E424D;
}
.ansi-black-bg {
  background-color: #3E424D;
}
.ansi-black-intense-fg {
  color: #282C36;
}
.ansi-black-intense-bg {
  background-color: #282C36;
}
.ansi-red-fg {
  color: #E75C58;
}
.ansi-red-bg {
  background-color: #E75C58;
}
.ansi-red-intense-fg {
  color: #B22B31;
}
.ansi-red-intense-bg {
  background-color: #B22B31;
}
.ansi-green-fg {
  color: #00A250;
}
.ansi-green-bg {
  background-color: #00A250;
}
.ansi-green-intense-fg {
  color: #007427;
}
.ansi-green-intense-bg {
  background-color: #007427;
}
.ansi-yellow-fg {
  color: #DDB62B;
}
.ansi-yellow-bg {
  background-color: #DDB62B;
}
.ansi-yellow-intense-fg {
  color: #B27D12;
}
.ansi-yellow-intense-bg {
  background-color: #B27D12;
}
.ansi-blue-fg {
  color: #208FFB;
}
.ansi-blue-bg {
  background-color: #208FFB;
}
.ansi-blue-intense-fg {
  color: #0065CA;
}
.ansi-blue-intense-bg {
  background-color: #0065CA;
}
.ansi-magenta-fg {
  color: #D160C4;
}
.ansi-magenta-bg {
  background-color: #D160C4;
}
.ansi-magenta-intense-fg {
  color: #A03196;
}
.ansi-magenta-intense-bg {
  background-color: #A03196;
}
.ansi-cyan-fg {
  color: #60C6C8;
}
.ansi-cyan-bg {
  background-color: #60C6C8;
}
.ansi-cyan-intense-fg {
  color: #258F8F;
}
.ansi-cyan-intense-bg {
  background-color: #258F8F;
}
.ansi-white-fg {
  color: #C5C1B4;
}
.ansi-white-bg {
  background-color: #C5C1B4;
}
.ansi-white-intense-fg {
  color: #A1A6B2;
}
.ansi-white-intense-bg {
  background-color: #A1A6B2;
}
.ansi-default-inverse-fg {
  color: #FFFFFF;
}
.ansi-default-inverse-bg {
  background-color: #000000;
}
.ansi-bold {
  font-weight: bold;
}
.ansi-underline {
  text-decoration: underline;
}
/* The following styles are deprecated an will be removed in a future version */
.ansibold {
  font-weight: bold;
}
.ansi-inverse {
  outline: 0.5px dotted;
}
/* use dark versions for foreground, to improve visibility */
.ansiblack {
  color: black;
}
.ansired {
  color: darkred;
}
.ansigreen {
  color: darkgreen;
}
.ansiyellow {
  color: #c4a000;
}
.ansiblue {
  color: darkblue;
}
.ansipurple {
  color: darkviolet;
}
.ansicyan {
  color: steelblue;
}
.ansigray {
  color: gray;
}
/* and light for background, for the same reason */
.ansibgblack {
  background-color: black;
}
.ansibgred {
  background-color: red;
}
.ansibggreen {
  background-color: green;
}
.ansibgyellow {
  background-color: yellow;
}
.ansibgblue {
  background-color: blue;
}
.ansibgpurple {
  background-color: magenta;
}
.ansibgcyan {
  background-color: cyan;
}
.ansibggray {
  background-color: gray;
}
div.cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  border-radius: 2px;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  border-width: 1px;
  border-style: solid;
  border-color: transparent;
  width: 100%;
  padding: 5px;
  /* This acts as a spacer between cells, that is outside the border */
  margin: 0px;
  outline: none;
  position: relative;
  overflow: visible;
}
div.cell:before {
  position: absolute;
  display: block;
  top: -1px;
  left: -1px;
  width: 5px;
  height: calc(100% +  2px);
  content: '';
  background: transparent;
}
div.cell.jupyter-soft-selected {
  border-left-color: #E3F2FD;
  border-left-width: 1px;
  padding-left: 5px;
  border-right-color: #E3F2FD;
  border-right-width: 1px;
  background: #E3F2FD;
}
@media print {
  div.cell.jupyter-soft-selected {
    border-color: transparent;
  }
}
div.cell.selected,
div.cell.selected.jupyter-soft-selected {
  border-color: #ababab;
}
div.cell.selected:before,
div.cell.selected.jupyter-soft-selected:before {
  position: absolute;
  display: block;
  top: -1px;
  left: -1px;
  width: 5px;
  height: calc(100% +  2px);
  content: '';
  background: #42A5F5;
}
@media print {
  div.cell.selected,
  div.cell.selected.jupyter-soft-selected {
    border-color: transparent;
  }
}
.edit_mode div.cell.selected {
  border-color: #66BB6A;
}
.edit_mode div.cell.selected:before {
  position: absolute;
  display: block;
  top: -1px;
  left: -1px;
  width: 5px;
  height: calc(100% +  2px);
  content: '';
  background: #66BB6A;
}
@media print {
  .edit_mode div.cell.selected {
    border-color: transparent;
  }
}
.prompt {
  /* This needs to be wide enough for 3 digit prompt numbers: In[100]: */
  min-width: 14ex;
  /* This padding is tuned to match the padding on the CodeMirror editor. */
  padding: 0.4em;
  margin: 0px;
  font-family: monospace;
  text-align: right;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
  /* Don't highlight prompt number selection */
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  /* Use default cursor */
  cursor: default;
}
@media (max-width: 540px) {
  .prompt {
    text-align: left;
  }
}
div.inner_cell {
  min-width: 0;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_area {
  border: 1px solid #cfcfcf;
  border-radius: 2px;
  background: #f7f7f7;
  line-height: 1.21429em;
}
/* This is needed so that empty prompt areas can collapse to zero height when there
   is no content in the output_subarea and the prompt. The main purpose of this is
   to make sure that empty JavaScript output_subareas have no height. */
div.prompt:empty {
  padding-top: 0;
  padding-bottom: 0;
}
div.unrecognized_cell {
  padding: 5px 5px 5px 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.unrecognized_cell .inner_cell {
  border-radius: 2px;
  padding: 5px;
  font-weight: bold;
  color: red;
  border: 1px solid #cfcfcf;
  background: #eaeaea;
}
div.unrecognized_cell .inner_cell a {
  color: inherit;
  text-decoration: none;
}
div.unrecognized_cell .inner_cell a:hover {
  color: inherit;
  text-decoration: none;
}
@media (max-width: 540px) {
  div.unrecognized_cell > div.prompt {
    display: none;
  }
}
div.code_cell {
  /* avoid page breaking on code cells when printing */
}
@media print {
  div.code_cell {
    page-break-inside: avoid;
  }
}
/* any special styling for code cells that are currently running goes here */
div.input {
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.input {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_prompt {
  color: #303F9F;
  border-top: 1px solid transparent;
}
div.input_area > div.highlight {
  margin: 0.4em;
  border: none;
  padding: 0px;
  background-color: transparent;
}
div.input_area > div.highlight > pre {
  margin: 0px;
  border: none;
  padding: 0px;
  background-color: transparent;
}
/* The following gets added to the <head> if it is detected that the user has a
 * monospace font with inconsistent normal/bold/italic height.  See
 * notebookmain.js.  Such fonts will have keywords vertically offset with
 * respect to the rest of the text.  The user should select a better font.
 * See: https://github.com/ipython/ipython/issues/1503
 *
 * .CodeMirror span {
 *      vertical-align: bottom;
 * }
 */
.CodeMirror {
  line-height: 1.21429em;
  /* Changed from 1em to our global default */
  font-size: 14px;
  height: auto;
  /* Changed to auto to autogrow */
  background: none;
  /* Changed from white to allow our bg to show through */
}
.CodeMirror-scroll {
  /*  The CodeMirror docs are a bit fuzzy on if overflow-y should be hidden or visible.*/
  /*  We have found that if it is visible, vertical scrollbars appear with font size changes.*/
  overflow-y: hidden;
  overflow-x: auto;
}
.CodeMirror-lines {
  /* In CM2, this used to be 0.4em, but in CM3 it went to 4px. We need the em value because */
  /* we have set a different line-height and want this to scale with that. */
  /* Note that this should set vertical padding only, since CodeMirror assumes
       that horizontal padding will be set on CodeMirror pre */
  padding: 0.4em 0;
}
.CodeMirror-linenumber {
  padding: 0 8px 0 4px;
}
.CodeMirror-gutters {
  border-bottom-left-radius: 2px;
  border-top-left-radius: 2px;
}
.CodeMirror pre {
  /* In CM3 this went to 4px from 0 in CM2. This sets horizontal padding only,
    use .CodeMirror-lines for vertical */
  padding: 0 0.4em;
  border: 0;
  border-radius: 0;
}
.CodeMirror-cursor {
  border-left: 1.4px solid black;
}
@media screen and (min-width: 2138px) and (max-width: 4319px) {
  .CodeMirror-cursor {
    border-left: 2px solid black;
  }
}
@media screen and (min-width: 4320px) {
  .CodeMirror-cursor {
    border-left: 4px solid black;
  }
}
/*

Original style from softwaremaniacs.org (c) Ivan Sagalaev <Maniac@SoftwareManiacs.Org>
Adapted from GitHub theme

*/
.highlight-base {
  color: #000;
}
.highlight-variable {
  color: #000;
}
.highlight-variable-2 {
  color: #1a1a1a;
}
.highlight-variable-3 {
  color: #333333;
}
.highlight-string {
  color: #BA2121;
}
.highlight-comment {
  color: #408080;
  font-style: italic;
}
.highlight-number {
  color: #080;
}
.highlight-atom {
  color: #88F;
}
.highlight-keyword {
  color: #008000;
  font-weight: bold;
}
.highlight-builtin {
  color: #008000;
}
.highlight-error {
  color: #f00;
}
.highlight-operator {
  color: #AA22FF;
  font-weight: bold;
}
.highlight-meta {
  color: #AA22FF;
}
/* previously not defined, copying from default codemirror */
.highlight-def {
  color: #00f;
}
.highlight-string-2 {
  color: #f50;
}
.highlight-qualifier {
  color: #555;
}
.highlight-bracket {
  color: #997;
}
.highlight-tag {
  color: #170;
}
.highlight-attribute {
  color: #00c;
}
.highlight-header {
  color: blue;
}
.highlight-quote {
  color: #090;
}
.highlight-link {
  color: #00c;
}
/* apply the same style to codemirror */
.cm-s-ipython span.cm-keyword {
  color: #008000;
  font-weight: bold;
}
.cm-s-ipython span.cm-atom {
  color: #88F;
}
.cm-s-ipython span.cm-number {
  color: #080;
}
.cm-s-ipython span.cm-def {
  color: #00f;
}
.cm-s-ipython span.cm-variable {
  color: #000;
}
.cm-s-ipython span.cm-operator {
  color: #AA22FF;
  font-weight: bold;
}
.cm-s-ipython span.cm-variable-2 {
  color: #1a1a1a;
}
.cm-s-ipython span.cm-variable-3 {
  color: #333333;
}
.cm-s-ipython span.cm-comment {
  color: #408080;
  font-style: italic;
}
.cm-s-ipython span.cm-string {
  color: #BA2121;
}
.cm-s-ipython span.cm-string-2 {
  color: #f50;
}
.cm-s-ipython span.cm-meta {
  color: #AA22FF;
}
.cm-s-ipython span.cm-qualifier {
  color: #555;
}
.cm-s-ipython span.cm-builtin {
  color: #008000;
}
.cm-s-ipython span.cm-bracket {
  color: #997;
}
.cm-s-ipython span.cm-tag {
  color: #170;
}
.cm-s-ipython span.cm-attribute {
  color: #00c;
}
.cm-s-ipython span.cm-header {
  color: blue;
}
.cm-s-ipython span.cm-quote {
  color: #090;
}
.cm-s-ipython span.cm-link {
  color: #00c;
}
.cm-s-ipython span.cm-error {
  color: #f00;
}
.cm-s-ipython span.cm-tab {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAMCAYAAAAkuj5RAAAAAXNSR0IArs4c6QAAAGFJREFUSMft1LsRQFAQheHPowAKoACx3IgEKtaEHujDjORSgWTH/ZOdnZOcM/sgk/kFFWY0qV8foQwS4MKBCS3qR6ixBJvElOobYAtivseIE120FaowJPN75GMu8j/LfMwNjh4HUpwg4LUAAAAASUVORK5CYII=);
  background-position: right;
  background-repeat: no-repeat;
}
div.output_wrapper {
  /* this position must be relative to enable descendents to be absolute within it */
  position: relative;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  z-index: 1;
}
/* class for the output area when it should be height-limited */
div.output_scroll {
  /* ideally, this would be max-height, but FF barfs all over that */
  height: 24em;
  /* FF needs this *and the wrapper* to specify full width, or it will shrinkwrap */
  width: 100%;
  overflow: auto;
  border-radius: 2px;
  -webkit-box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  display: block;
}
/* output div while it is collapsed */
div.output_collapsed {
  margin: 0px;
  padding: 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
div.out_prompt_overlay {
  height: 100%;
  padding: 0px 0.4em;
  position: absolute;
  border-radius: 2px;
}
div.out_prompt_overlay:hover {
  /* use inner shadow to get border that is computed the same on WebKit/FF */
  -webkit-box-shadow: inset 0 0 1px #000;
  box-shadow: inset 0 0 1px #000;
  background: rgba(240, 240, 240, 0.5);
}
div.output_prompt {
  color: #D84315;
}
/* This class is the outer container of all output sections. */
div.output_area {
  padding: 0px;
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.output_area .MathJax_Display {
  text-align: left !important;
}
div.output_area 
div.output_area 
div.output_area img,
div.output_area svg {
  max-width: 100%;
  height: auto;
}
div.output_area img.unconfined,
div.output_area svg.unconfined {
  max-width: none;
}
div.output_area .mglyph > img {
  max-width: none;
}
/* This is needed to protect the pre formating from global settings such
   as that of bootstrap */
.output {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.output_area {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
div.output_area pre {
  margin: 0;
  padding: 1px 0 1px 0;
  border: 0;
  vertical-align: baseline;
  color: black;
  background-color: transparent;
  border-radius: 0;
}
/* This class is for the output subarea inside the output_area and after
   the prompt div. */
div.output_subarea {
  overflow-x: auto;
  padding: 0.4em;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
  max-width: calc(100% - 14ex);
}
div.output_scroll div.output_subarea {
  overflow-x: visible;
}
/* The rest of the output_* classes are for special styling of the different
   output types */
/* all text output has this class: */
div.output_text {
  text-align: left;
  color: #000;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
}
/* stdout/stderr are 'text' as well as 'stream', but execute_result/error are *not* streams */
div.output_stderr {
  background: #fdd;
  /* very light red background for stderr */
}
div.output_latex {
  text-align: left;
}
/* Empty output_javascript divs should have no height */
div.output_javascript:empty {
  padding: 0;
}
.js-error {
  color: darkred;
}
/* raw_input styles */
div.raw_input_container {
  line-height: 1.21429em;
  padding-top: 5px;
}
pre.raw_input_prompt {
  /* nothing needed here. */
}
input.raw_input {
  font-family: monospace;
  font-size: inherit;
  color: inherit;
  width: auto;
  /* make sure input baseline aligns with prompt */
  vertical-align: baseline;
  /* padding + margin = 0.5em between prompt and cursor */
  padding: 0em 0.25em;
  margin: 0em 0.25em;
}
input.raw_input:focus {
  box-shadow: none;
}
p.p-space {
  margin-bottom: 10px;
}
div.output_unrecognized {
  padding: 5px;
  font-weight: bold;
  color: red;
}
div.output_unrecognized a {
  color: inherit;
  text-decoration: none;
}
div.output_unrecognized a:hover {
  color: inherit;
  text-decoration: none;
}
.rendered_html {
  color: #000;
  /* any extras will just be numbers: */
}



.rendered_html :link {
  text-decoration: underline;
}
.rendered_html :visited {
  text-decoration: underline;
}






.rendered_html h1:first-child {
  margin-top: 0.538em;
}
.rendered_html h2:first-child {
  margin-top: 0.636em;
}
.rendered_html h3:first-child {
  margin-top: 0.777em;
}
.rendered_html h4:first-child {
  margin-top: 1em;
}
.rendered_html h5:first-child {
  margin-top: 1em;
}
.rendered_html h6:first-child {
  margin-top: 1em;
}
.rendered_html ul:not(.list-inline),
.rendered_html ol:not(.list-inline) {
  padding-left: 2em;
}








.rendered_html * + ul {
  margin-top: 1em;
}
.rendered_html * + ol {
  margin-top: 1em;
}





.rendered_html pre,




.rendered_html tr,
.rendered_html th,


.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}
.rendered_html * + table {
  margin-top: 1em;
}

.rendered_html * + p {
  margin-top: 1em;
}

.rendered_html * + img {
  margin-top: 1em;
}
.rendered_html img,

.rendered_html img.unconfined,


.rendered_html * + .alert {
  margin-top: 1em;
}
[dir="rtl"] 
div.text_cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.text_cell > div.prompt {
    display: none;
  }
}
div.text_cell_render {
  /*font-family: "Helvetica Neue", Arial, Helvetica, Geneva, sans-serif;*/
  outline: none;
  resize: none;
  width: inherit;
  border-style: none;
  padding: 0.5em 0.5em 0.5em 0.4em;
  color: #000;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
}
a.anchor-link:link {
  text-decoration: none;
  padding: 0px 20px;
  visibility: hidden;
}
h1:hover .anchor-link,
h2:hover .anchor-link,
h3:hover .anchor-link,
h4:hover .anchor-link,
h5:hover .anchor-link,
h6:hover .anchor-link {
  visibility: visible;
}
.text_cell.rendered .input_area {
  display: none;
}
.text_cell.rendered 
.text_cell.rendered .rendered_html tr,
.text_cell.rendered .rendered_html th,
.text_cell.rendered 
.text_cell.unrendered .text_cell_render {
  display: none;
}
.text_cell .dropzone .input_area {
  border: 2px dashed #bababa;
  margin: -1px;
}
.cm-header-1,
.cm-header-2,
.cm-header-3,
.cm-header-4,
.cm-header-5,
.cm-header-6 {
  font-weight: bold;
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
}
.cm-header-1 {
  font-size: 185.7%;
}
.cm-header-2 {
  font-size: 157.1%;
}
.cm-header-3 {
  font-size: 128.6%;
}
.cm-header-4 {
  font-size: 110%;
}
.cm-header-5 {
  font-size: 100%;
  font-style: italic;
}
.cm-header-6 {
  font-size: 100%;
  font-style: italic;
}
</style>
<style type="text/css">.highlight .hll { background-color: #ffffcc }
.highlight  { background: #f8f8f8; }
.highlight .c { color: #408080; font-style: italic } /* Comment */
.highlight .err { border: 1px solid #FF0000 } /* Error */
.highlight .k { color: #008000; font-weight: bold } /* Keyword */
.highlight .o { color: #666666 } /* Operator */
.highlight .ch { color: #408080; font-style: italic } /* Comment.Hashbang */
.highlight .cm { color: #408080; font-style: italic } /* Comment.Multiline */
.highlight .cp { color: #BC7A00 } /* Comment.Preproc */
.highlight .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */
.highlight .c1 { color: #408080; font-style: italic } /* Comment.Single */
.highlight .cs { color: #408080; font-style: italic } /* Comment.Special */
.highlight .gd { color: #A00000 } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gr { color: #FF0000 } /* Generic.Error */
.highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #00A000 } /* Generic.Inserted */
.highlight .go { color: #888888 } /* Generic.Output */
.highlight .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #0044DD } /* Generic.Traceback */
.highlight .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #008000 } /* Keyword.Pseudo */
.highlight .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #B00040 } /* Keyword.Type */
.highlight .m { color: #666666 } /* Literal.Number */
.highlight .s { color: #BA2121 } /* Literal.String */
.highlight .na { color: #7D9029 } /* Name.Attribute */
.highlight .nb { color: #008000 } /* Name.Builtin */
.highlight .nc { color: #0000FF; font-weight: bold } /* Name.Class */
.highlight .no { color: #880000 } /* Name.Constant */
.highlight .nd { color: #AA22FF } /* Name.Decorator */
.highlight .ni { color: #999999; font-weight: bold } /* Name.Entity */
.highlight .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.highlight .nf { color: #0000FF } /* Name.Function */
.highlight .nl { color: #A0A000 } /* Name.Label */
.highlight .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.highlight .nt { color: #008000; font-weight: bold } /* Name.Tag */
.highlight .nv { color: #19177C } /* Name.Variable */
.highlight .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mb { color: #666666 } /* Literal.Number.Bin */
.highlight .mf { color: #666666 } /* Literal.Number.Float */
.highlight .mh { color: #666666 } /* Literal.Number.Hex */
.highlight .mi { color: #666666 } /* Literal.Number.Integer */
.highlight .mo { color: #666666 } /* Literal.Number.Oct */
.highlight .sa { color: #BA2121 } /* Literal.String.Affix */
.highlight .sb { color: #BA2121 } /* Literal.String.Backtick */
.highlight .sc { color: #BA2121 } /* Literal.String.Char */
.highlight .dl { color: #BA2121 } /* Literal.String.Delimiter */
.highlight .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.highlight .s2 { color: #BA2121 } /* Literal.String.Double */
.highlight .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.highlight .sh { color: #BA2121 } /* Literal.String.Heredoc */
.highlight .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.highlight .sx { color: #008000 } /* Literal.String.Other */
.highlight .sr { color: #BB6688 } /* Literal.String.Regex */
.highlight .s1 { color: #BA2121 } /* Literal.String.Single */
.highlight .ss { color: #19177C } /* Literal.String.Symbol */
.highlight .bp { color: #008000 } /* Name.Builtin.Pseudo */
.highlight .fm { color: #0000FF } /* Name.Function.Magic */
.highlight .vc { color: #19177C } /* Name.Variable.Class */
.highlight .vg { color: #19177C } /* Name.Variable.Global */
.highlight .vi { color: #19177C } /* Name.Variable.Instance */
.highlight .vm { color: #19177C } /* Name.Variable.Magic */
.highlight .il { color: #666666 } /* Literal.Number.Integer.Long */</style><div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Introduction">Introduction<a class="anchor-link" href="#Introduction">&#182;</a></h3><p><em>Mastering Metrics</em> by Joshua D. Angrist and Jörn-Steffen Pischke is an accessible introduction to the tools of the econometric trade. Here are my top takeaways from reading the book.</p>
<h4 id="Building-effective-arguments">Building effective arguments<a class="anchor-link" href="#Building-effective-arguments">&#182;</a></h4><p>The authors cover a number of interesting questions in their introduction to econometrics. In developing an answer to these questions, there are some great examples of how to think critically about data and develop arguments. By thinking carefully about the situation and addressing the weaknesses in their arguments, they are able to pre-empt a number of rebuttals and provide stronger and more conclusive answers to the questions they examine. Two examples immediately come to mind:</p>
<ul>
<li>Chapter 2 is devoted to regression and is used to determine whether expensive private colleges are better than state colleges. The authors begin by demonstrating that any advantage conferred by private schools is due to the ambition and ability of its students, as opposed to any advantage intrinsic to private school (such as better teaching). They then follow up by pre-empting an easy rebuttal. Critics could argue that the advantage of private colleges is that you surround yourself with able students. By developing another regression, the authors disprove this hypothesis too.</li>
<li>They use similar argument construction techniques in the regression discontinuity design (RD) chapter. Their causal question pertains to the effect that legal access to alcohol has on death rates. They begin using a RD to study death rates either side of the minimum legal drinking age and demonstrate that death rates increase. They build on this argument by examining the data for deaths linked to alcohol (such as car accidents) and those not linked (such as deaths from cancer and other diseases). They show that the same increase that was observed for general death rates is observed for alcohol-related deaths, but that no difference is found for deaths unlinked to alcohol. In the words of the authors, <blockquote><p>Zero effects on outcomes that should be unchanged by the treatment raise our confidence in the causal effects we are after.</p>
</blockquote>
</li>
</ul>
<h4 id="Is-your-comparison-really-ceteris-paribus?">Is your comparison really <em>ceteris paribus</em>?<a class="anchor-link" href="#Is-your-comparison-really-ceteris-paribus?">&#182;</a></h4><p>The book centres on a series of cause-and-effect questions and attempts to draw causal conclusions. For comparisons to have a causal nature, they must be <em>ceteris paribus</em>. This idea indicates that all other things apart from the variable of interest are equal across the groups being compared. It ensures that we're making an apples-to-apples comparison and are not misled by potential selection bias.</p>
<p>Randomized trials are the gold standard for answering cause and effect questions. When we randomly allocate users to treatment and control groups, we get comparable groups across all covariates - those that are observable and those that are not.</p>
<h4 id="Regression-as-a-tool-for-Causal-Inference">Regression as a tool for Causal Inference<a class="anchor-link" href="#Regression-as-a-tool-for-Causal-Inference">&#182;</a></h4><p>Imagine a world where an individual's salary depended only on their SAT scores and whether they attended a state or private college. In this simplified world, if we could find two individuals, one of whom went to a state college and the other to a private college, but who had the same SAT scores, we could perform a like-for-like comparison. Our comparison would be <em>ceteris paribus</em>. Using this, we could estimate the difference in the individual's salary caused by attending private vs state college. Do this for enough individuals, and we could approximate the average causal effect of private college vs state college attendance.</p>
<p>Regression is a tool that does this matchmaking for us. If you feed it a suitable dataset, it will find matched pairs and produce coefficient values that estimate the effect of the relevant covariates. The challenge with using regression is pairs are only matched for variables included in the regression. Our example that quantified the earnings impact of a state vs private college only controlled for SAT scores. The real world is far more complex, and for regression to provide accurate causal estimates, we must control for all relevant covariates. Only then is our regression <em>ceteris paribus</em>. Clearly, this is challenging for a number of reasons.</p>
<ul>
<li>The world is complex and we may not know what covariates are relevant .</li>
<li>We may not be able to easily quantify all possible selection bias. </li>
</ul>
<p>In the words of the authors:</p>
<blockquote><p>Regression is a way to make other things equal, but equality is generated only for variables included as control on the right-hand side of the model. Failure to include enough controls or the right controls still leaves us with selection bias.</p>
<p>Regression-based causal inference is predicated on the assumption that when key observed variables have been made equal across treatment and control based groups, selection bias from the things we can't see is also mostly eliminated.</p>
</blockquote>
<h4 id="How-to-Interpret-Regression-Formulas">How to Interpret Regression Formulas<a class="anchor-link" href="#How-to-Interpret-Regression-Formulas">&#182;</a></h4><p>Consider a regression where our variable of interest is $X_\text{1i}$, and $X_\text{2i}$ is a controlling variable.</p>
$$ Y_i = \beta_0 + \beta_1 X_\text{1i} + \beta_2 X_\text{2i} + u_i $$<p>It can be shown that the parameter $\beta_1$ can be estimated as
$$ \beta_1 = \frac{Cov(Y, \tilde{X_\text{1i}})}{Var(\tilde{X_\text{1i}})}$$</p>
<p>where the term $\tilde{X_\text{1i}}$ is the residual in the following regression</p>
$$X_\text{1i} = \alpha_0 + \alpha_1 X_\text{2i} + \tilde{X_\text{1i}}$$<p>This result can be extended to a regression with $k$ variables such that</p>
$$ \beta_k = \frac{Cov(Y, \tilde{X_\text{ki}})}{Var(\tilde{X_\text{ki}})}$$<p>What does it mean? It means that the parameter $\beta_k$ for $X_k$ explains the output in $Y$ not explained by another of the other $k - 1$ variables - it is the importance of $X_k$ once you eliminate the influence of the other $k - 1$ variables. This is an important result that helps us interpret $\beta_k$ as the parameter that explains the contribution of $X_k$</p>
<h4 id="The-Omitted-Variable-Formula">The Omitted Variable Formula<a class="anchor-link" href="#The-Omitted-Variable-Formula">&#182;</a></h4><p>We saw above that regression based causal inference only yields <em>ceteris paribus</em> comparisons when all relevant covariates are included. Often, it's hard to quantify and include all these relevant covariates. Or perhaps we didn't have a grasp of the causal mechanics at play and mistakenly excluded a relevant covariate. In that case, we get omitted variable bias. If we exclude a covariate that's correlated with the outcome variable and also correlated with a covariate that's already included in the regression, our regression coefficients are biased. In this scenario, we will incorrectly estimate the impact of a given covariate on the outcome variable.</p>
<p>Let's consider an example. Equation 1 gives a short regression which only includes a treatment variable $T_\text{i}$. Equation 2 includes a controlling variable $X_\text{i}$ as well.</p>
$$Y_i = \alpha^s + \beta^s T_\text{i} + \epsilon^s_i \text{ (1)}$$<p>
$$Y_i = \alpha^l + \beta^l T_\text{i} + \gamma^l X_\text{i} + \epsilon^l_i \text{ (2)}$$</p>
<p>If we exclude a relevant variable, as in regression 1, how biased will our estimate of $\beta^s$ be? As we said above, for our estimate of $\beta^s$ to be biased, there must be some relationship between the treatment variable $T_\text{i}$ and our (omitted) controlling variable $X_\text{i}$ <strong>as well as</strong> a relationship between $X_\text{i}$ and the outcome variable $Y_i$. If there is no relationship in either case, then our estimate for $\beta^s$ in the short regression will be equal to $\beta^l$ in the long regression.</p>
<p>The omitted variable formula enables us to calculate the difference between $\beta^s$ and $\beta^l$ if we include a controlling variable. In words, we have:</p>
$$\beta^s = \beta^l + \text{Relationship between the treatment variable and the omitted variable} * \text{Relationship between the the omitted variable and the outcome variable}$$<p>In equations, we have</p>
$$\text{OVB} = \beta^s - \beta^l = \pi_1 * \gamma^l$$<p>where $\gamma^l$ quantifies the relationship between the omitted variable and the outcome variable (see equation 2), and the parameter $\pi_1$ captures the relationship between the treatment variable and the omitted variable in the auxiliary regression:</p>
$$X_i = \pi_0 + \pi_1 T_i + u_i$$<p>Why is this useful? In the words of the authors</p>
<blockquote><p>The OVB formula is a tool that allows us to consider the impact of control for variables we <em>wish</em> we had. This in turn helps us assess whether <em>ceteris</em> is indeed <em>paribus</em>. ... Careful reasoning about OVB is an essential part of the 'metrics game. We can't use data to check the consequences of omitting variables that we don't observe, but we can use the OVB formula to make an educated guess as to the likely consequences of their omission.</p>
</blockquote>
<h4 id="There's-no-replacement-for-thinking-carefully-about-the-data">There's no replacement for thinking carefully about the data<a class="anchor-link" href="#There's-no-replacement-for-thinking-carefully-about-the-data">&#182;</a></h4><p>This is a theme that stands out throughout the book. Whilst the conclusion may seem obvious, the authors do a great job at communicating this value. It's hard offering an example here, without repeating the contents of the book to offer the necessary context, and that's why you should read the book! But this is a definite takeaway for me.</p>
<h4 id="Other-notable-takeaways">Other notable takeaways<a class="anchor-link" href="#Other-notable-takeaways">&#182;</a></h4><p>A far better understanding of regression discontinuity designs and difference-in-difference.</p>

</div>
</div>
</div>
 


<script type="text/javascript">if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = '//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: 'center'," +
        "    displayIndent: '0em'," +
        "    showMathMenu: true," +
        "    tex2jax: { " +
        "        inlineMath: [ ['$','$'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        " linebreaks: { automatic: true, width: '95% container' }, " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'black ! important'} }" +
        "    } " +
        "}); ";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
</script>

                <div class="clear"></div>

                <div class="info">
                    <a href="/my-top-takeaways-from-mastering-metrics.html">posted at 00:00</a>
                    &nbsp;&middot;
                    &nbsp;<a href="/tag/casual-inference.html" class="tags">Casual Inference</a>
                    &nbsp;<a href="/tag/econometrics.html" class="tags">Econometrics</a>
                </div>
            </article>            <h4 class="date">Dec 13, 2019</h4>

            <article class="post">
                <h2 class="title">
                    <a href="/clustered-sampling-part-1.html" rel="bookmark" title="Permanent Link to &quot;Clustered Sampling Part 1&quot;">Clustered Sampling Part 1</a>
                </h2>

                
                

                <style type="text/css">/*!
*
* IPython notebook
*
*/
/* CSS font colors for translated ANSI escape sequences */
/* The color values are a mix of
   http://www.xcolors.net/dl/baskerville-ivorylight and
   http://www.xcolors.net/dl/euphrasia */
.ansi-black-fg {
  color: #3E424D;
}
.ansi-black-bg {
  background-color: #3E424D;
}
.ansi-black-intense-fg {
  color: #282C36;
}
.ansi-black-intense-bg {
  background-color: #282C36;
}
.ansi-red-fg {
  color: #E75C58;
}
.ansi-red-bg {
  background-color: #E75C58;
}
.ansi-red-intense-fg {
  color: #B22B31;
}
.ansi-red-intense-bg {
  background-color: #B22B31;
}
.ansi-green-fg {
  color: #00A250;
}
.ansi-green-bg {
  background-color: #00A250;
}
.ansi-green-intense-fg {
  color: #007427;
}
.ansi-green-intense-bg {
  background-color: #007427;
}
.ansi-yellow-fg {
  color: #DDB62B;
}
.ansi-yellow-bg {
  background-color: #DDB62B;
}
.ansi-yellow-intense-fg {
  color: #B27D12;
}
.ansi-yellow-intense-bg {
  background-color: #B27D12;
}
.ansi-blue-fg {
  color: #208FFB;
}
.ansi-blue-bg {
  background-color: #208FFB;
}
.ansi-blue-intense-fg {
  color: #0065CA;
}
.ansi-blue-intense-bg {
  background-color: #0065CA;
}
.ansi-magenta-fg {
  color: #D160C4;
}
.ansi-magenta-bg {
  background-color: #D160C4;
}
.ansi-magenta-intense-fg {
  color: #A03196;
}
.ansi-magenta-intense-bg {
  background-color: #A03196;
}
.ansi-cyan-fg {
  color: #60C6C8;
}
.ansi-cyan-bg {
  background-color: #60C6C8;
}
.ansi-cyan-intense-fg {
  color: #258F8F;
}
.ansi-cyan-intense-bg {
  background-color: #258F8F;
}
.ansi-white-fg {
  color: #C5C1B4;
}
.ansi-white-bg {
  background-color: #C5C1B4;
}
.ansi-white-intense-fg {
  color: #A1A6B2;
}
.ansi-white-intense-bg {
  background-color: #A1A6B2;
}
.ansi-default-inverse-fg {
  color: #FFFFFF;
}
.ansi-default-inverse-bg {
  background-color: #000000;
}
.ansi-bold {
  font-weight: bold;
}
.ansi-underline {
  text-decoration: underline;
}
/* The following styles are deprecated an will be removed in a future version */
.ansibold {
  font-weight: bold;
}
.ansi-inverse {
  outline: 0.5px dotted;
}
/* use dark versions for foreground, to improve visibility */
.ansiblack {
  color: black;
}
.ansired {
  color: darkred;
}
.ansigreen {
  color: darkgreen;
}
.ansiyellow {
  color: #c4a000;
}
.ansiblue {
  color: darkblue;
}
.ansipurple {
  color: darkviolet;
}
.ansicyan {
  color: steelblue;
}
.ansigray {
  color: gray;
}
/* and light for background, for the same reason */
.ansibgblack {
  background-color: black;
}
.ansibgred {
  background-color: red;
}
.ansibggreen {
  background-color: green;
}
.ansibgyellow {
  background-color: yellow;
}
.ansibgblue {
  background-color: blue;
}
.ansibgpurple {
  background-color: magenta;
}
.ansibgcyan {
  background-color: cyan;
}
.ansibggray {
  background-color: gray;
}
div.cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  border-radius: 2px;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  border-width: 1px;
  border-style: solid;
  border-color: transparent;
  width: 100%;
  padding: 5px;
  /* This acts as a spacer between cells, that is outside the border */
  margin: 0px;
  outline: none;
  position: relative;
  overflow: visible;
}
div.cell:before {
  position: absolute;
  display: block;
  top: -1px;
  left: -1px;
  width: 5px;
  height: calc(100% +  2px);
  content: '';
  background: transparent;
}
div.cell.jupyter-soft-selected {
  border-left-color: #E3F2FD;
  border-left-width: 1px;
  padding-left: 5px;
  border-right-color: #E3F2FD;
  border-right-width: 1px;
  background: #E3F2FD;
}
@media print {
  div.cell.jupyter-soft-selected {
    border-color: transparent;
  }
}
div.cell.selected,
div.cell.selected.jupyter-soft-selected {
  border-color: #ababab;
}
div.cell.selected:before,
div.cell.selected.jupyter-soft-selected:before {
  position: absolute;
  display: block;
  top: -1px;
  left: -1px;
  width: 5px;
  height: calc(100% +  2px);
  content: '';
  background: #42A5F5;
}
@media print {
  div.cell.selected,
  div.cell.selected.jupyter-soft-selected {
    border-color: transparent;
  }
}
.edit_mode div.cell.selected {
  border-color: #66BB6A;
}
.edit_mode div.cell.selected:before {
  position: absolute;
  display: block;
  top: -1px;
  left: -1px;
  width: 5px;
  height: calc(100% +  2px);
  content: '';
  background: #66BB6A;
}
@media print {
  .edit_mode div.cell.selected {
    border-color: transparent;
  }
}
.prompt {
  /* This needs to be wide enough for 3 digit prompt numbers: In[100]: */
  min-width: 14ex;
  /* This padding is tuned to match the padding on the CodeMirror editor. */
  padding: 0.4em;
  margin: 0px;
  font-family: monospace;
  text-align: right;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
  /* Don't highlight prompt number selection */
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  /* Use default cursor */
  cursor: default;
}
@media (max-width: 540px) {
  .prompt {
    text-align: left;
  }
}
div.inner_cell {
  min-width: 0;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_area {
  border: 1px solid #cfcfcf;
  border-radius: 2px;
  background: #f7f7f7;
  line-height: 1.21429em;
}
/* This is needed so that empty prompt areas can collapse to zero height when there
   is no content in the output_subarea and the prompt. The main purpose of this is
   to make sure that empty JavaScript output_subareas have no height. */
div.prompt:empty {
  padding-top: 0;
  padding-bottom: 0;
}
div.unrecognized_cell {
  padding: 5px 5px 5px 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.unrecognized_cell .inner_cell {
  border-radius: 2px;
  padding: 5px;
  font-weight: bold;
  color: red;
  border: 1px solid #cfcfcf;
  background: #eaeaea;
}
div.unrecognized_cell .inner_cell a {
  color: inherit;
  text-decoration: none;
}
div.unrecognized_cell .inner_cell a:hover {
  color: inherit;
  text-decoration: none;
}
@media (max-width: 540px) {
  div.unrecognized_cell > div.prompt {
    display: none;
  }
}
div.code_cell {
  /* avoid page breaking on code cells when printing */
}
@media print {
  div.code_cell {
    page-break-inside: avoid;
  }
}
/* any special styling for code cells that are currently running goes here */
div.input {
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.input {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_prompt {
  color: #303F9F;
  border-top: 1px solid transparent;
}
div.input_area > div.highlight {
  margin: 0.4em;
  border: none;
  padding: 0px;
  background-color: transparent;
}
div.input_area > div.highlight > pre {
  margin: 0px;
  border: none;
  padding: 0px;
  background-color: transparent;
}
/* The following gets added to the <head> if it is detected that the user has a
 * monospace font with inconsistent normal/bold/italic height.  See
 * notebookmain.js.  Such fonts will have keywords vertically offset with
 * respect to the rest of the text.  The user should select a better font.
 * See: https://github.com/ipython/ipython/issues/1503
 *
 * .CodeMirror span {
 *      vertical-align: bottom;
 * }
 */
.CodeMirror {
  line-height: 1.21429em;
  /* Changed from 1em to our global default */
  font-size: 14px;
  height: auto;
  /* Changed to auto to autogrow */
  background: none;
  /* Changed from white to allow our bg to show through */
}
.CodeMirror-scroll {
  /*  The CodeMirror docs are a bit fuzzy on if overflow-y should be hidden or visible.*/
  /*  We have found that if it is visible, vertical scrollbars appear with font size changes.*/
  overflow-y: hidden;
  overflow-x: auto;
}
.CodeMirror-lines {
  /* In CM2, this used to be 0.4em, but in CM3 it went to 4px. We need the em value because */
  /* we have set a different line-height and want this to scale with that. */
  /* Note that this should set vertical padding only, since CodeMirror assumes
       that horizontal padding will be set on CodeMirror pre */
  padding: 0.4em 0;
}
.CodeMirror-linenumber {
  padding: 0 8px 0 4px;
}
.CodeMirror-gutters {
  border-bottom-left-radius: 2px;
  border-top-left-radius: 2px;
}
.CodeMirror pre {
  /* In CM3 this went to 4px from 0 in CM2. This sets horizontal padding only,
    use .CodeMirror-lines for vertical */
  padding: 0 0.4em;
  border: 0;
  border-radius: 0;
}
.CodeMirror-cursor {
  border-left: 1.4px solid black;
}
@media screen and (min-width: 2138px) and (max-width: 4319px) {
  .CodeMirror-cursor {
    border-left: 2px solid black;
  }
}
@media screen and (min-width: 4320px) {
  .CodeMirror-cursor {
    border-left: 4px solid black;
  }
}
/*

Original style from softwaremaniacs.org (c) Ivan Sagalaev <Maniac@SoftwareManiacs.Org>
Adapted from GitHub theme

*/
.highlight-base {
  color: #000;
}
.highlight-variable {
  color: #000;
}
.highlight-variable-2 {
  color: #1a1a1a;
}
.highlight-variable-3 {
  color: #333333;
}
.highlight-string {
  color: #BA2121;
}
.highlight-comment {
  color: #408080;
  font-style: italic;
}
.highlight-number {
  color: #080;
}
.highlight-atom {
  color: #88F;
}
.highlight-keyword {
  color: #008000;
  font-weight: bold;
}
.highlight-builtin {
  color: #008000;
}
.highlight-error {
  color: #f00;
}
.highlight-operator {
  color: #AA22FF;
  font-weight: bold;
}
.highlight-meta {
  color: #AA22FF;
}
/* previously not defined, copying from default codemirror */
.highlight-def {
  color: #00f;
}
.highlight-string-2 {
  color: #f50;
}
.highlight-qualifier {
  color: #555;
}
.highlight-bracket {
  color: #997;
}
.highlight-tag {
  color: #170;
}
.highlight-attribute {
  color: #00c;
}
.highlight-header {
  color: blue;
}
.highlight-quote {
  color: #090;
}
.highlight-link {
  color: #00c;
}
/* apply the same style to codemirror */
.cm-s-ipython span.cm-keyword {
  color: #008000;
  font-weight: bold;
}
.cm-s-ipython span.cm-atom {
  color: #88F;
}
.cm-s-ipython span.cm-number {
  color: #080;
}
.cm-s-ipython span.cm-def {
  color: #00f;
}
.cm-s-ipython span.cm-variable {
  color: #000;
}
.cm-s-ipython span.cm-operator {
  color: #AA22FF;
  font-weight: bold;
}
.cm-s-ipython span.cm-variable-2 {
  color: #1a1a1a;
}
.cm-s-ipython span.cm-variable-3 {
  color: #333333;
}
.cm-s-ipython span.cm-comment {
  color: #408080;
  font-style: italic;
}
.cm-s-ipython span.cm-string {
  color: #BA2121;
}
.cm-s-ipython span.cm-string-2 {
  color: #f50;
}
.cm-s-ipython span.cm-meta {
  color: #AA22FF;
}
.cm-s-ipython span.cm-qualifier {
  color: #555;
}
.cm-s-ipython span.cm-builtin {
  color: #008000;
}
.cm-s-ipython span.cm-bracket {
  color: #997;
}
.cm-s-ipython span.cm-tag {
  color: #170;
}
.cm-s-ipython span.cm-attribute {
  color: #00c;
}
.cm-s-ipython span.cm-header {
  color: blue;
}
.cm-s-ipython span.cm-quote {
  color: #090;
}
.cm-s-ipython span.cm-link {
  color: #00c;
}
.cm-s-ipython span.cm-error {
  color: #f00;
}
.cm-s-ipython span.cm-tab {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAMCAYAAAAkuj5RAAAAAXNSR0IArs4c6QAAAGFJREFUSMft1LsRQFAQheHPowAKoACx3IgEKtaEHujDjORSgWTH/ZOdnZOcM/sgk/kFFWY0qV8foQwS4MKBCS3qR6ixBJvElOobYAtivseIE120FaowJPN75GMu8j/LfMwNjh4HUpwg4LUAAAAASUVORK5CYII=);
  background-position: right;
  background-repeat: no-repeat;
}
div.output_wrapper {
  /* this position must be relative to enable descendents to be absolute within it */
  position: relative;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  z-index: 1;
}
/* class for the output area when it should be height-limited */
div.output_scroll {
  /* ideally, this would be max-height, but FF barfs all over that */
  height: 24em;
  /* FF needs this *and the wrapper* to specify full width, or it will shrinkwrap */
  width: 100%;
  overflow: auto;
  border-radius: 2px;
  -webkit-box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  display: block;
}
/* output div while it is collapsed */
div.output_collapsed {
  margin: 0px;
  padding: 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
div.out_prompt_overlay {
  height: 100%;
  padding: 0px 0.4em;
  position: absolute;
  border-radius: 2px;
}
div.out_prompt_overlay:hover {
  /* use inner shadow to get border that is computed the same on WebKit/FF */
  -webkit-box-shadow: inset 0 0 1px #000;
  box-shadow: inset 0 0 1px #000;
  background: rgba(240, 240, 240, 0.5);
}
div.output_prompt {
  color: #D84315;
}
/* This class is the outer container of all output sections. */
div.output_area {
  padding: 0px;
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.output_area .MathJax_Display {
  text-align: left !important;
}
div.output_area 
div.output_area 
div.output_area img,
div.output_area svg {
  max-width: 100%;
  height: auto;
}
div.output_area img.unconfined,
div.output_area svg.unconfined {
  max-width: none;
}
div.output_area .mglyph > img {
  max-width: none;
}
/* This is needed to protect the pre formating from global settings such
   as that of bootstrap */
.output {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.output_area {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
div.output_area pre {
  margin: 0;
  padding: 1px 0 1px 0;
  border: 0;
  vertical-align: baseline;
  color: black;
  background-color: transparent;
  border-radius: 0;
}
/* This class is for the output subarea inside the output_area and after
   the prompt div. */
div.output_subarea {
  overflow-x: auto;
  padding: 0.4em;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
  max-width: calc(100% - 14ex);
}
div.output_scroll div.output_subarea {
  overflow-x: visible;
}
/* The rest of the output_* classes are for special styling of the different
   output types */
/* all text output has this class: */
div.output_text {
  text-align: left;
  color: #000;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
}
/* stdout/stderr are 'text' as well as 'stream', but execute_result/error are *not* streams */
div.output_stderr {
  background: #fdd;
  /* very light red background for stderr */
}
div.output_latex {
  text-align: left;
}
/* Empty output_javascript divs should have no height */
div.output_javascript:empty {
  padding: 0;
}
.js-error {
  color: darkred;
}
/* raw_input styles */
div.raw_input_container {
  line-height: 1.21429em;
  padding-top: 5px;
}
pre.raw_input_prompt {
  /* nothing needed here. */
}
input.raw_input {
  font-family: monospace;
  font-size: inherit;
  color: inherit;
  width: auto;
  /* make sure input baseline aligns with prompt */
  vertical-align: baseline;
  /* padding + margin = 0.5em between prompt and cursor */
  padding: 0em 0.25em;
  margin: 0em 0.25em;
}
input.raw_input:focus {
  box-shadow: none;
}
p.p-space {
  margin-bottom: 10px;
}
div.output_unrecognized {
  padding: 5px;
  font-weight: bold;
  color: red;
}
div.output_unrecognized a {
  color: inherit;
  text-decoration: none;
}
div.output_unrecognized a:hover {
  color: inherit;
  text-decoration: none;
}
.rendered_html {
  color: #000;
  /* any extras will just be numbers: */
}



.rendered_html :link {
  text-decoration: underline;
}
.rendered_html :visited {
  text-decoration: underline;
}






.rendered_html h1:first-child {
  margin-top: 0.538em;
}
.rendered_html h2:first-child {
  margin-top: 0.636em;
}
.rendered_html h3:first-child {
  margin-top: 0.777em;
}
.rendered_html h4:first-child {
  margin-top: 1em;
}
.rendered_html h5:first-child {
  margin-top: 1em;
}
.rendered_html h6:first-child {
  margin-top: 1em;
}
.rendered_html ul:not(.list-inline),
.rendered_html ol:not(.list-inline) {
  padding-left: 2em;
}








.rendered_html * + ul {
  margin-top: 1em;
}
.rendered_html * + ol {
  margin-top: 1em;
}





.rendered_html pre,




.rendered_html tr,
.rendered_html th,


.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}
.rendered_html * + table {
  margin-top: 1em;
}

.rendered_html * + p {
  margin-top: 1em;
}

.rendered_html * + img {
  margin-top: 1em;
}
.rendered_html img,

.rendered_html img.unconfined,


.rendered_html * + .alert {
  margin-top: 1em;
}
[dir="rtl"] 
div.text_cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.text_cell > div.prompt {
    display: none;
  }
}
div.text_cell_render {
  /*font-family: "Helvetica Neue", Arial, Helvetica, Geneva, sans-serif;*/
  outline: none;
  resize: none;
  width: inherit;
  border-style: none;
  padding: 0.5em 0.5em 0.5em 0.4em;
  color: #000;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
}
a.anchor-link:link {
  text-decoration: none;
  padding: 0px 20px;
  visibility: hidden;
}
h1:hover .anchor-link,
h2:hover .anchor-link,
h3:hover .anchor-link,
h4:hover .anchor-link,
h5:hover .anchor-link,
h6:hover .anchor-link {
  visibility: visible;
}
.text_cell.rendered .input_area {
  display: none;
}
.text_cell.rendered 
.text_cell.rendered .rendered_html tr,
.text_cell.rendered .rendered_html th,
.text_cell.rendered 
.text_cell.unrendered .text_cell_render {
  display: none;
}
.text_cell .dropzone .input_area {
  border: 2px dashed #bababa;
  margin: -1px;
}
.cm-header-1,
.cm-header-2,
.cm-header-3,
.cm-header-4,
.cm-header-5,
.cm-header-6 {
  font-weight: bold;
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
}
.cm-header-1 {
  font-size: 185.7%;
}
.cm-header-2 {
  font-size: 157.1%;
}
.cm-header-3 {
  font-size: 128.6%;
}
.cm-header-4 {
  font-size: 110%;
}
.cm-header-5 {
  font-size: 100%;
  font-style: italic;
}
.cm-header-6 {
  font-size: 100%;
  font-style: italic;
}
</style>
<style type="text/css">.highlight .hll { background-color: #ffffcc }
.highlight  { background: #f8f8f8; }
.highlight .c { color: #408080; font-style: italic } /* Comment */
.highlight .err { border: 1px solid #FF0000 } /* Error */
.highlight .k { color: #008000; font-weight: bold } /* Keyword */
.highlight .o { color: #666666 } /* Operator */
.highlight .ch { color: #408080; font-style: italic } /* Comment.Hashbang */
.highlight .cm { color: #408080; font-style: italic } /* Comment.Multiline */
.highlight .cp { color: #BC7A00 } /* Comment.Preproc */
.highlight .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */
.highlight .c1 { color: #408080; font-style: italic } /* Comment.Single */
.highlight .cs { color: #408080; font-style: italic } /* Comment.Special */
.highlight .gd { color: #A00000 } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gr { color: #FF0000 } /* Generic.Error */
.highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #00A000 } /* Generic.Inserted */
.highlight .go { color: #888888 } /* Generic.Output */
.highlight .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #0044DD } /* Generic.Traceback */
.highlight .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #008000 } /* Keyword.Pseudo */
.highlight .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #B00040 } /* Keyword.Type */
.highlight .m { color: #666666 } /* Literal.Number */
.highlight .s { color: #BA2121 } /* Literal.String */
.highlight .na { color: #7D9029 } /* Name.Attribute */
.highlight .nb { color: #008000 } /* Name.Builtin */
.highlight .nc { color: #0000FF; font-weight: bold } /* Name.Class */
.highlight .no { color: #880000 } /* Name.Constant */
.highlight .nd { color: #AA22FF } /* Name.Decorator */
.highlight .ni { color: #999999; font-weight: bold } /* Name.Entity */
.highlight .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.highlight .nf { color: #0000FF } /* Name.Function */
.highlight .nl { color: #A0A000 } /* Name.Label */
.highlight .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.highlight .nt { color: #008000; font-weight: bold } /* Name.Tag */
.highlight .nv { color: #19177C } /* Name.Variable */
.highlight .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mb { color: #666666 } /* Literal.Number.Bin */
.highlight .mf { color: #666666 } /* Literal.Number.Float */
.highlight .mh { color: #666666 } /* Literal.Number.Hex */
.highlight .mi { color: #666666 } /* Literal.Number.Integer */
.highlight .mo { color: #666666 } /* Literal.Number.Oct */
.highlight .sa { color: #BA2121 } /* Literal.String.Affix */
.highlight .sb { color: #BA2121 } /* Literal.String.Backtick */
.highlight .sc { color: #BA2121 } /* Literal.String.Char */
.highlight .dl { color: #BA2121 } /* Literal.String.Delimiter */
.highlight .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.highlight .s2 { color: #BA2121 } /* Literal.String.Double */
.highlight .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.highlight .sh { color: #BA2121 } /* Literal.String.Heredoc */
.highlight .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.highlight .sx { color: #008000 } /* Literal.String.Other */
.highlight .sr { color: #BB6688 } /* Literal.String.Regex */
.highlight .s1 { color: #BA2121 } /* Literal.String.Single */
.highlight .ss { color: #19177C } /* Literal.String.Symbol */
.highlight .bp { color: #008000 } /* Name.Builtin.Pseudo */
.highlight .fm { color: #0000FF } /* Name.Function.Magic */
.highlight .vc { color: #19177C } /* Name.Variable.Class */
.highlight .vg { color: #19177C } /* Name.Variable.Global */
.highlight .vi { color: #19177C } /* Name.Variable.Instance */
.highlight .vm { color: #19177C } /* Name.Variable.Magic */
.highlight .il { color: #666666 } /* Literal.Number.Integer.Long */</style><div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Introduction">Introduction<a class="anchor-link" href="#Introduction">&#182;</a></h3><p>This is part one of a two-part blog series exploring clustered sampling.</p>
<ul>
<li>In this first part, I want to introduce an example that we'll use to motivate clustered sampling.</li>
<li>The second part will address how we can overcome the problem described in part one to produce robust analysis.</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Motivation">Motivation<a class="anchor-link" href="#Motivation">&#182;</a></h3><p>I'll take an example from Deliveroo. Deliveroo enables customers to order takeaway food from a range of restaurants and track their order until it's delivered. This tracking is shown to customers via the order tracker. Whenever we make changes to this product surface, one of the metrics that is typically monitored is the number of CS contacts per order, defined as the number of CS contacts divided by the number of orders.</p>
<p>Commonly, experiments on this part of the app are randomised on some <code>user_id</code>, referred to as the unit of diversion. Our metric however is an order-level metric - in this case, an <code>order</code> is referred to as the unit of analysis. When the unit of diversion and the unit of analysis are different, the independence assumption implicit in many statistical tests can be violated leading to unreliable results (<a href="https://towardsdatascience.com/the-second-ghost-of-experimentation-the-fallacy-of-session-based-metrics-fb65006d30ff">See Skyscanner blog post for more details</a>). For intuition, we can imagine that the likelihood that a customer contacts CS is correlated across their orders; because of this, each order is not independent and an assumption of a standard statistical test has been violated.</p>
<p>In this blog post, I will simulate some data to aid us in understanding how this type of experimental setup can complicate our inference. I will simulate an experiment where $\frac{\text{CS Contacts}}{\text{Orders}}$ is our test metric and traffic is diverted to either group using a user_id. We'll use the bootstrap technique to construct a sampling distribution for two experiments - one, where the unit of diversion and the unit of analysis are the same and one where they are different. We'll compare this sampling distribution against the expected sampling distribution when we use the analytical variability and explore the issues that arise when we don't account for different units of diversion and analysis.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Import-Libraries">Import Libraries<a class="anchor-link" href="#Import-Libraries">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[1]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">scipy</span> <span class="k">import</span> <span class="n">stats</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">matplotlib.mlab</span> <span class="k">as</span> <span class="nn">mlab</span>
<span class="o">%</span><span class="k">matplotlib</span> inline
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[2]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># suppress future &amp; Matplotlib Deprecation warning</span>
<span class="kn">import</span> <span class="nn">warnings</span>
<span class="kn">import</span> <span class="nn">matplotlib.cbook</span>
<span class="n">warnings</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s2">&quot;ignore&quot;</span><span class="p">,</span><span class="n">category</span><span class="o">=</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">cbook</span><span class="o">.</span><span class="n">mplDeprecation</span><span class="p">)</span>

<span class="n">warnings</span><span class="o">.</span><span class="n">simplefilter</span><span class="p">(</span><span class="n">action</span><span class="o">=</span><span class="s1">&#39;ignore&#39;</span><span class="p">,</span> <span class="n">category</span><span class="o">=</span><span class="ne">FutureWarning</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Define-some-helper-functions">Define some helper functions<a class="anchor-link" href="#Define-some-helper-functions">&#182;</a></h3><p>The first two functions are used to generate our datasets. The following functions are used to generate the plots.</p>
<ul>
<li><code>generate_data</code>: a function to generate some synthetic data. </li>
<li><p><code>transform_data</code>: a function that converts between user-level and order-level data</p>
</li>
<li><p><code>get_theoretical_data</code>: a function that outputs the theoretically expected sampling distribution</p>
</li>
<li><code>calculate_theoretical_ci</code>: a function that outputs the theoretically expected confidence intervals</li>
<li><code>calculate_unlikely_result</code>: a function that calculates the false positive rate when compared against the analytical result</li>
<li><code>plot_sampling_dist</code>: a function that plots the sampling distribution</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[3]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">generate_data</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">mu</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Randomly generate data</span>
<span class="sd">    </span>
<span class="sd">    n: number of users</span>
<span class="sd">    mu: parameterizes number of orders placed</span>
<span class="sd">    p: parameterizes number of cs contacts made</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">user_id</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">util</span><span class="o">.</span><span class="n">testing</span><span class="o">.</span><span class="n">rands_array</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span> <span class="c1"># random key for each user</span>
    <span class="n">orders</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">cs_contacts</span> <span class="o">=</span> <span class="p">[]</span>
    
    <span class="c1"># for each user, generate a random number of orders and CS contacts</span>
    <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">user_id</span><span class="p">:</span>
        <span class="n">num_orders</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">poisson</span><span class="o">.</span><span class="n">rvs</span><span class="p">(</span><span class="n">mu</span><span class="p">)</span>
        <span class="n">user_orders</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="n">e</span><span class="p">,</span> <span class="n">num_orders</span><span class="p">)</span>
        <span class="n">user_cs_contacts</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">bernoulli</span><span class="o">.</span><span class="n">rvs</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">num_orders</span><span class="p">)</span>
        
        <span class="n">orders</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">orders</span><span class="p">,</span> <span class="n">user_orders</span><span class="p">)</span>
        <span class="n">cs_contacts</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cs_contacts</span><span class="p">,</span> <span class="n">user_cs_contacts</span><span class="p">)</span>

    <span class="c1"># return a DataFrame</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">stack</span><span class="p">([</span><span class="n">orders</span><span class="p">,</span> <span class="n">cs_contacts</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;userid&#39;</span><span class="p">,</span> <span class="s1">&#39;cs_contacts&#39;</span><span class="p">],</span> <span class="n">index</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">df</span><span class="p">[</span><span class="s1">&#39;cs_contacts&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;cs_contacts&#39;</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">df</span>

<span class="k">def</span> <span class="nf">transform_data</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
    <span class="n">user_data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;userid&#39;</span><span class="p">)[</span><span class="s1">&#39;cs_contacts&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">agg</span><span class="p">([</span><span class="s1">&#39;count&#39;</span><span class="p">,</span> <span class="s1">&#39;sum&#39;</span><span class="p">])</span>
    <span class="n">user_data</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;orders&#39;</span><span class="p">,</span> <span class="s1">&#39;cs_contacts&#39;</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">user_data</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[4]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">get_theoretical_data</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">sample_size</span><span class="p">):</span>
    <span class="n">mean</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">cs_contacts</span><span class="p">)</span>
    <span class="n">se</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">mean</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">mean</span><span class="p">)</span><span class="o">/</span><span class="n">sample_size</span><span class="p">)</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="n">mean</span> <span class="o">-</span> <span class="mi">3</span><span class="o">*</span><span class="n">se</span><span class="p">,</span> <span class="n">mean</span> <span class="o">+</span> <span class="mi">3</span><span class="o">*</span><span class="n">se</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">norm</span><span class="o">.</span><span class="n">pdf</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">mean</span><span class="p">,</span> <span class="n">se</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">calculate_theoretical_ci</span> <span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">sample_size</span><span class="p">):</span>
    <span class="n">mean</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">cs_contacts</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
    <span class="n">se</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">mean</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">mean</span><span class="p">)</span><span class="o">/</span><span class="n">sample_size</span><span class="p">)</span>
    <span class="n">z</span> <span class="o">=</span> <span class="mf">1.96</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">mean</span> <span class="o">-</span> <span class="n">z</span><span class="o">*</span><span class="n">se</span><span class="p">,</span> <span class="n">mean</span> <span class="o">+</span> <span class="n">z</span><span class="o">*</span><span class="n">se</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">calculate_unlikely_result</span> <span class="p">(</span><span class="n">boot_data</span><span class="p">,</span> <span class="n">ci_theoretical</span><span class="p">):</span>
    <span class="n">lower</span> <span class="o">=</span> <span class="n">ci_theoretical</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">upper</span> <span class="o">=</span> <span class="n">ci_theoretical</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">significant</span> <span class="o">=</span> <span class="p">[</span><span class="n">e</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">boot_data</span> <span class="k">if</span> <span class="n">e</span> <span class="o">&lt;=</span> <span class="n">lower</span> <span class="ow">or</span> <span class="n">e</span> <span class="o">&gt;=</span> <span class="n">upper</span><span class="p">]</span>
    <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">significant</span><span class="p">)</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">boot_data</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">plot_sampling_dist</span><span class="p">(</span><span class="n">boot_orders</span><span class="p">,</span> <span class="n">boot_users</span><span class="p">,</span> <span class="n">df_orders</span><span class="p">,</span> <span class="n">sample_size</span><span class="p">):</span>
    <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
    <span class="n">sns</span><span class="o">.</span><span class="n">distplot</span><span class="p">(</span><span class="n">boot_orders</span><span class="p">,</span> <span class="n">hist</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Order Randomisation&#39;</span><span class="p">,</span> <span class="n">hist_kws</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;alpha&quot;</span><span class="p">:</span><span class="mf">0.5</span><span class="p">});</span>
    <span class="n">sns</span><span class="o">.</span><span class="n">distplot</span><span class="p">(</span><span class="n">boot_users</span><span class="p">,</span> <span class="n">hist</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;User Randomisation&#39;</span><span class="p">,</span> <span class="n">hist_kws</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;alpha&quot;</span><span class="p">:</span><span class="mf">0.5</span><span class="p">});</span>
    
    <span class="c1"># get theoretical distribution</span>
    <span class="c1"># use average CS contacts rate from order level data</span>
    <span class="n">x</span><span class="p">,</span><span class="n">y</span> <span class="o">=</span> <span class="n">get_theoretical_data</span><span class="p">(</span><span class="n">df_orders</span><span class="p">,</span> <span class="n">sample_size</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Theoretical Variance&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;best&#39;</span><span class="p">);</span>

    <span class="c1"># labels</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Frequency&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;CS Contact Rate&#39;</span><span class="p">)</span>
    
    <span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.3</span><span class="p">);</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Let's-create-our-dataset">Let's create our dataset<a class="anchor-link" href="#Let's-create-our-dataset">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[5]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">create_dataset</span><span class="p">():</span>
    <span class="n">N</span> <span class="o">=</span> <span class="p">[</span><span class="mi">3750</span><span class="p">,</span> <span class="mi">4500</span><span class="p">,</span> <span class="mi">30</span><span class="p">]</span>
    <span class="n">mus</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.5</span><span class="p">,</span> <span class="mf">1.2</span><span class="p">,</span> <span class="mi">50</span><span class="p">]</span>
    <span class="n">p_values</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">]</span>
    <span class="n">group</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">]</span>

    <span class="n">orders</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">n</span><span class="p">,</span> <span class="n">mu</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">g</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">N</span><span class="p">,</span> <span class="n">mus</span><span class="p">,</span> <span class="n">p_values</span><span class="p">,</span> <span class="n">group</span><span class="p">):</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">generate_data</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">mu</span><span class="p">,</span> <span class="n">p</span><span class="p">)</span>
        <span class="n">data</span><span class="p">[</span><span class="s1">&#39;group&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">g</span>
        <span class="n">orders</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

    <span class="n">df_orders</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">orders</span><span class="p">)</span>
    <span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;order_id&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">df_orders</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">df_orders</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[6]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_orders</span> <span class="o">=</span> <span class="n">create_dataset</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Let's have a glance at our data</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[9]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span> <span class="p">(</span><span class="s2">&quot;Number of orders </span><span class="si">{}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">df_orders</span><span class="p">)))</span>
<span class="nb">print</span> <span class="p">(</span><span class="n">df_orders</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Number of orders 12525

                 userid  cs_contacts group  order_id
0  ZAXhsdOITwD8iUh1tkB3          0.0     A         0
1  ZAXhsdOITwD8iUh1tkB3          1.0     A         1
2  Yy5tOVJX3MBlnXKkcKGz          0.0     A         2
3  qW62p0TjecSLx8RauhHJ          0.0     A         3
4  4HpqT8CZlOWPKf5Hct2E          0.0     A         4
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Convert the order-level data to user-level data</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[10]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_users</span> <span class="o">=</span> <span class="n">transform_data</span><span class="p">(</span><span class="n">df_orders</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[11]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span> <span class="p">(</span><span class="s2">&quot;Number of users </span><span class="si">{}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">df_users</span><span class="p">)))</span>
<span class="nb">print</span> <span class="p">(</span><span class="n">df_users</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Number of users 6083

                      orders  cs_contacts
userid                                   
01ZHC1el3DVk6Q4TKj3S       1          0.0
01y2GdI19n8gRh3WvIGA       3          1.0
02BFzufL9airYIgtTrcj       2          1.0
02LTE8q7JQJeV5T9FY0P       3          1.0
02vNujKXi0yE0jZDiAUt       3          0.0
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Print out the order and user-level CS contact rate</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[12]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">user_conversion</span> <span class="o">=</span> <span class="n">df_users</span><span class="o">.</span><span class="n">cs_contacts</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="o">/</span> <span class="n">df_users</span><span class="o">.</span><span class="n">orders</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

<span class="nb">print</span> <span class="p">(</span><span class="s2">&quot;Session level conversion: </span><span class="si">{:.2f}</span><span class="s2"> %&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mi">100</span> <span class="o">*</span> <span class="n">df_orders</span><span class="o">.</span><span class="n">cs_contacts</span><span class="o">.</span><span class="n">mean</span><span class="p">()))</span>
<span class="nb">print</span> <span class="p">(</span><span class="s2">&quot;User level conversion: </span><span class="si">{:.2f}</span><span class="s2"> %&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mi">100</span> <span class="o">*</span> <span class="n">user_conversion</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Session level conversion: 27.25 %
User level conversion: 27.25 %
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Simulate-an-Experiment">Simulate an Experiment<a class="anchor-link" href="#Simulate-an-Experiment">&#182;</a></h3><p>Now we want to simulate an experiment whereby we randomly sample users or orders, construct the sampling distribution and compare the standard error of this distribution to the theoretical number we would expect. We can do this in two ways:</p>
<ul>
<li><strong>By randomly selecting orders</strong>: under this scheme, each order is treated as if independent.</li>
<li><strong>By randomly selecting users</strong>: this mimics the experimental setup described in the introduction; selecting users (using a <code>user_id</code>) but using order-level metrics.</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[16]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">n_simulations</span> <span class="o">=</span> <span class="mi">5000</span>
<span class="n">sample_size</span> <span class="o">=</span> <span class="mi">2000</span>

<span class="c1"># use the bootstrap technique to simulate sampling distribution</span>
<span class="n">boot_orders</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_simulations</span><span class="p">):</span>
    <span class="n">sample</span> <span class="o">=</span> <span class="n">df_orders</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="n">sample_size</span><span class="p">,</span> <span class="n">replace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">sample_mean</span> <span class="o">=</span> <span class="n">sample</span><span class="o">.</span><span class="n">cs_contacts</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
    <span class="n">boot_orders</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">sample_mean</span><span class="p">)</span>

<span class="c1"># repeat the same for users</span>
<span class="n">boot_users</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_simulations</span><span class="p">):</span>
    <span class="n">sample</span> <span class="o">=</span> <span class="n">df_users</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="n">sample_size</span><span class="p">,</span> <span class="n">replace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">sample_mean</span> <span class="o">=</span> <span class="n">sample</span><span class="o">.</span><span class="n">cs_contacts</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="o">/</span> <span class="n">sample</span><span class="o">.</span><span class="n">orders</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
    <span class="n">boot_users</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">sample_mean</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Plotted below are three sampling distributions:</p>
<ul>
<li>The theoretical sampling distribution.</li>
<li>The sampling distribution when randomising on sessions.</li>
<li>The sampling distribution when randomising on users.</li>
</ul>
<p>The theoretical and order-randomised distributions follow each other very closely - this makes sense because the independence assumption is satisfied. The user-randomised distribution, on the other hand, is far wider than the theoretical distribution.</p>
<p>Whilst our estimates are unbiased for both the order-randomised and user-randomised distributions, it's clear that there's considerable scope for errors in our inference if we assume the theoretical variance shown in the dotted black line, whereas in reality we have a the user-randomised sampling distribution.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[17]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">plot_sampling_dist</span><span class="p">(</span><span class="n">boot_orders</span><span class="p">,</span> <span class="n">boot_users</span><span class="p">,</span> <span class="n">df_orders</span><span class="p">,</span> <span class="n">sample_size</span><span class="p">);</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>




<div class="output_png output_subarea ">
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAmEAAAF3CAYAAADtkpxQAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAADl0RVh0U29mdHdhcmUAbWF0cGxvdGxpYiB2ZXJzaW9uIDMuMC4yLCBodHRwOi8vbWF0cGxvdGxpYi5vcmcvOIA7rQAAIABJREFUeJzs3Xd8leX9//HXlZNxkpBFwsgAEjZkApElINNZUVQcrRa06s9tra1atVVr7VdbqtZR6yxqraNSRK3WCbI3YYURZEZCICGD7JyT+/dH4FQkkAA5uU+S9/PxyMNz7nPf1/3OZQgfrvu6r9tYloWIiIiItCw/uwOIiIiItEcqwkRERERsoCJMRERExAYqwkRERERsoCJMRERExAYqwkRERERsoCJMRERExAYqwkRERERsoCJMRERExAYqwkRERERs4G93gKaIiYmxEhMTj9nucrnw928V34Jt1Ecnpv5pnPqoceqjxqmPTkz907jW1EerVq0qsCyrU2P7tYrvJjExkZUrVx6zvaCggJiYGBsStR7qoxNT/zROfdQ49VHj1Ecnpv5pXGvqI2PMrqbsp8uRIiIiIjZQESYiIiJiAxVhIiIiIjZoFXPCREREvKm2tpbc3FyqqqpsOb/b7ebAgQO2nLu18MU+cjqdJCQkEBAQcErHqwgTEZF2Lzc3l7CwMBITEzHGtPj5a2trT/kv8vbC1/rIsiwKCwvJzc0lKSnplNrQ5UgREWn3qqqqiI6OtqUAk9bJGEN0dPRpjZ6qCBMREQEVYHLSTvdnRkWYiIiIzQoLC8nIyCAjI4OuXbsSHx9PRkYGkZGRDBw4sEWzZGVl8cknn3jef/jhhzz++OOn1FZiYiIFBQVHbbv22mt58cUXj9r2wQcfcN55551U29dffz3Z2dmnlMtXqAgTERGxWXR0NFlZWWRlZXHTTTdx1113ed77+TX/X9Uul+u4n/2wCJs8eTL33Xdfs537qquu4p133jlq2zvvvMNVV13V5DbcbjevvPJKixeozU1FmIiIiA9zu93ccMMNJCcnc/bZZ1NZWQnAt99+y7nnnsuQIUMYPXo0mzdvBmDnzp2MHz+etLQ0JkyYwO7duwGYPn06N910E8OGDeOee+6hvLyc6667jqFDhzJo0CDmzJlDTU0Nv/3tb3n33XfJyMjg3XffZebMmdx2220A5OfnM2XKFNLT00lPT2fx4sUAXHzxxQwZMoTk5GReeumlE34/EyZMYPPmzeTl5QFQXl7Ol19+ycUXX3zCtqKiorj77rtJT09nyZIljB071vM0nZtvvpnMzEySk5N56KGHPMckJiby0EMPMXjwYFJTUz19VFZWxrXXXktqaippaWnMmjULgM8//5wRI0YwePBgpk6dSllZ2Wn8n2uc7o4UERH5gbFjxx6z7fLLL+eWW26hoqKC888//5jPp0+fzvTp0ykoKOCyyy476rN58+adcpacnBzefvttXn75ZS6//HJmzZrF1VdfzY033sjf/vY3+vTpw7Jly7jlllv4+uuvuf3225k2bRrTpk3jtdde44477uCDDz4A6u8CXbx4MQ6Hg/vvv5/x48fz2muvUVxczNChQ5k4cSK/+93vWLlyJc899xwAM2fO9GS54447OOuss5g9ezZut9tTpLz22mt07NiRyspKzjjjDC699FKio6Mb/H4cDgeXXnop7733HnfeeScfffQRY8eOJTw8/IRtlZeXM2zYMP785z8f0+Zjjz1Gx44dcbvdTJgwgXXr1pGWlgZATEwMq1ev5q9//SszZszglVde4dFHHyUiIoL169cDUFRUREFBAb///e/58ssvCQ0N5YknnuDJJ5/kt7/97Sn/v2uMijAREREflpSUREZGBgBDhgxh586dlJWVsXjxYqZOnerZr7q6GoAlS5bw73//G4BrrrmGe+65x7PP1KlTcTgcQP2oz4cffsiMGTOA+jtEj4yaHc/XX3/NG2+8AdQXUxEREQA888wzzJ49G4A9e/aQk5Nz3CIM6i9J/vKXv+TOO+/knXfe4ZprrvF8dry2jhRvDXnvvfd46aWXcLlc5OXlkZ2d7SnCLrnkEk/fHemXL7/88qhLolFRUXz88cdkZ2dz5plnAlBTU8OIESNO2B+nS0WYiIjID5xo5CokJOSEn8fExJzWyNcPBQUFeV47HA4qKyupq6sjMjKSrKysk2orNDTU89qyLGbNmkW/fv2O2mfZsmUn1ea8efP48ssvWbJkCSEhIYwdO7bRZRtGjhxJXl4ea9euZfHixZ6C6ERtOZ1OTwH5fTt27GDGjBmsWLGCqKgopk+fftT5j/Sfw+E44Vw4y7KYNGkSb7/99kl9/6dDc8JEpE156outDX6JtCXh4eEkJSXxr3/9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8uTGjRtPKktmZibXXHONZ95YSUkJ8fHxALz++uuNHj9mzBg++OADKisrOXToEB999BEAERERREVFeeZvvfnmm55RsZO1a9cuunTpwg033MD111/P6tWrKS0tJTQ0lIiICPLz8/n00089+4eFhXHo0KFj2hk9ejQffPABFRUVlJeXM3v2bEaPHn1KmU6FLkeKiIjYzBjD7NmzueWWW3j00Uepq6vj/PPP5w9/+EOD+0+ZMoWvv/6agQMH0r17d0aMGAHUz6t6//33ueOOOygpKcHlcvHzn//8qEt5TXHvvfcyePBg7r//fh5++GGmTp1KVFQU48ePZ8eOHSc8dvDgwVxxxRWkp6fTuXNnzjjjDM9nr7/+OjfddBMVFRX07NmTv//97yeV64h58+bxpz/9iYCAADp06MAbb7xBUlISgwYNon///nTr1o0zzzzTs/+NN97Iueee65kb9v2s06dPZ+jQoQBcf/31DBo0yCuXHhtiLMtqkROdjszMTGvlypXHbC8oKCAmJsaGRK2H+ujE1D+N85U+amjkq6Hb/o83QtbUfRtbSqAhvtJHvszX+2jTpk0MGDDAtvPX1tYSEBBg2/lbA1/to4Z+dowxqyzLymzsWF2OFBEREbGBijARERERG6gIExEREbGBijARERERG6gIExEREbGBijARERERG6gIExERsdnOnTtJSUk5atvDDz/MjBkzmv1cDofD8+DrCy+8kOLi4mZpt6Hv4VT99re/5csvvzzp4+bNm+d5jibA3/72N88CuL5Ii7WKiIj80Nz/a972xv26edtrIpfLhb//0X/VBwcHk5WVBdQ/v/H5558/6iHfvuB3v/vdKR03b948OnTowMiRIwG46aabmjNWs9NImIiIiI975plnGDhwIGlpaVx55ZUAlJeXc9111zF06FAGDRrEnDlzAJg5cyaTJ09m/PjxTJgw4YTtjhgxgu+++w6AsrIyJkyYwODBg0lNTfW0t3PnTgYMGMANN9xAcnIyZ599NpWVlQCsWrWK9PR00tPTef755z3tVlVVce2115KamsqgQYM8q9TPnDmTiy++mEmTJpGYmMhzzz3Hk08+yaBBgxg+fDgHDx4EYPr06bz//vsA3HfffQwcOJDBgwfzy1/+EoCPPvqIYcOGMWjQICZOnEh+fj47d+7kb3/7G0899RQZGRksWLDgqNHErKws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
"
>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We can quantify the effect that this added width of the sampling distribution has on the results of statistical calculations. In theory, we would expect an unlikely result ($\&gt;1.96 * \sigma$ from the mean) to occur 5% of the time. The calculation below shows that is indeed the case when we randomise on order. It is not however true when we randomise on users; in this case, a false positive is 5 times as common as what we would expect.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[18]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ci_theoretical</span> <span class="o">=</span> <span class="n">calculate_theoretical_ci</span><span class="p">(</span><span class="n">df_orders</span><span class="p">,</span> <span class="n">sample_size</span><span class="p">)</span>

<span class="nb">print</span> <span class="p">(</span><span class="s1">&#39;Percentage of Statistically Significant Results with Order-level Randomisation: </span><span class="si">{:.2f}</span><span class="s1">%&#39;</span><span class="o">.</span>
   <span class="nb">format</span><span class="p">(</span><span class="mi">100</span> <span class="o">*</span> <span class="n">calculate_unlikely_result</span><span class="p">(</span><span class="n">boot_orders</span><span class="p">,</span> <span class="n">ci_theoretical</span><span class="p">)))</span>
<span class="nb">print</span> <span class="p">(</span><span class="s1">&#39;Percentage of Statistically Significant Results with User-level Randomisation: </span><span class="si">{:.2f}</span><span class="s1">%&#39;</span><span class="o">.</span>
   <span class="nb">format</span><span class="p">(</span><span class="mi">100</span> <span class="o">*</span> <span class="n">calculate_unlikely_result</span><span class="p">(</span><span class="n">boot_users</span><span class="p">,</span> <span class="n">ci_theoretical</span><span class="p">)))</span> 
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Percentage of Statistically Significant Results with Order-level Randomisation: 5.22%
Percentage of Statistically Significant Results with User-level Randomisation: 24.88%
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Conclusion">Conclusion<a class="anchor-link" href="#Conclusion">&#182;</a></h3><p>If uncorrected, using different units of analysis and diversion can lead to unreliable statistical results - this was demonstrated above using a quick simulation. Part 2 of this blog series will explore one way of addressing this issue.</p>
<p>Some of the resources I found most useful include:</p>
<ul>
<li><a href="https://towardsdatascience.com/the-second-ghost-of-experimentation-the-fallacy-of-session-based-metrics-fb65006d30ff">The second Ghost of Experimentation: The fallacy of session based metrics</a></li>
<li><a href="http://yukiyanai.github.io/teaching/rm1/contents/R/clustered-data-analysis.html">Analysis of Clustered Data</a></li>
</ul>

</div>
</div>
</div>
 


<script type="text/javascript">if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = '//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: 'center'," +
        "    displayIndent: '0em'," +
        "    showMathMenu: true," +
        "    tex2jax: { " +
        "        inlineMath: [ ['$','$'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        " linebreaks: { automatic: true, width: '95% container' }, " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'black ! important'} }" +
        "    } " +
        "}); ";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
</script>

                <div class="clear"></div>

                <div class="info">
                    <a href="/clustered-sampling-part-1.html">posted at 00:00</a>
                    &nbsp;&middot;&nbsp;<a href="/category/statistics-inference.html" rel="tag">Statistics, Inference</a>
                    &nbsp;&middot;
                    &nbsp;<a href="/tag/experimentation.html" class="tags">Experimentation</a>
                </div>
            </article>            <h4 class="date">Dec 13, 2019</h4>

            <article class="post">
                <h2 class="title">
                    <a href="/clustered-sampling-part-2.html" rel="bookmark" title="Permanent Link to &quot;Clustered Sampling Part 2&quot;">Clustered Sampling Part 2</a>
                </h2>

                
                

                <style type="text/css">/*!
*
* IPython notebook
*
*/
/* CSS font colors for translated ANSI escape sequences */
/* The color values are a mix of
   http://www.xcolors.net/dl/baskerville-ivorylight and
   http://www.xcolors.net/dl/euphrasia */
.ansi-black-fg {
  color: #3E424D;
}
.ansi-black-bg {
  background-color: #3E424D;
}
.ansi-black-intense-fg {
  color: #282C36;
}
.ansi-black-intense-bg {
  background-color: #282C36;
}
.ansi-red-fg {
  color: #E75C58;
}
.ansi-red-bg {
  background-color: #E75C58;
}
.ansi-red-intense-fg {
  color: #B22B31;
}
.ansi-red-intense-bg {
  background-color: #B22B31;
}
.ansi-green-fg {
  color: #00A250;
}
.ansi-green-bg {
  background-color: #00A250;
}
.ansi-green-intense-fg {
  color: #007427;
}
.ansi-green-intense-bg {
  background-color: #007427;
}
.ansi-yellow-fg {
  color: #DDB62B;
}
.ansi-yellow-bg {
  background-color: #DDB62B;
}
.ansi-yellow-intense-fg {
  color: #B27D12;
}
.ansi-yellow-intense-bg {
  background-color: #B27D12;
}
.ansi-blue-fg {
  color: #208FFB;
}
.ansi-blue-bg {
  background-color: #208FFB;
}
.ansi-blue-intense-fg {
  color: #0065CA;
}
.ansi-blue-intense-bg {
  background-color: #0065CA;
}
.ansi-magenta-fg {
  color: #D160C4;
}
.ansi-magenta-bg {
  background-color: #D160C4;
}
.ansi-magenta-intense-fg {
  color: #A03196;
}
.ansi-magenta-intense-bg {
  background-color: #A03196;
}
.ansi-cyan-fg {
  color: #60C6C8;
}
.ansi-cyan-bg {
  background-color: #60C6C8;
}
.ansi-cyan-intense-fg {
  color: #258F8F;
}
.ansi-cyan-intense-bg {
  background-color: #258F8F;
}
.ansi-white-fg {
  color: #C5C1B4;
}
.ansi-white-bg {
  background-color: #C5C1B4;
}
.ansi-white-intense-fg {
  color: #A1A6B2;
}
.ansi-white-intense-bg {
  background-color: #A1A6B2;
}
.ansi-default-inverse-fg {
  color: #FFFFFF;
}
.ansi-default-inverse-bg {
  background-color: #000000;
}
.ansi-bold {
  font-weight: bold;
}
.ansi-underline {
  text-decoration: underline;
}
/* The following styles are deprecated an will be removed in a future version */
.ansibold {
  font-weight: bold;
}
.ansi-inverse {
  outline: 0.5px dotted;
}
/* use dark versions for foreground, to improve visibility */
.ansiblack {
  color: black;
}
.ansired {
  color: darkred;
}
.ansigreen {
  color: darkgreen;
}
.ansiyellow {
  color: #c4a000;
}
.ansiblue {
  color: darkblue;
}
.ansipurple {
  color: darkviolet;
}
.ansicyan {
  color: steelblue;
}
.ansigray {
  color: gray;
}
/* and light for background, for the same reason */
.ansibgblack {
  background-color: black;
}
.ansibgred {
  background-color: red;
}
.ansibggreen {
  background-color: green;
}
.ansibgyellow {
  background-color: yellow;
}
.ansibgblue {
  background-color: blue;
}
.ansibgpurple {
  background-color: magenta;
}
.ansibgcyan {
  background-color: cyan;
}
.ansibggray {
  background-color: gray;
}
div.cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  border-radius: 2px;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  border-width: 1px;
  border-style: solid;
  border-color: transparent;
  width: 100%;
  padding: 5px;
  /* This acts as a spacer between cells, that is outside the border */
  margin: 0px;
  outline: none;
  position: relative;
  overflow: visible;
}
div.cell:before {
  position: absolute;
  display: block;
  top: -1px;
  left: -1px;
  width: 5px;
  height: calc(100% +  2px);
  content: '';
  background: transparent;
}
div.cell.jupyter-soft-selected {
  border-left-color: #E3F2FD;
  border-left-width: 1px;
  padding-left: 5px;
  border-right-color: #E3F2FD;
  border-right-width: 1px;
  background: #E3F2FD;
}
@media print {
  div.cell.jupyter-soft-selected {
    border-color: transparent;
  }
}
div.cell.selected,
div.cell.selected.jupyter-soft-selected {
  border-color: #ababab;
}
div.cell.selected:before,
div.cell.selected.jupyter-soft-selected:before {
  position: absolute;
  display: block;
  top: -1px;
  left: -1px;
  width: 5px;
  height: calc(100% +  2px);
  content: '';
  background: #42A5F5;
}
@media print {
  div.cell.selected,
  div.cell.selected.jupyter-soft-selected {
    border-color: transparent;
  }
}
.edit_mode div.cell.selected {
  border-color: #66BB6A;
}
.edit_mode div.cell.selected:before {
  position: absolute;
  display: block;
  top: -1px;
  left: -1px;
  width: 5px;
  height: calc(100% +  2px);
  content: '';
  background: #66BB6A;
}
@media print {
  .edit_mode div.cell.selected {
    border-color: transparent;
  }
}
.prompt {
  /* This needs to be wide enough for 3 digit prompt numbers: In[100]: */
  min-width: 14ex;
  /* This padding is tuned to match the padding on the CodeMirror editor. */
  padding: 0.4em;
  margin: 0px;
  font-family: monospace;
  text-align: right;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
  /* Don't highlight prompt number selection */
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  /* Use default cursor */
  cursor: default;
}
@media (max-width: 540px) {
  .prompt {
    text-align: left;
  }
}
div.inner_cell {
  min-width: 0;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_area {
  border: 1px solid #cfcfcf;
  border-radius: 2px;
  background: #f7f7f7;
  line-height: 1.21429em;
}
/* This is needed so that empty prompt areas can collapse to zero height when there
   is no content in the output_subarea and the prompt. The main purpose of this is
   to make sure that empty JavaScript output_subareas have no height. */
div.prompt:empty {
  padding-top: 0;
  padding-bottom: 0;
}
div.unrecognized_cell {
  padding: 5px 5px 5px 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.unrecognized_cell .inner_cell {
  border-radius: 2px;
  padding: 5px;
  font-weight: bold;
  color: red;
  border: 1px solid #cfcfcf;
  background: #eaeaea;
}
div.unrecognized_cell .inner_cell a {
  color: inherit;
  text-decoration: none;
}
div.unrecognized_cell .inner_cell a:hover {
  color: inherit;
  text-decoration: none;
}
@media (max-width: 540px) {
  div.unrecognized_cell > div.prompt {
    display: none;
  }
}
div.code_cell {
  /* avoid page breaking on code cells when printing */
}
@media print {
  div.code_cell {
    page-break-inside: avoid;
  }
}
/* any special styling for code cells that are currently running goes here */
div.input {
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.input {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_prompt {
  color: #303F9F;
  border-top: 1px solid transparent;
}
div.input_area > div.highlight {
  margin: 0.4em;
  border: none;
  padding: 0px;
  background-color: transparent;
}
div.input_area > div.highlight > pre {
  margin: 0px;
  border: none;
  padding: 0px;
  background-color: transparent;
}
/* The following gets added to the <head> if it is detected that the user has a
 * monospace font with inconsistent normal/bold/italic height.  See
 * notebookmain.js.  Such fonts will have keywords vertically offset with
 * respect to the rest of the text.  The user should select a better font.
 * See: https://github.com/ipython/ipython/issues/1503
 *
 * .CodeMirror span {
 *      vertical-align: bottom;
 * }
 */
.CodeMirror {
  line-height: 1.21429em;
  /* Changed from 1em to our global default */
  font-size: 14px;
  height: auto;
  /* Changed to auto to autogrow */
  background: none;
  /* Changed from white to allow our bg to show through */
}
.CodeMirror-scroll {
  /*  The CodeMirror docs are a bit fuzzy on if overflow-y should be hidden or visible.*/
  /*  We have found that if it is visible, vertical scrollbars appear with font size changes.*/
  overflow-y: hidden;
  overflow-x: auto;
}
.CodeMirror-lines {
  /* In CM2, this used to be 0.4em, but in CM3 it went to 4px. We need the em value because */
  /* we have set a different line-height and want this to scale with that. */
  /* Note that this should set vertical padding only, since CodeMirror assumes
       that horizontal padding will be set on CodeMirror pre */
  padding: 0.4em 0;
}
.CodeMirror-linenumber {
  padding: 0 8px 0 4px;
}
.CodeMirror-gutters {
  border-bottom-left-radius: 2px;
  border-top-left-radius: 2px;
}
.CodeMirror pre {
  /* In CM3 this went to 4px from 0 in CM2. This sets horizontal padding only,
    use .CodeMirror-lines for vertical */
  padding: 0 0.4em;
  border: 0;
  border-radius: 0;
}
.CodeMirror-cursor {
  border-left: 1.4px solid black;
}
@media screen and (min-width: 2138px) and (max-width: 4319px) {
  .CodeMirror-cursor {
    border-left: 2px solid black;
  }
}
@media screen and (min-width: 4320px) {
  .CodeMirror-cursor {
    border-left: 4px solid black;
  }
}
/*

Original style from softwaremaniacs.org (c) Ivan Sagalaev <Maniac@SoftwareManiacs.Org>
Adapted from GitHub theme

*/
.highlight-base {
  color: #000;
}
.highlight-variable {
  color: #000;
}
.highlight-variable-2 {
  color: #1a1a1a;
}
.highlight-variable-3 {
  color: #333333;
}
.highlight-string {
  color: #BA2121;
}
.highlight-comment {
  color: #408080;
  font-style: italic;
}
.highlight-number {
  color: #080;
}
.highlight-atom {
  color: #88F;
}
.highlight-keyword {
  color: #008000;
  font-weight: bold;
}
.highlight-builtin {
  color: #008000;
}
.highlight-error {
  color: #f00;
}
.highlight-operator {
  color: #AA22FF;
  font-weight: bold;
}
.highlight-meta {
  color: #AA22FF;
}
/* previously not defined, copying from default codemirror */
.highlight-def {
  color: #00f;
}
.highlight-string-2 {
  color: #f50;
}
.highlight-qualifier {
  color: #555;
}
.highlight-bracket {
  color: #997;
}
.highlight-tag {
  color: #170;
}
.highlight-attribute {
  color: #00c;
}
.highlight-header {
  color: blue;
}
.highlight-quote {
  color: #090;
}
.highlight-link {
  color: #00c;
}
/* apply the same style to codemirror */
.cm-s-ipython span.cm-keyword {
  color: #008000;
  font-weight: bold;
}
.cm-s-ipython span.cm-atom {
  color: #88F;
}
.cm-s-ipython span.cm-number {
  color: #080;
}
.cm-s-ipython span.cm-def {
  color: #00f;
}
.cm-s-ipython span.cm-variable {
  color: #000;
}
.cm-s-ipython span.cm-operator {
  color: #AA22FF;
  font-weight: bold;
}
.cm-s-ipython span.cm-variable-2 {
  color: #1a1a1a;
}
.cm-s-ipython span.cm-variable-3 {
  color: #333333;
}
.cm-s-ipython span.cm-comment {
  color: #408080;
  font-style: italic;
}
.cm-s-ipython span.cm-string {
  color: #BA2121;
}
.cm-s-ipython span.cm-string-2 {
  color: #f50;
}
.cm-s-ipython span.cm-meta {
  color: #AA22FF;
}
.cm-s-ipython span.cm-qualifier {
  color: #555;
}
.cm-s-ipython span.cm-builtin {
  color: #008000;
}
.cm-s-ipython span.cm-bracket {
  color: #997;
}
.cm-s-ipython span.cm-tag {
  color: #170;
}
.cm-s-ipython span.cm-attribute {
  color: #00c;
}
.cm-s-ipython span.cm-header {
  color: blue;
}
.cm-s-ipython span.cm-quote {
  color: #090;
}
.cm-s-ipython span.cm-link {
  color: #00c;
}
.cm-s-ipython span.cm-error {
  color: #f00;
}
.cm-s-ipython span.cm-tab {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAMCAYAAAAkuj5RAAAAAXNSR0IArs4c6QAAAGFJREFUSMft1LsRQFAQheHPowAKoACx3IgEKtaEHujDjORSgWTH/ZOdnZOcM/sgk/kFFWY0qV8foQwS4MKBCS3qR6ixBJvElOobYAtivseIE120FaowJPN75GMu8j/LfMwNjh4HUpwg4LUAAAAASUVORK5CYII=);
  background-position: right;
  background-repeat: no-repeat;
}
div.output_wrapper {
  /* this position must be relative to enable descendents to be absolute within it */
  position: relative;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  z-index: 1;
}
/* class for the output area when it should be height-limited */
div.output_scroll {
  /* ideally, this would be max-height, but FF barfs all over that */
  height: 24em;
  /* FF needs this *and the wrapper* to specify full width, or it will shrinkwrap */
  width: 100%;
  overflow: auto;
  border-radius: 2px;
  -webkit-box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  display: block;
}
/* output div while it is collapsed */
div.output_collapsed {
  margin: 0px;
  padding: 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
div.out_prompt_overlay {
  height: 100%;
  padding: 0px 0.4em;
  position: absolute;
  border-radius: 2px;
}
div.out_prompt_overlay:hover {
  /* use inner shadow to get border that is computed the same on WebKit/FF */
  -webkit-box-shadow: inset 0 0 1px #000;
  box-shadow: inset 0 0 1px #000;
  background: rgba(240, 240, 240, 0.5);
}
div.output_prompt {
  color: #D84315;
}
/* This class is the outer container of all output sections. */
div.output_area {
  padding: 0px;
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.output_area .MathJax_Display {
  text-align: left !important;
}
div.output_area 
div.output_area 
div.output_area img,
div.output_area svg {
  max-width: 100%;
  height: auto;
}
div.output_area img.unconfined,
div.output_area svg.unconfined {
  max-width: none;
}
div.output_area .mglyph > img {
  max-width: none;
}
/* This is needed to protect the pre formating from global settings such
   as that of bootstrap */
.output {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.output_area {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
div.output_area pre {
  margin: 0;
  padding: 1px 0 1px 0;
  border: 0;
  vertical-align: baseline;
  color: black;
  background-color: transparent;
  border-radius: 0;
}
/* This class is for the output subarea inside the output_area and after
   the prompt div. */
div.output_subarea {
  overflow-x: auto;
  padding: 0.4em;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
  max-width: calc(100% - 14ex);
}
div.output_scroll div.output_subarea {
  overflow-x: visible;
}
/* The rest of the output_* classes are for special styling of the different
   output types */
/* all text output has this class: */
div.output_text {
  text-align: left;
  color: #000;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
}
/* stdout/stderr are 'text' as well as 'stream', but execute_result/error are *not* streams */
div.output_stderr {
  background: #fdd;
  /* very light red background for stderr */
}
div.output_latex {
  text-align: left;
}
/* Empty output_javascript divs should have no height */
div.output_javascript:empty {
  padding: 0;
}
.js-error {
  color: darkred;
}
/* raw_input styles */
div.raw_input_container {
  line-height: 1.21429em;
  padding-top: 5px;
}
pre.raw_input_prompt {
  /* nothing needed here. */
}
input.raw_input {
  font-family: monospace;
  font-size: inherit;
  color: inherit;
  width: auto;
  /* make sure input baseline aligns with prompt */
  vertical-align: baseline;
  /* padding + margin = 0.5em between prompt and cursor */
  padding: 0em 0.25em;
  margin: 0em 0.25em;
}
input.raw_input:focus {
  box-shadow: none;
}
p.p-space {
  margin-bottom: 10px;
}
div.output_unrecognized {
  padding: 5px;
  font-weight: bold;
  color: red;
}
div.output_unrecognized a {
  color: inherit;
  text-decoration: none;
}
div.output_unrecognized a:hover {
  color: inherit;
  text-decoration: none;
}
.rendered_html {
  color: #000;
  /* any extras will just be numbers: */
}



.rendered_html :link {
  text-decoration: underline;
}
.rendered_html :visited {
  text-decoration: underline;
}






.rendered_html h1:first-child {
  margin-top: 0.538em;
}
.rendered_html h2:first-child {
  margin-top: 0.636em;
}
.rendered_html h3:first-child {
  margin-top: 0.777em;
}
.rendered_html h4:first-child {
  margin-top: 1em;
}
.rendered_html h5:first-child {
  margin-top: 1em;
}
.rendered_html h6:first-child {
  margin-top: 1em;
}
.rendered_html ul:not(.list-inline),
.rendered_html ol:not(.list-inline) {
  padding-left: 2em;
}








.rendered_html * + ul {
  margin-top: 1em;
}
.rendered_html * + ol {
  margin-top: 1em;
}





.rendered_html pre,




.rendered_html tr,
.rendered_html th,


.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}
.rendered_html * + table {
  margin-top: 1em;
}

.rendered_html * + p {
  margin-top: 1em;
}

.rendered_html * + img {
  margin-top: 1em;
}
.rendered_html img,

.rendered_html img.unconfined,


.rendered_html * + .alert {
  margin-top: 1em;
}
[dir="rtl"] 
div.text_cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.text_cell > div.prompt {
    display: none;
  }
}
div.text_cell_render {
  /*font-family: "Helvetica Neue", Arial, Helvetica, Geneva, sans-serif;*/
  outline: none;
  resize: none;
  width: inherit;
  border-style: none;
  padding: 0.5em 0.5em 0.5em 0.4em;
  color: #000;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
}
a.anchor-link:link {
  text-decoration: none;
  padding: 0px 20px;
  visibility: hidden;
}
h1:hover .anchor-link,
h2:hover .anchor-link,
h3:hover .anchor-link,
h4:hover .anchor-link,
h5:hover .anchor-link,
h6:hover .anchor-link {
  visibility: visible;
}
.text_cell.rendered .input_area {
  display: none;
}
.text_cell.rendered 
.text_cell.rendered .rendered_html tr,
.text_cell.rendered .rendered_html th,
.text_cell.rendered 
.text_cell.unrendered .text_cell_render {
  display: none;
}
.text_cell .dropzone .input_area {
  border: 2px dashed #bababa;
  margin: -1px;
}
.cm-header-1,
.cm-header-2,
.cm-header-3,
.cm-header-4,
.cm-header-5,
.cm-header-6 {
  font-weight: bold;
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
}
.cm-header-1 {
  font-size: 185.7%;
}
.cm-header-2 {
  font-size: 157.1%;
}
.cm-header-3 {
  font-size: 128.6%;
}
.cm-header-4 {
  font-size: 110%;
}
.cm-header-5 {
  font-size: 100%;
  font-style: italic;
}
.cm-header-6 {
  font-size: 100%;
  font-style: italic;
}
</style>
<style type="text/css">.highlight .hll { background-color: #ffffcc }
.highlight  { background: #f8f8f8; }
.highlight .c { color: #408080; font-style: italic } /* Comment */
.highlight .err { border: 1px solid #FF0000 } /* Error */
.highlight .k { color: #008000; font-weight: bold } /* Keyword */
.highlight .o { color: #666666 } /* Operator */
.highlight .ch { color: #408080; font-style: italic } /* Comment.Hashbang */
.highlight .cm { color: #408080; font-style: italic } /* Comment.Multiline */
.highlight .cp { color: #BC7A00 } /* Comment.Preproc */
.highlight .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */
.highlight .c1 { color: #408080; font-style: italic } /* Comment.Single */
.highlight .cs { color: #408080; font-style: italic } /* Comment.Special */
.highlight .gd { color: #A00000 } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gr { color: #FF0000 } /* Generic.Error */
.highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #00A000 } /* Generic.Inserted */
.highlight .go { color: #888888 } /* Generic.Output */
.highlight .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #0044DD } /* Generic.Traceback */
.highlight .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #008000 } /* Keyword.Pseudo */
.highlight .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #B00040 } /* Keyword.Type */
.highlight .m { color: #666666 } /* Literal.Number */
.highlight .s { color: #BA2121 } /* Literal.String */
.highlight .na { color: #7D9029 } /* Name.Attribute */
.highlight .nb { color: #008000 } /* Name.Builtin */
.highlight .nc { color: #0000FF; font-weight: bold } /* Name.Class */
.highlight .no { color: #880000 } /* Name.Constant */
.highlight .nd { color: #AA22FF } /* Name.Decorator */
.highlight .ni { color: #999999; font-weight: bold } /* Name.Entity */
.highlight .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.highlight .nf { color: #0000FF } /* Name.Function */
.highlight .nl { color: #A0A000 } /* Name.Label */
.highlight .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.highlight .nt { color: #008000; font-weight: bold } /* Name.Tag */
.highlight .nv { color: #19177C } /* Name.Variable */
.highlight .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mb { color: #666666 } /* Literal.Number.Bin */
.highlight .mf { color: #666666 } /* Literal.Number.Float */
.highlight .mh { color: #666666 } /* Literal.Number.Hex */
.highlight .mi { color: #666666 } /* Literal.Number.Integer */
.highlight .mo { color: #666666 } /* Literal.Number.Oct */
.highlight .sa { color: #BA2121 } /* Literal.String.Affix */
.highlight .sb { color: #BA2121 } /* Literal.String.Backtick */
.highlight .sc { color: #BA2121 } /* Literal.String.Char */
.highlight .dl { color: #BA2121 } /* Literal.String.Delimiter */
.highlight .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.highlight .s2 { color: #BA2121 } /* Literal.String.Double */
.highlight .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.highlight .sh { color: #BA2121 } /* Literal.String.Heredoc */
.highlight .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.highlight .sx { color: #008000 } /* Literal.String.Other */
.highlight .sr { color: #BB6688 } /* Literal.String.Regex */
.highlight .s1 { color: #BA2121 } /* Literal.String.Single */
.highlight .ss { color: #19177C } /* Literal.String.Symbol */
.highlight .bp { color: #008000 } /* Name.Builtin.Pseudo */
.highlight .fm { color: #0000FF } /* Name.Function.Magic */
.highlight .vc { color: #19177C } /* Name.Variable.Class */
.highlight .vg { color: #19177C } /* Name.Variable.Global */
.highlight .vi { color: #19177C } /* Name.Variable.Instance */
.highlight .vm { color: #19177C } /* Name.Variable.Magic */
.highlight .il { color: #666666 } /* Literal.Number.Integer.Long */</style><div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Introduction">Introduction<a class="anchor-link" href="#Introduction">&#182;</a></h3><p>This is part two of a two-part blog series exploring clustered sampling. The first part explored how our inference may be complicated if the units of diversion and analysis differ. This second part will address how we can overcome this problem described to produce robust analysis. It consists of the following parts:</p>
<ul>
<li>Why we can use a regression instead of a t-test to analyse experiments.</li>
<li>A derivation of the variance of $\hat{\beta}$ in the case of homoskedasticity and heteroskedasticity.</li>
<li>A discussion of how the variance of $\hat{\beta}$ differs when we have clustered errors.</li>
<li>Applications of cluster-robust regression.</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="&#160;Regressions-vs-t-tests">&#160;Regressions vs t-tests<a class="anchor-link" href="#&#160;Regressions-vs-t-tests">&#182;</a></h3><p>In most introductions to A/B testing, experiment variants are compared using a t-test. In this post, we'll be using regression analysis which is an equivalent method of analysis. Regression is chosen because it lets us specify the appropriate covariance matrix (e.g. cluster robust) which are readily available in OLS statistical packages - more on this below.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="&#160;A-derivation-of-the-variance-of-$\hat{\beta}$-in-the-case-of-homoskedasticity-and-heteroskedasticity">&#160;A derivation of the variance of $\hat{\beta}$ in the case of homoskedasticity and heteroskedasticity<a class="anchor-link" href="#&#160;A-derivation-of-the-variance-of-$\hat{\beta}$-in-the-case-of-homoskedasticity-and-heteroskedasticity">&#182;</a></h3><p>Let's begin by deriving an expression of the variance of $\hat{\beta}$. Consider a data-generating process represented by the following regression, where $\alpha^{p}$ and $\beta^{p}$ denote the population parameters.</p>
$$y_{i} = \alpha^{p} + \beta^{p}x_{i} + \epsilon_{i}$$<p>It can be <a href="https://are.berkeley.edu/courses/EEP118/current/derive_ols.pdf">shown</a> that  $\hat{\beta}$ is given by the expression</p>
$$\hat{\beta} = \frac{\sum_{n=1}^{N} (x{_i} - \bar{x})(y{_i} - \bar{y})}{\sum_{n=1}^{N} (x{_i} - \bar{x})^2}$$<p>which can be <a href="https://youtu.be/hGv9fnmlYaU">rearranged</a> as</p>
$$\hat{\beta} = \frac{\sum_{n=1}^{N} (x{_i} - \bar{x})y{_i}}{\sum_{n=1}^{N} (x{_i} - \bar{x})^2}$$<p>Substituting in our equation for $y_{i}$, we have</p>
$$\hat{\beta} = \frac{\sum_{n=1}^{N} (x{_i} - \bar{x})(\alpha^{p} + \beta^{p}x_{i} + \epsilon_{i})}{\sum_{n=1}^{N} (x{_i} - \bar{x})^2}$$$$\hat{\beta} = \frac{\sum_{n=1}^{N} (x{_i} - \bar{x})\alpha^{p} + (x{_i} - \bar{x})\beta^{p}x_{i} + (x{_i} - \bar{x})\epsilon_{i})}{\sum_{n=1}^{N} (x{_i} - \bar{x})^2}$$<p>If we consider the first term, we have</p>
$$\frac{\sum_{n=1}^{N} (x{_i} - \bar{x})\alpha^{p}}{\sum_{n=1}^{N} (x{_i} - \bar{x})^2} = \frac{N\bar{x}\alpha^{p} - N\bar{x}\alpha^{p}}{\sum_{n=1}^{N} (x{_i} - \bar{x})^2} = 0 $$<p>The second term becomes</p>
$$\frac{\sum_{n=1}^{N} (x{_i} - \bar{x})\beta^{p}x_{i}}{\sum_{n=1}^{N} (x{_i} - \bar{x})^2}$$<p>Using the same <a href="https://youtu.be/hGv9fnmlYaU">rearranging trick</a> as above, we can rearrange and simplify this expression</p>
$$\frac{\sum_{n=1}^{N} (x{_i} - \bar{x})\beta^{p}(x{_i} - \bar{x})}{\sum_{n=1}^{N} (x{_i} - \bar{x})^2} = \beta^{p}\frac{\sum_{n=1}^{N} (x{_i} - \bar{x})^2}{\sum_{n=1}^{N} (x{_i} - \bar{x})^2} = \beta^{p} $$<p>We therefore have</p>
$$\hat{\beta} = \beta^{p} + \frac{\sum_{n=1}^{N} (x{_i} - \bar{x})\epsilon_{i}}{\sum_{n=1}^{N} (x{_i} - \bar{x})^2}$$<p>We can use this expression to find the variance of $\hat{\beta}$.</p>
$$Var(\hat{\beta}) = Var(\beta^{p} + \frac{\sum_{n=1}^{N} (x{_i} - \bar{x})\epsilon_{i}}{\sum_{n=1}^{N} (x{_i} - \bar{x})^2})$$<p>In general we have,</p>
$$Var(X + Y) = Var(X) + Var(Y) + 2 Cov(X, Y)$$<p>As $\beta^{p}$ is just a constant, its variance and covariance will be zero. This means we can immediately simplify our expression for $Var(\hat{\beta})$ to</p>
$$Var(\hat{\beta}) = Var(\frac{\sum_{n=1}^{N} (x{_i} - \bar{x})\epsilon_{i}}{\sum_{n=1}^{N} (x{_i} - \bar{x})^2}) = Var(\frac{\sum_{n=1}^{N} (x{_i} - \bar{x})\epsilon_{i}}{SS_{x}})$$<p>where we have replaced our denominator with $SS_{x}$.</p>
<p>We assume that our $x$ values are fixed under repeated draws - that is, that our values $x_{i}$ are not random variables. This means that all the variation that we see between draws can be attributed to our $\epsilon$ terms. With this assumption, we can treat $SS_{x}$ as a constant and bring it outside the variance operator. As $Var(aX) = a^2Var(X)$, we'll be squaring this term.</p>
$$Var(\hat{\beta}) = \frac{1}{{SS_{x}^2}}Var(\sum_{n=1}^{N} (x{_i} - \bar{x})\epsilon_{i})$$<p>To further simplify this expression, let's write out the first few terms of the summation</p>
$$\sum_{n=1}^{N} (x{_i} - \bar{x})\epsilon_{i} = (x{_1} - \bar{x})\epsilon_{1} + (x{_2} - \bar{x})\epsilon_{2} + ... + (x{_N} - \bar{x})\epsilon_{N}$$<p>To find the variance of this term, we must take the variance of each term and the covariance of each cross-term. We can simplify things by recalling the <a href="https://youtu.be/ti9h-Au8LQw">Gauss-Markov assumption of no serial correlation</a>, which states that</p>
$$Cov(\epsilon_{i}\epsilon_{j}) = 0 \text{ if }  i \neq j $$<p>This allows us to ignore the covariance terms and therefore bring the variance operator inside the summation.</p>
$$Var(\hat{\beta}) = \frac{1}{{SS_{x}^2}}\sum_{n=1}^{N} Var((x{_i} - \bar{x})\epsilon_{i})$$<p>Once again treating $(x{_i} - \bar{x})$ as constant enables us to pull it outside the variance operator. Remembering to square it we have</p>
$$Var(\hat{\beta}) = \frac{1}{{SS_{x}^2}}\sum_{n=1}^{N} (x{_i} - \bar{x})^2Var(\epsilon_{i})$$<h4 id="Assuming-Homoskedasticity">Assuming Homoskedasticity<a class="anchor-link" href="#Assuming-Homoskedasticity">&#182;</a></h4><p>Under the assumption of homoskedasticity, $ Var(\epsilon_{i}) = \sigma^2$. That is, the variance of our error term is a constant that doesn't vary over $x_i$. Therefore</p>
$$Var(\hat{\beta}) = \frac{1}{{SS_{x}^2}}\sum_{n=1}^{N} (x{_i} - \bar{x})^2\sigma^2$$<p>Substituting back in for $SS_{x}$ and simplifying yields</p>
$$Var(\hat{\beta}) = \frac{\sum_{n=1}^{N} (x{_i} - \bar{x})^2\sigma^2}{[\sum_{n=1}^{N} (x{_i} - \bar{x})^2]^2} = \frac{\sigma^2}{\sum_{n=1}^{N} (x{_i} - \bar{x})^2}$$<p>As the population variance of the error term $\epsilon$ , $\sigma^2$, is typically unknown, we estimate it using the residual standard error</p>
$$\hat{\sigma}^2 = \frac{1}{N-2}\sum_{n=1}^{N} \hat{u_i}^2$$<p>Substituting this in gives us our final answer</p>
$$\hat{Var}(\hat{\beta}) = \frac{1}{(N-2)}\frac{\sum_{n=1}^{N} \hat{u_i}^2}{\sum_{n=1}^{N} (x{_i} - \bar{x})^2}$$<p>Note the hat on the variance term, as we're now using our sample to estimate the population variance.</p>
<p>You may be slightly skeptical (as I was) of how the $\sigma^2$ term is simply replaced by our residual term $\hat{u_i}^2$. If the <a href="https://youtu.be/NjTpHS5xLP8">strict exogeneity assumption</a> has been honoured, then we have that $E[\epsilon | X] = 0$ or alternatively $Cov(\epsilon, X) = 0$. What this means is that knowing $X$ doesn't tell you anything about whether a given observation is above or below the population regression function - that is, there is no systematic bias in our regression. Whilst there are a number of issues that can lead to a violation of this assumption for observational data, in experimental settings this assumption is honoured. This is because we choose $X$ randomly so there can be no relationship between $\epsilon$ and $X$ - if we were to plot both terms against each other, we'd find no relationship, indicating that the covariance term is zero.</p>
<p>An experiment forces $E[\epsilon | X] = 0$. In this situation, we <a href="https://youtu.be/pW5mEem1Pbw">can show that</a> $E[\hat{\epsilon}] = \epsilon$. As such the residual is a good approximation for the true error term $\epsilon$.</p>
<h4 id="Assuming-Heteroskedasticity">Assuming Heteroskedasticity<a class="anchor-link" href="#Assuming-Heteroskedasticity">&#182;</a></h4><p>If we cannot make the assumption of homoskedasticity, then we can get to here</p>
$$Var(\hat{\beta}) = \frac{1}{{SS_{x}^2}}\sum_{n=1}^{N} (x{_i} - \bar{x})^2Var(\epsilon_{i})$$<p>but because our variance term isn't constant, we cannot cancel terms as above. We will therefore have</p>
$$Var(\hat{\beta}) = \frac{1}{{SS_{x}^2}}\sum_{n=1}^{N} (x{_i} - \bar{x})^2\sigma^2_{i}$$<p>which we can estimate using our residuals</p>
$$\hat{Var}(\hat{\beta}) = \frac{1}{{SS_{x}^2}}\sum_{n=1}^{N} (x{_i} - \bar{x})^2\hat{u_i}^2$$<p>This is known as our heteroskedasticity-robust variance estimator. The label <code>HC</code> refers to “heteroskedasticity-consistent”. This particular estimate for $\hat{Var}(\hat{\beta})$ is known as <code>HC0</code> as it's the baseline
heteroskedasticity-consistent variance estimator. There are variations on this estimator known as <code>HC1</code>, <code>HC2</code> and <code>HC3</code> of which more detail can be found in chapter 4.14 of this <a href="https://www.ssc.wisc.edu/~bhansen/econometrics/Econometrics.pdf">textbook</a>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="A-discussion-of-how-the-variance-of-$\hat{\beta}$-differs-when-we-have-clustered-errors">A discussion of how the variance of $\hat{\beta}$ differs when we have clustered errors<a class="anchor-link" href="#A-discussion-of-how-the-variance-of-$\hat{\beta}$-differs-when-we-have-clustered-errors">&#182;</a></h3><p>To understand the differences in our expression for $Var(\hat{\beta})$, let's return to an expression we derived earlier above. We said that</p>
$$Var(\hat{\beta}) = \frac{1}{{SS_{x}^2}}Var(\sum_{n=1}^{N} (x{_i} - \bar{x})\epsilon_{i})$$<p>and the first few terms of the summation were</p>
$$\sum_{n=1}^{N} (x{_i} - \bar{x})\epsilon_{i} = (x{_1} - \bar{x})\epsilon_{1} + (x{_2} - \bar{x})\epsilon_{2} + ... + (x{_N} - \bar{x})\epsilon_{N}$$<p>In the case of homoskedastic and heteroskedastic errors, we used the Gauss-Markov assumption of no autocorrelation to remove the covariance terms from our sum. For clustered errors, we can no longer make this assumption as we assume that within clusters the observations and errors are correlated.</p>
<p>We can write out the expression above as</p>
$$Var(\hat{\beta}) = \frac{1}{{SS_{x}^2}}\sum_{i=1}^{N}\sum_{j=1}^{N} Cov[(x{_i} - \bar{x})\epsilon_{i}(x{_j} - \bar{x})\epsilon_{j}]$$<p>Pulling the terms $(x{_i} - \bar{x})$ and $(x{_j} - \bar{x})$ outside of the $Cov$ operator (by again assuming that our values $x_i$ are non-stochastic), we have</p>
$$Var(\hat{\beta}) = \frac{1}{{SS_{x}^2}}\sum_{i=1}^{N}\sum_{j=1}^{N} (x{_i} - \bar{x})(x{_j} - \bar{x}) Cov[\epsilon_{i}\epsilon_{j}]$$<p>By definition,</p>
$$Cov[\epsilon_{i}\epsilon_{j}] = E[(\epsilon_{i} - E[\epsilon_{i}])(\epsilon_{j} - E[\epsilon_{j}])] = E[\epsilon_{i}\epsilon_{j}]$$<p>as we assume that our errors are white noise and therefore $E[\epsilon_{i}] = E[\epsilon_{j}] = 0$. This gives us:
$$Var(\hat{\beta}) = \frac{1}{{SS_{x}^2}}\sum_{i=1}^{N}\sum_{j=1}^{N} (x{_i} - \bar{x})(x{_j} - \bar{x}) E[\epsilon_{i}\epsilon_{j}]$$</p>
<p>As $E[\epsilon_{i}] = E[\epsilon_{j}] = 0$, $E[\epsilon_{i}\epsilon_{j}] = Cov(\epsilon_{i}, \epsilon_{j})$. We previously used the Gauss-Markov assumption of no serial correlation to remove our covariance terms. For clustered errors, this covariance term is assumed to be zero unless two observations are in the same cluster. We therefore have $E[\epsilon_{i}\epsilon_{j}] = 0$ unless the observations i, j come from the same cluster.</p>
<p>That allows us to obtain our expression for our variance estimator in the presence of clustered errors.</p>
$$Var(\hat{\beta}) = \frac{1}{{SS_{x}^2}}\sum_{i=1}^{N}\sum_{j=1}^{N} (x{_i} - \bar{x})(x{_j} - \bar{x}) E[\epsilon_{i}\epsilon_{j}]\delta{ij}$$<p>where</p>
$$\delta{ij} = \{\begin{array}{l l} 1  \text{ if i and j are in the same cluster} \\ 0 \text{ otherwise} \\ \end{array}$$<p>We use our residuals to find our final expression</p>
$$\hat{Var}(\hat{\beta}) = \frac{1}{{SS_{x}^2}}\sum_{i=1}^{N}\sum_{j=1}^{N} (x{_i} - \bar{x})(x{_j} - \bar{x}) \hat{u}_{i}\hat{u}_{j}\delta{ij}$$<p>This is our heteroskedasticity-robust, cluster-robust variance estimator. There's a few properties that we can observe about our estimator:</p>
<ul>
<li>First, in the case where we have one observation per cluster, our expression for $V_{clustered}$ simplifies to $V_{het}$.</li>
<li>Two, the more correlated our error terms $\hat{u}_{i}$ and $\hat{u}_{j}$ the larger our standard error. Over the $j$ points in our cluster, a group of observations with a highly correlated error will sum to some positive or negative number, whereas a set of unrelated points will average out to zero. </li>
<li>Three, our standard error will be higher if our observations $(x{_i} - \bar{x})$ and $(x{_j} - \bar{x})$ are correlated.</li>
</ul>
<p>We can see from the expression above that our standard errors will be inflated in the presence of clustered observations. And this makes sense - an additional observation from the same cluster no longer provides a completely independent piece of information. As such we should be more doubtful in the conclusions we draw.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="How-this-idea-is-applied-in-practice">How this idea is applied in practice<a class="anchor-link" href="#How-this-idea-is-applied-in-practice">&#182;</a></h3><p>We began this blog post with a simulated example that explored how our inference may be complicated if the units of analysis and the units of diversion differ for a given experiment. This second part has explored some theory that can help us account for this experimental setup.</p>
<p>Coming back to our example of randomising on some user identifier and reporting the impact on the metric CS contacts per order, we can think of a user as a cluster and each order an observation within that cluster. By correctly accounting for this in our regression, we should be able to avoid the excessively high false positive rate we observed.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[1]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">scipy</span> <span class="k">import</span> <span class="n">stats</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">matplotlib.mlab</span> <span class="k">as</span> <span class="nn">mlab</span>
<span class="kn">import</span> <span class="nn">matplotlib.patches</span> <span class="k">as</span> <span class="nn">mpatches</span>
<span class="kn">import</span> <span class="nn">statsmodels.api</span> <span class="k">as</span> <span class="nn">sm</span>
<span class="kn">from</span> <span class="nn">statsmodels.regression.linear_model</span> <span class="k">import</span> <span class="n">OLS</span>
<span class="o">%</span><span class="k">matplotlib</span> inline
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[2]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># suppress future warning</span>
<span class="kn">import</span> <span class="nn">warnings</span>
<span class="n">warnings</span><span class="o">.</span><span class="n">simplefilter</span><span class="p">(</span><span class="n">action</span><span class="o">=</span><span class="s1">&#39;ignore&#39;</span><span class="p">,</span> <span class="n">category</span><span class="o">=</span><span class="ne">FutureWarning</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Get the same functions as we previously used in part 1</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[3]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">generate_data</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">mu</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Randomly generate data</span>
<span class="sd">    </span>
<span class="sd">    n: number of users</span>
<span class="sd">    mu: parameterizes number of orders placed</span>
<span class="sd">    p: parameterizes number of cs contacts made</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">user_id</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">util</span><span class="o">.</span><span class="n">testing</span><span class="o">.</span><span class="n">rands_array</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span> <span class="c1"># random key for each user</span>
    <span class="n">orders</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">cs_contacts</span> <span class="o">=</span> <span class="p">[]</span>
    
    <span class="c1"># for each user, generate a random number of orders and CS contacts</span>
    <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">user_id</span><span class="p">:</span>
        <span class="n">num_orders</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">poisson</span><span class="o">.</span><span class="n">rvs</span><span class="p">(</span><span class="n">mu</span><span class="p">)</span>
        <span class="n">user_orders</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="n">e</span><span class="p">,</span> <span class="n">num_orders</span><span class="p">)</span>
        <span class="n">user_cs_contacts</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">bernoulli</span><span class="o">.</span><span class="n">rvs</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">num_orders</span><span class="p">)</span>
        
        <span class="n">orders</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">orders</span><span class="p">,</span> <span class="n">user_orders</span><span class="p">)</span>
        <span class="n">cs_contacts</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cs_contacts</span><span class="p">,</span> <span class="n">user_cs_contacts</span><span class="p">)</span>

    <span class="c1"># return a DataFrame</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">stack</span><span class="p">([</span><span class="n">orders</span><span class="p">,</span> <span class="n">cs_contacts</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;userid&#39;</span><span class="p">,</span> <span class="s1">&#39;cs_contacts&#39;</span><span class="p">],</span> <span class="n">index</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">df</span><span class="p">[</span><span class="s1">&#39;cs_contacts&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;cs_contacts&#39;</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">df</span>

<span class="k">def</span> <span class="nf">transform_data</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
    <span class="n">user_data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;userid&#39;</span><span class="p">)[</span><span class="s1">&#39;cs_contacts&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">agg</span><span class="p">([</span><span class="s1">&#39;count&#39;</span><span class="p">,</span> <span class="s1">&#39;sum&#39;</span><span class="p">])</span>
    <span class="n">user_data</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;orders&#39;</span><span class="p">,</span> <span class="s1">&#39;cs_contacts&#39;</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">user_data</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[4]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">create_dataset</span><span class="p">():</span>
    <span class="c1"># create dataset</span>
    <span class="n">N</span> <span class="o">=</span> <span class="p">[</span><span class="mi">3750</span><span class="p">,</span> <span class="mi">4500</span><span class="p">,</span> <span class="mi">30</span><span class="p">]</span>
    <span class="n">mus</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.5</span><span class="p">,</span> <span class="mf">1.2</span><span class="p">,</span> <span class="mi">50</span><span class="p">]</span>
    <span class="n">p_values</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">]</span>
    <span class="n">group</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">]</span>

    <span class="n">orders</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">n</span><span class="p">,</span> <span class="n">mu</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">g</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">N</span><span class="p">,</span> <span class="n">mus</span><span class="p">,</span> <span class="n">p_values</span><span class="p">,</span> <span class="n">group</span><span class="p">):</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">generate_data</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">mu</span><span class="p">,</span> <span class="n">p</span><span class="p">)</span>
        <span class="n">data</span><span class="p">[</span><span class="s1">&#39;group&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">g</span>
        <span class="n">orders</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

    <span class="n">df_orders</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">orders</span><span class="p">)</span>
    <span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;order_id&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">df_orders</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">df_orders</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Let's-create-a-number-of-datasets-that-simulate-an-A/A-test">Let's create a number of datasets that simulate an A/A test<a class="anchor-link" href="#Let's-create-a-number-of-datasets-that-simulate-an-A/A-test">&#182;</a></h4><p>For each one, we'll analyse the A/A test using i) a standard regression and ii) a cluster-robust regression and compare the FPR for both methods.</p>
<p>Note how using a regression enables us to easily specify a cluster robust error structure as an argument. For the clustered error regression, we write:</p>

<pre><code>OLS(Y,X).fit(cov_type='cluster', cov_kwds={'groups': df_orders['userid']})</code></pre>
<p>We are telling the regression that orders from the same <code>userid</code> are in the same cluster - it will use this information to calculate the variance of our $\beta$ term.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[11]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">reg</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">clustered</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">alpha</span> <span class="o">=</span> <span class="mf">0.05</span>
<span class="n">nsims</span> <span class="o">=</span> <span class="mi">100</span>
<span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nsims</span><span class="p">):</span>
    
    <span class="c1"># create dataset</span>
    <span class="n">df_orders</span> <span class="o">=</span> <span class="n">create_dataset</span><span class="p">()</span>

    <span class="c1"># randomly assign observations to users</span>
    <span class="n">df_users</span> <span class="o">=</span> <span class="n">transform_data</span><span class="p">(</span><span class="n">df_orders</span><span class="p">)</span>
    <span class="n">df_users</span><span class="p">[</span><span class="s1">&#39;cohort&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="nb">len</span><span class="p">(</span><span class="n">df_users</span><span class="p">),</span> <span class="n">p</span><span class="o">=</span><span class="p">[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">])</span>
    
    <span class="c1"># join back on to df_orders to get order-level dataset</span>
    <span class="n">merged</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">df_orders</span><span class="p">,</span> <span class="n">df_users</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;inner&#39;</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s1">&#39;userid&#39;</span><span class="p">)</span>
    <span class="n">merged</span> <span class="o">=</span> <span class="n">merged</span><span class="p">[[</span><span class="s1">&#39;userid&#39;</span><span class="p">,</span> <span class="s1">&#39;cs_contacts_x&#39;</span><span class="p">,</span> <span class="s1">&#39;order_id&#39;</span><span class="p">,</span> <span class="s1">&#39;cohort&#39;</span><span class="p">]]</span>
    <span class="n">merged</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;userid&#39;</span><span class="p">,</span> <span class="s1">&#39;cs_contacts&#39;</span><span class="p">,</span> <span class="s1">&#39;order_id&#39;</span><span class="p">,</span> <span class="s1">&#39;cohort&#39;</span><span class="p">]</span>
    
    <span class="c1"># fit a regression</span>
    <span class="n">X</span> <span class="o">=</span> <span class="n">merged</span><span class="o">.</span><span class="n">cohort</span>
    <span class="n">X</span> <span class="o">=</span> <span class="n">sm</span><span class="o">.</span><span class="n">add_constant</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
    <span class="n">Y</span> <span class="o">=</span> <span class="n">merged</span><span class="p">[</span><span class="s1">&#39;cs_contacts&#39;</span><span class="p">]</span>
    
    <span class="c1"># get results</span>
    <span class="n">results</span> <span class="o">=</span> <span class="n">OLS</span><span class="p">(</span><span class="n">Y</span><span class="p">,</span><span class="n">X</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>
    <span class="n">ci_lower</span><span class="p">,</span> <span class="n">ci_upper</span>  <span class="o">=</span> <span class="n">results</span><span class="o">.</span><span class="n">conf_int</span><span class="p">()</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;cohort&#39;</span><span class="p">,</span> <span class="p">:]</span>
    <span class="n">param_estim</span> <span class="o">=</span> <span class="n">results</span><span class="o">.</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;cohort&#39;</span><span class="p">]</span>
    <span class="n">pval</span> <span class="o">=</span> <span class="n">results</span><span class="o">.</span><span class="n">pvalues</span><span class="p">[</span><span class="s1">&#39;cohort&#39;</span><span class="p">]</span>
    <span class="n">reg</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">ci_lower</span><span class="p">,</span> <span class="n">ci_upper</span><span class="p">,</span> <span class="n">param_estim</span><span class="p">,</span> <span class="n">pval</span><span class="p">])</span>
    
    <span class="n">results</span> <span class="o">=</span> <span class="n">OLS</span><span class="p">(</span><span class="n">Y</span><span class="p">,</span><span class="n">X</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">cov_type</span><span class="o">=</span><span class="s1">&#39;cluster&#39;</span><span class="p">,</span> <span class="n">cov_kwds</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;groups&#39;</span><span class="p">:</span> <span class="n">df_orders</span><span class="p">[</span><span class="s1">&#39;userid&#39;</span><span class="p">]})</span>
    <span class="n">ci_lower</span><span class="p">,</span> <span class="n">ci_upper</span>  <span class="o">=</span> <span class="n">results</span><span class="o">.</span><span class="n">conf_int</span><span class="p">()</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;cohort&#39;</span><span class="p">,</span> <span class="p">:]</span>
    <span class="n">param_estim</span> <span class="o">=</span> <span class="n">results</span><span class="o">.</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;cohort&#39;</span><span class="p">]</span>
    <span class="n">pval</span> <span class="o">=</span> <span class="n">results</span><span class="o">.</span><span class="n">pvalues</span><span class="p">[</span><span class="s1">&#39;cohort&#39;</span><span class="p">]</span>
    <span class="n">clustered</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">ci_lower</span><span class="p">,</span> <span class="n">ci_upper</span><span class="p">,</span> <span class="n">param_estim</span><span class="p">,</span> <span class="n">pval</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We can plot the confidence intervals for our 100 simulated experiments. As we've simulated an A/A test, we'd expect our $\beta$ term in the regression to be zero.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[12]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Create DataFrames</span>
<span class="n">df_clustered</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">clustered</span><span class="p">)</span>
<span class="n">df_clustered</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;ci_lower&#39;</span><span class="p">,</span> <span class="s1">&#39;ci_upper&#39;</span><span class="p">,</span> <span class="s1">&#39;point_estimate&#39;</span><span class="p">,</span> <span class="s1">&#39;pvalue&#39;</span><span class="p">]</span>
<span class="n">df_clustered</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;clustered&#39;</span>

<span class="n">df_reg</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">reg</span><span class="p">)</span>
<span class="n">df_reg</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;ci_lower&#39;</span><span class="p">,</span> <span class="s1">&#39;ci_upper&#39;</span><span class="p">,</span> <span class="s1">&#39;point_estimate&#39;</span><span class="p">,</span> <span class="s1">&#39;pvalue&#39;</span><span class="p">]</span>
<span class="n">df_reg</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;regular&#39;</span>

<span class="c1"># Sort and prepare DataFrames</span>
<span class="n">df_clustered</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;point_estimate&#39;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df_clustered</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">df_reg</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;point_estimate&#39;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df_reg</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[15]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="n">titles</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Confidence Intervals for Standard Regression&#39;</span><span class="p">,</span> 
          <span class="s1">&#39;Confidence Intervals for Clustered Regression&#39;</span><span class="p">]</span>
<span class="k">for</span> <span class="n">axis</span><span class="p">,</span> <span class="n">df</span><span class="p">,</span> <span class="n">title</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">axes</span><span class="p">,</span> <span class="p">[</span><span class="n">df_reg</span><span class="p">,</span> <span class="n">df_clustered</span><span class="p">],</span> <span class="n">titles</span><span class="p">):</span>

    <span class="c1"># points</span>
    <span class="n">axis</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;ci_lower&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="s1">&#39;ko&#39;</span><span class="p">)</span>
    <span class="n">axis</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;ci_upper&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="s1">&#39;ko&#39;</span><span class="p">)</span>

    <span class="c1"># plot connecting line   </span>
    <span class="n">x1</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;ci_lower&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
    <span class="n">x2</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;ci_upper&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
    <span class="n">pvals</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;pvalue&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">index</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">:</span>
        <span class="n">axis</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="n">x1</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">x2</span><span class="p">[</span><span class="n">i</span><span class="p">]],</span> <span class="p">[</span><span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">]],</span> 
                 <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;k&#39;</span> <span class="k">if</span> <span class="n">pvals</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mf">0.05</span> <span class="k">else</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span>

    <span class="c1"># draw vertical line at x = 0 to indicate true value of beta in A/A test</span>
    <span class="n">axis</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=.</span><span class="mi">5</span><span class="p">)</span>
    
    <span class="c1"># clean up and labelling</span>
    <span class="n">axis</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="n">title</span><span class="p">)</span>
    <span class="n">axis</span><span class="o">.</span><span class="n">get_yaxis</span><span class="p">()</span><span class="o">.</span><span class="n">set_ticks</span><span class="p">([])</span>
    
    <span class="c1"># plot FPR </span>
    <span class="n">fpr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;pvalue&#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mf">0.05</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
    <span class="n">fpr_patch</span> <span class="o">=</span> <span class="n">mpatches</span><span class="o">.</span><span class="n">Patch</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;FPR = </span><span class="si">{:.3f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">fpr</span><span class="p">))</span>
    <span class="n">axis</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">handles</span><span class="o">=</span><span class="p">[</span><span class="n">fpr_patch</span><span class="p">])</span> 
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>




<div class="output_png output_subarea ">
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAArsAAAF1CAYAAADoaSLbAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAADl0RVh0U29mdHdhcmUAbWF0cGxvdGxpYiB2ZXJzaW9uIDMuMC4yLCBodHRwOi8vbWF0cGxvdGxpYi5vcmcvOIA7rQAAIABJREFUeJzs3X18HFd9L/7PWT+sVk78oFUiBRyNlAQ5IVxwiHtxm9LkFriEltyWNCWhG9cuxobLpeWhPKRdcwuUbQKElt5f04KMCa49DVBuISE8FQi2uSEKUVq3JDhOQvQQh2SxZVtOsrZkWef3x8woo9XMmdnV7Dx+3q+XXpZ3V7NnZ2e/c3bO93yPkFKCiIiIiCiNclE3gIiIiIioVdjZJSIiIqLUYmeXiIiIiFKLnV0iIiIiSi12domIiIgotdjZJSIiIqLUykxnVwhREEJ8QwgxIYT4ZyFESQjxr4rH7xFCvC3MNqZFs/tOCPEmIcSTQojnhBCXtaJtYRFC9AohpBBicYDblEKIi4LaXpx4fR4pWxivw5OUeC2E2CSE+H+tfp6gCSGuEkIcirodrSKE+KwQ4sNRt8NL7Dq7Qog/EEIMmR+gp4UQ3xZC/HoAm74OQBeAopTy96WUupTyvwew3VAIIb4ohPi4z8d+RAixu9VtaoFbAbxLSnmWlPLfF7oxIcSlQoh/FUIcFUIcF0I8KIT4LfO+VAUg84R1yvzcHBFC/IsQ4ryo2+VX0j6PZGC8dsZ43RwhxOuFEPuEEM8KIQ4LIfYKIf5HENu2PUesLhqY7Xne/Aw9JYT4ayHEoqjb5ZeU8h1Syr+Muh1eYtXZFUK8D8BnAPwVjEDXA+DvAfxOAJvXADwqpZwOYFupFuTVyAZpAB5u5g9dgsM3AHwPQDeAcwH8CYATTbcuJAvY/++SUp4F4CIAZ8E4GQUuwuODYoTxOh7SEq+FENcB+GcA/whgNYxj6n8DuGYBbQxUC/f1K8zYfSWA6wG8NegnEIZY9flCJaWMxQ+AFQCeA/D7isfkYQTXX5g/nwGQN++7CsAhAH8K4JcAngbwR+Z9HwUwBeC0+RybAWwC8P9s234dgEcATAD4OwB7AbzNdv9bARwAcAzAdwFotvskgHcAeAzAcQC3ARC2+7eYf/ssgJ8BeKV5+4sA/F8AhwEMA/gTxWv/IoCPm7/3ms+5EcAYgCMAyuZ9V9e91v+w7d8d5n55CsDHASwy79sE4F4AfwNgHMDN5ut4me35zwFwEkancRWAu812HzN/X2177B5r38HoeO019+sRAF92eV+fM1/T8wB+bt5+ibmt4zCC6v+o2x//AOBb5t+8tm6bneb2Vjo83zLztcyYz/uc+V78VwD3mc/3tHkcLPXzPgNYBKNzeQTAEwD+l/n4xeb9f2Q7Bp4A8Hbbdq+Ccex+CMAzAHaZt3/AbMcvYBx/EsBFLsfH7D43//9OAA/b/p8DcBOAn5vv8VcAdNju/0MAo+Z9HwYwYu1TAB8B8FUAu2F8WXibansA2szHjpv76QEAXbZj7QlzPwwDKNlut38ef838uwnz31+re61/CeOYfRbAvwLojDqGZekHjNeM18HGa2Humw8o9unsMWDbp4sbeR0A9tna/RyA683b3whgv9n2HwN4uW27IzBi838CmASwWHUsACiYr/cYjOPnAwAOKV7XnLgOI5beVvdZczsWFgH4tPkahwG8C3PPO3sAVMzj5aS5X1Tbc9tvAsbx9ksY54CfwjzeYDvWbZ+fxwEcBXAXgBf5/ey1NGaF8SS+GmJ86KftB6/DYz4GYBDGB/gc86D8S/O+q8y//xiAJQB+C0ANwCrz/o8A2O3ywemEEdiuM//2vea2rA/O75hv3iXmgb4NwI/r3sC7AayEcXXjMICrzft+3zygfsU8YC6C8Y04B+BBGN9clwK4AEYn4PUur332gMILH/TtMD5Yr4DxIbzE6bWat30NwOdgdPTOBfATmB0uc19MA/hj8/UVAHwBQMX29/8LwHfM34sAfg9AO4CzYXwb/7pL0LkDQNl8vW0Aft3Ph958Hx4H8Ofm/vlN8z1aY9sfEwCusLZdty0B4wN1N4DfhdnZst1/FeoCEIDLAaw390EvjBPee3y+z++AcfI9H0AHgB9ibtD5bQAXmu26Esax+UpbW6YBfALGiaQA4/NQBfAy8z37J/js7Jrvz/cB3Gm7/90wPjurzef4HIA7zPteCiPw/7q5r2+FcfK1d3ZPm/sxZ7ZPtb23w7iq3g4jGF8OYLn5Ok7Y3sPzAFzq8HnsgHGi2GC+F28x/1+0vdafA+g327IHwC1Rx7As/YDxmvE62Hh9sbm9PsXz2Y8Ba5+6dXZdXwfmdy4vg9GJexWMeLURRgfX+mI2AqMjfL65r5XHAoBbAPwIRhw7H8BD8NnZNffD0wDe6/NYeAeMDvVqGF9qvo/5nd0xAJeax8oSj+057jcArzdf80oYn4tLAJzncKz/JoxO8ithnBf+PwD7/Hz2Wh6zwgyQyoYAJQDPeDzm5wB+y/b/1wMYMX+/CsY3F/vB/0sA650CCuZ+cP4QwKDtPgHjqoP1wfk2gM22+3MwArNmewPtH6avALjJ/P27AN7t8FpeBWCs7rY/A3C7y2u3H1C95nPav53/BMANLq+1C0ZwLdhuewuAH9r2RX1bXgvzG7v5/3sB/KFL29YCOGb7/x7bvvtHAAP2tireX/uH/tUwrnLmbPffAeAjtv3xjx7bWw3jqs/PYVzF3QfgJbbjxTUAmY95D4Cv1bXP7X2+B8A7bPf9d9QF47ptf906Lsy2TMF2AoBx8rrF9v9+eHd2azBOKBJGcO6x3X8AwGts/z8PRgd2MYygfYftvnazPfbO7r6651Nt762ouzpiPmYZjG/zv2c/Fh0+jxsA/KTu/vsAbLK91m22+94J88TOn3B+wHgNMF4HFq9hdIIl6jrBdY+xHwPWPnXr7Lq+Dszv7P4DzC9httsOArjS/H0EwFv9HgswOr5X2+7bCu/O7gkYV5ulud+sjrbXsXAP5o4SvhbzO7sfa+DYctxvMDqxj8K4GJSru++LeOFY3wHgk7b7zoJxXuj1+uy1+idO+RvjADo9cmJeBGOo1TJq3ja7DTk3x6sGY2d7eRGAJ63/SONdeNJ2vwbgb81JTsdhXJ4XAF5se8wzLs97PoygX08D8CJrm+Z2/xzGweiX23M6PdcSAE/bnutzML7VWZ6s+5sfAmgXQrxKCNELI0B+DQCEEO1CiM8JIUaFECdgdCJXuuTNfhDGvvqJEOJhIYTfXKQXAXhSSjlju20Uc/d5fZvnkFIeklK+S0p5IYx98DyMD7MjIUS/EOJuIcQz5uv6KxhXkezc9vmcYwhzj1MIId4ghBi0JsvBuJJl3/ZhKeUp2/+V23PxJ1LKFQBeDuNb/mrbfRqAr9ne/wMAzsA43uqP/xqMz6Nd/b5WbW8XjE7Dl4QQvxBCfFIIsURK+TyMfLR3wDgWvymEuNjhddR/zq3X7+fzRuFgvGa8tltovLbiTVCTaht5HRqAP617b8/H3GO1/vhSHQvNxO5XwjgerofRmV5mey7VsVD/XE77uL7tqu057jcp5T0wLhzdBuCXQogBIcRyh+ea85mXUj4H472NPHbHqbN7H4xvHL+reMwvYLxZlh7ztoV6GsbBDcBI5Lb/H8bB8nYp5UrbT0FK+WMf234SxvC10+3Ddds8W0r5Wwt5ISbp8FyTMPIaredaLqW81O1vpJRnYHzreov5c7eU8lnz7j8FsAbAq6SUywH8hnm7mNcQKZ+RUm6RUr4IxvD23/ucCfsLAOfXJdT3wBhidHudrqSUT8L4oL5M8bf/ACMV4SXm6/pzOLwmF3OOIbOtAAAhRB5GftetMNIpVsLIXbNvu749rtvzIqX8KYw8rNvMYxkwjoE31B1vbVLKp8znmu0YCyEKMIY+52y27v+u25NSnpZSflRK+VIYubdvhHE1DlLK70opXwfjpPYIjKHdevWfc+v1P+XwWIoG4zXjtd1C4/VBGK/793w8F2BcuACMUShL9+wTNfY6noSRAmJ/b9ullHe4tN3rWGgqdkvDV2B8tv637blUx8Kc2F33vG5td92ear9JKf+PlPJyGGlv/TBykevN+cwLIZbBOJdEHrtj09mVUk7AeINvE0L8rvltdIl5ReyT5sPuALBNCHGOEKLTfHwQJVu+CeBSIcS15pWKP4HtgwPgswD+TAhxKQAIIVYIIX7f57Y/D+D9QojLzdmQFwkhNBjDWM8KIT4kjJqSi4QQLxNC/EoAr6cKoNcKPFLKp2FM4vm0EGK5ECInhLhQCHGlx3b+CcY3zZL5u+VsGEOQx4UQHQD+wm0DQojfF0JYH8ZjMD54M26Pt7kfxre+D5rHwVUwZuV+ycffQgixSgjxUXN/58zj5a0wcggBYx8VhRAr6l7XCQDPmVcc/6ef5zJ9BcCfCCFWCyFWwZi8ZVkKI3/pMIBpIcQbYKQ5eG1vkxDipUKIdij2sYudMK40WGV7PgugYh57MD9D1qz5rwK4Rgjxa0KIpTCGVb06+a7bE0L8NyHEfzGvHJ2AMYw1I4ToEkL8jhkAJ2HkCTsdC98C0C+MslaLhRDXwwiwdze4D6hFGK8Zr+ssKF6bV+ffB+DDQog/sr3uXxdCDDg8/jCMDtSN5nvxVti+pHi8jiqMPFvLdgDvEMZVcSGEWCaE+G0hxNkuzfU6Fr4C4/hbZbbhj/3sA5tbAGwRQnT7OBa+AuDdQogXCyFWwphI58pre277TQjxK+b+WQLji8YpOB8XdwD4IyHEWmFc5PkrAPdLKUca3AeBi01nFwCklJ+GccBvg9ExeBLG7MKvmw/5OIAhGLMifwrg38zbFvq8R2BMTLgFxiX3l8DIebLu/xqMyUNfEsYw0EMA3uBz2/8MYzbkP8FI2P86jFnrZ2Bc8VoLYxblERiBdoXLphrxz+a/40KIfzN//0MYna6fwTiIvwqPISMp5f0wDuwXwciDs3wGRqL+ERidx+8oNvMrAO4XQjwHY2bmu6WUT3i9ACnlFIxg+Qbzef4eRg7aI15/a5qCkdf1fRgdrodgdLA2mdt/BMYH8wlhDOe8CMD7AfwBjPdpO4Av+3wumI//LoD/gHFc/ovttTwL44T8FRj7/g9g7AtXUspvw9jP98CY+HFPA22x9t/fwqisAPP3uwD8qxDiWRjv26vMxz4MIyB/CcaVgudg5E9OKp7CdXswOh5fhbHfD8CY3bsLRrx5H4xv/0dhTNSb94VCSjkO47PxpzA+jx8E8Ebzc0oxwXjNeG177oXGa0gpv4oXym79Akan9OMA7nT5ky0wri6Ow5iAZb9yr3odHwGw04z7b5ZSDpnb+jsY+/pxmOcJl3Z6HQsfhTGUPwyjY7nL1w54Yfs/hZFqYl05VR0L283n+E8A/w7jQsE0jJQyN6rtue235eZzHcMLVXs+5dD278M45/xfGOeSCwHc0MjrbxWrbBIREQBACHEWjIlkL5FSDkfdHiIi8maOGn5WSlmfBpZ5sbqyS0TREEJcYw5FL4ORW/xTGLOQiYgohsw0it8y071eDCNF5WtRtyuO2NklIsCoTWoV/38JjLJIHPYhIoovASNt4hiMNIYDeGFyG9kwjYGIiIiIUotXdomIiIgotdjZJSIiIqLUUq1+07DOzk7Z29sb5CYpxawUGiH8rttA1DoPPvjgESnlOVG3I0yM2bRQjOMUlUZidqCd3d7eXgwNDQW5SSKiUAgh/CzrmSqM2USUVI3EbKYxUGQeeOABPPDAA1E3g4iImsQ4TknAzi5F5uGHH8bDDz8cdTOIiKhJjOOUBOzsEhEREVFqBZqz6+T06dM4dOgQTp061eqnIgdtbW1YvXo1lixZEnVTiCgBGLOjxZhNFLyWd3YPHTqEs88+G729vZytGTIpJcbHx3Ho0CH09fVF3RwiSgDG7OgwZhO1RsvTGE6dOoViscigGQEhBIrFIq/QEJFvjNnRYcwmao2WX9kFWH8vSnHe95s2bYq6CUTkIM5xI+2Stu8ZxykJMjFBbdGiRVi7du3sz8jICPbs2YMVK1Zg7dq1uOSSS/DRj34UAObcfvHFF+P9739/IG0YHh7Gq171Klx00UW4/vrrMTU15frYsbExnHXWWbj11lsBAAcPHpzT/uXLl+Mzn/kMAODo0aN43eteh5e85CV43eteh2PHjgXSXiKiqCQpZt9888246KKLsGbNGnz3u9+dc9+ZM2dw2WWX4Y1vfGPD2yWi4ITf2e3uBoQI7qe72/MpC4UC9u/fP/tjrRj06le/Gvv378fQ0BB2796Nf/u3f5tz+7//+7/j7rvvxr333rvgl/2hD30I733ve/H4449j1apV2LFjh+tj3/e+9+ENb3jD7P/XrFkz2/YHH3wQ7e3teNOb3gQAuOWWW/Ca17wGjz32GF7zmtfglltuWXBbw/LjH/8YP/7xj6NuBhGpMGa7xuyf/exn+NKXvoSHH34Y3/nOd/DOd74TZ86cmb3/b//2b3HJJZc0vN0kYRynJAi/s1utxm57y5Ytw+WXX47HH398zu2FQgFr167FU089taDtSylxzz334LrrrgMAbNy4EV//+tcdH/v1r38dfX19uPTSSx3v/8EPfoALL7wQmqYBAO68805s3LjRc7tx9Oijj+LRRx+NuhmJoes6ent7kcvl0NvbC13Xo25SrHD/tAhjtmtsvfPOO3HDDTcgn8+jr68PF110EX7yk58AMCb6ffOb38Tb3va2hrebJEHHcX6OsyPM9zqUnN2onTx5EmvXrgUA9PX14Wtf+9qc+8fHxzE4OIgPf/jDOHz48Oztx44dw2OPPYbf+I3fmLfNgwcP4vrrr3d8vj179mDlypVztr9y5UosXmzs7tWrVzsG4+eeew6f+MQn8L3vfW82haHel770JbzlLW+Z/X+1WsV5550HAOju7kY16BMTxYKu69i6dStqtRoAYHR0FFu3bgUAlEqlKJsWC9w/6ZKUmP3UU09h/fr1s/+3P+4973kPPvnJT+LZZ59teLtZxc9xdoT9Xmeis2sNidX70Y9+hMsuuwy5XA433XQTLr30UuzZswc/+tGP8IpXvAKPPfYY3vOe96DbYdjNSi0I0kc+8hG8973vxVlnneV4/9TUFO666y7cfPPNjvcLIRI3uYH8KZfLqNVq+BsAa60bazW0bd4MbN8eYcvi4cLBQXxzchIAsB/AewHUajWUy2WeJBMoKTHbzd13341zzz0Xl19+Ofbs2RPKc6YB41x2hB2zM9HZdfPqV78ad999t+vtw8PDWL9+Pd785jfPXmWwNHKVoFgs4vjx45iensbixYtx6NAhvPjFL573d/fffz+++tWv4oMf/CCOHz+OXC6HtrY2vOtd7wIAfPvb38YrX/lKdHV1zf5NV1cXnn76aZx33nl4+umnce655za1Lyh8uq6jXC5jbGwMPT09qFQqrh/ysbExx9tPmcEibarVKoaHh3FqchJt5hCx/biv57Yf3PYbJVPcYvaLX/xiPPnkk7P/tx5311134a677sK3vvUtnDp1CidOnMCNN96IXbt2+dpu2viNdVmLc2mniuOhx2wpZWA/l19+uaz3s5/9bO4NQPA/HpYtWzbvth/+8Ifyt3/7tz1v/+u//mt5ww03eD6Hl+uuu07ecccdUkop3/72t8vbbrtN+fi/+Iu/kJ/61Kfm3Hb99dfLL3zhC3Nue//73y9vvvlmKaWUN998s/zABz4wb1vz3oOY2LVrl9y1a1fUzYjE7t27ZXt7uwQw+9Pe3i53797t+HhN0+Y81vrRNC3choeg0X0jZTD7B8CQDDAeJuGHMdudn5j90EMPyZe//OXy1KlT8oknnpB9fX1yenpa2T4/241rzHbiFccb+TxnKc6lndf7HnbMzvSVXT/e8Y534NZbb8XIyMjsjOBmfOITn8ANN9yAbdu24bLLLsPmzZsBAHfddReGhobwsY99TPn3zz//PL73ve/hc5/73Jzbb7rpJrz5zW/Gjh07oGkavvKVrzTdxrDdeOONUTchMo0O191fKOBgLoeZmZnZ23K5HNYUCsBVV4XR5NA0M7xVqVTm5H8BQHt7OyqVSggtpjgJM2ZfeumlePOb34yXvvSlWLx4MW677TYsWrSoqe0mlVccbyTWZSnOpZ1XHA87ZgujcxyMdevWyaGhoTm3HThwYG7ple7uYGf3dnUBzzwT3PZSaN57QKFyGsLbsGEDpJRzTwCmq6680nE7jQ7tJ4HTazrwyCOz91tBEjBy0u0nwXqNpIU4EUI8KKVc1+RLSSTG7HhKcsyu/xyOjo4CgO9Yl8Y4lyX298/iFsdDjdl+LwH7+fE1JEahi+t7sGfPHrlnz56om9FSbkM5xWIx88N1cds3YBqDlDK+8SJLkvQe2OO402daCJH5WJcVTu9/K9/3RmI20xgoMsPDwwCAK12uZKaB2xDekqkpnMn4cJ3bMFehUEB7eztTEogSwB7HHeOdw+hx1mJdVjjFdLso43gmlgsmajW34thuM0tPT09jTX8/2vJ5AEBbPo81/f2pHa6rVqsYHBzEnr17MTg4iGq16job9+jRoxgYGICmaRBCQNM0DAwMsIQYUQzUx7r77rtv9j7VTPqsxLosU1XNiDqOh3JlV0rJ+q8RkQHmZJMzVXFsK2et/huupmkYOXAAWQj3s/vHCoSTk2gfG0OhWMT4+Pi8x/f09KBUKrFzGyHG7OjEOWY7xbovfvGLAIBNmzap493ISKhtpXDpuo4N+/Y5Hr9xeP9b3tlta2vD+Pg4isUig2fIpJQYHx9HW1tb1E1JNdVs4/v7+jI/u5jpCsnCmB2duMdsK9bZTU1N4Qtf+AIOHjyIQqGAnEO8KxQKuCoj8S6rBgcHHTu6QohYxPSWd3ZXr16NQ4cOzVnSkcLT1taG1atXR90MR4VCIeomNMxp9qiqELo1VJel2cX1s6lV6Qq7du1a0GxcCh5jdrTiHLPdYt309DQAzIl3k5OTyGcg3mWFFdfd3tdJlzgvpYxFTG956TGitKgfwgOMK5GFQsFxOD4OQzdhc9pHQojYDm3ZsfQYkVpnZ6djrCsWizhy5EgELaIwuJ377Dm4vb29s2Xm7FoZ5xuJ2azGQOQTKyt4c0pZsPI/7R1episQpcfExATTFFJscHBw3pXb+oV+4r6wD6sxUGS+//3v4/vf/37UzfDN6VsrkL3KCm5UFRaklKyuQJRwTld1gRfSGCid3FIU7GktpVIp1lV0eGWXInPo0KGom+CbruuzVyezXFnBzewwl8v9cUtZIKLG2GNgvWKxiD179oTfKAqFW/pKR0fHnP/HuYoOO7tEPpTLZdflfS/JYLpCPVUx8TgNZRFRc6wY6GTJkiVMY0ixiYmJqJuwYExjIHJQXzjdLYUBQObSFSz2hSJUxcTjNJRFRN6cFslRLRixYsWKEFtHYXNLUzl69GjILWker+wS1XEqnK5MYcjg8N28hSJcaJrGji5RgrgtktPR0eFaieGmm27Cpk2bQm4phUHXdexzWSyip6cnghY1h51diszy5cujboIjru/uzWsNdIDpC0RJ5LRwRK1Ww9TUlOOCEW1tbfjUpz41u5IapUvcF4vwi2kMFJlrr70W1157bdTNmGUN3alSFlhxwUhdUKUtxHEmLhF503XdNf5NT0+jv78feTMG5vN59Pf346KLLsI555wTZjMpJNVqNfaLRfjFK7tEcC6azfXd5/KTupD1fUSUVNbn242maThw4ECILaIo+TkekoSdXYrMd77zHQDA1VdfHXFLXFIXbLKcsmDxSl1g2gJRcjmlL1hyuRwKhYJjxQVrklJ9GSpKNqeFJCxJjPVMY6DIPPPMM3jmmWeiboZy6A7IbsqCxU/qAtMWiJKlkYoz/Yr4NzU1hampqVY1kyLi1tEFkllhh1d2KdPqh2qYujAXUxeI0kdVcaaeV/qCNTGN1RjSxW0hiWKxmLiOLsDOLmWcKn2BqQtMXSBKI6eUBaeOrip9wWKNzrEaQ7qkYSEJO6YxUKY0MnSX1dQFv4tFMHWBKFn8VJypr7aQxRiYZVb8T8NCEna8skuRKRaLoT5fw4tFZHDmcSOLRTB1gSg5nCrO1Gvmc/2Nb3wDAHDNNdcspHkUA9YxosrXTdJCEnbs7FJkwg6OXCzCGxeLIEonVbUFwF/KgsqnP/3pJltGcaGqwAAkO/azs0upp+s6yuWyZ8WFU5OTaMvn0dfXl6mhu2q1iuHhYWXKAmAsFtHT04NKpcLUBaKEGRsbU97f3d2dqbiXVVa8n5ycRL7ufKfq6GqalujYz84uRSaM4S8uFqHGtAWibOjp6VF+4T9+/Di2bNnScGeGaQzJUZ+mMDk5ibGxMWzbtg2lUsk1nzsN8Z+dXYqMU1mToHGxCDWmLRBlQ6VSUebs1mo1bN68Gdu3b29ou1Y1BqYxxJ9TmkKtVkO5XEapVHI8RtIS/1mNgRKrvrKCruvzHqMausvCYhH2ygqDg4OoVqtz7lelLgghWHGBKGHc4mKpVMLAwIBymVfVMDYlk3UO2Lt3r+v7a50n7cdI6uK/lDKwn8svv1wS+XX77bfL22+/vam/3b17t2xvb5cAZn/a29vl7t275zxO07Q5j7F+NE1b+AuIOT/7KMv7px6AIRlgPEzCD2N2ukQRFxcSx6m1nI6HNMX7RmI20xgokRzTE2o1tG3eDNiG4e4vFHAwl8PMzMzsbVlJXXBKUbAPWQHOQ5tpGbYiyhqnigtO6QmFQgE5h7jYTDUGLioRX17VFYDsxHt2diky3d3dDT3eqqowNjbmuNoPMH9Y3kpRsKoNpLnagr2qglVdwok9tcPq9Fr7ldUWiJLHq+JMfYfHHhedZuU3YunSpY03mFrGXm1BJWvVdYRbp6EZ69atk0NDQ4Ftj8jipyA6kI5Zo81w2j+qte6zuI+8CCEelFKui7odYWLMTr5WLRZByZO182QjMZtXdikRvKoqANlJT3DilLIgpZzX4c3KkBVRVrR6sQhKDqYtuGNnlyLzL//yLwCAa6+9Vvk4XdeV9SEBpDo9wUu1WnVNWZBSQtM0pigQpZSq4sxC0hP8Onz4MADgnHPOadlzkDumLfiov/rpAAAgAElEQVTDzi5F5sSJE56PsYZlLFwQYq7ZYSuX+7O+f4jSzm2xCCEEduzY0fKOjTUxbdOmTS19HpqvfpEINzwPsLNLMadKX8hy2oJFtShEVoeriLKkUqlgw4YN8/LzpZRNLRLRKFZjiA7TFvzjohIUa6r0hbQvCOFFlb4AID3FwInIkVWFwW2iOReJSDfV+5u6RSEWiFd2KbZ0XZ+dYOWYvnDgQCTtigM/6QsMcETp5bcKw549e1raDqYxRKe3t9c1hWXXrl08B9iws0uRWb16tfJ+64qFUwrDJUxfYPoCUYbFpQrDsWPHADCNIQqFQsHxdinlnMWDiGkMFKHXvva1eO1rX+t6vyqFIcvpC8D8xTPsOGxFlG5eFWry+Tz6Q0rzWrVqFVatWtXy56H5VO/v6OgodF0PsTXxxiu7FEueKQwtHpqLu+s6OzE+Pj7v9mKxyI4uUYrVV6ipx5n32eKWygBg9jjhOYGdXYrQl7/8ZQDA9ddfP+8+pjCo3TkxgdPm7/VpDESUXqr0hSgWkPjlL38JADj33HNDe056QaFQQC6Xw8zMzLz7arUa0xlMTGOgyJw8eRInT56cd7vXEF3WUxgA4PT0tOPtR48eDbklRBQm1SISYaUu2M3MzDh2tCgcXV1d6O7udr1fdbxkCa/sUqz4WkQi4ykMgHsaQ0dHRwStIaKwdHR0uKYwHYigQg2rMUTLK62lp6cnxNbEFzu7FCtcRMIfpjEQkd3ExESo6QsWLioRLdXCEqzM8wKmMVCsqIZcsr6IhB3TGIiyR9d1x6u6ADDtEhMo3VQLS2zcuJH5uiZe2aXI9PX1zbvNWue9/kqlEAK7tm3jBxfGCW/Dvn2OqyZxyIoonfxUYWj1AhJO9u7dCwC48sorQ39uUldj2LlzJ6644gqeNwEIt2UGm7Fu3To5NDQU2PYoe3Rdn13nvT6VoS2fx/r166NqWmwMDg7O1tm1pzBw1ZyFEUI8KKVcF3U7wsSYnRyqTk0ul4tkchpFr1qt4tFHH3WdJJjmUnSNxGymMVDsuH0BUy2kkCVu+0FKyY4uUUqpUry6u7vZ0c2garWK4eFhZTUMVmMwMI2BIrN7924AwI033giAlRj8UKUwaJoWQYuIKAxWipeT48ePY8uWLZF82a2P4xQO63ypytkFmNpmYWeXIlM/oYKVGLxdODiIe8yObn0KA2fdEqVXpVLB1q1bHReUqNVq2Lx5M7Zv3x56u6xqDJ///OdDf+4sU1VhsLAawwuYxkCx4LWQBCsxGENWTGEgyh5d15UrpwHqWfmUPqr3WwgBTdMwMDDA84KJV3Ypcr7SFyIolh4n1j5yO9UxhYEonWY/+4qOLhBdNQYuKhGNTpeFhYrFIo4cORJBi+KNnV2KHNMXvF04OIhvOlRgADhURZRmXld0ASNOFgoFLiqRIRMTE1E3IVGYxkCR6e/vx/DwMNMXPKjSFwBwqIooRXRdR29vL3K5nLLcmCWfz0dadqxQKKBQKETy3FnmtojI+Pg4ent7oet6yC2KN17ZpcgMDw/j1ltvnf0/0xfm85O+wI4uUTrUpyyMjo5CCOFafSWt9VPJm+qL0Ojo6GxqIM8PBnZ2KTJMX/DG9AWi7HBKWXDq6EaZtkDxUCgUkMvlXGvs1mo1lMtldnZN7OxSZJi+4I3pC0TZ4WcBgHw+j76+vtjERytnt7u7O+KWZI+qswtwQQk7dnYpMsuWLcPzzz8/L32hWCziSMbTFwDvBSTY0SVKF9XCEYAxmhO3L7msxhA+K93FLW/XwgUlXsDOLkWuPo1hycRE5tMXAC4gQZQ1qoUjgGgXj3DDagzh44ISjWM1BorM888/73j7aY9vq1nBBSSIsqVUKmFgYEBZN5uLR2RbtVrlghJN4JVdiowyjSGC4uhx4pXCQETpVCqVUCqVXGfbCyGwZcuW2HRkmMYQnvoFmOqxQoc7dnYpMosXG4cf0xjmYwoDUbZVKhVs2LBh3hdeKWWsUhlOnDgBgGkMYVClLzBtQY1pDBQZtxVgmMbAFAairCuVSo4jO0C8UhmWL1+O5cuXR92MTFC970xbUOOVXYqEfXUXx8UkMp7GcJ1i3XMiyoZisegaB/bEJEaePn0aALBkyZKIW5J+nYrzAju6auzsUiTK5TIA4C0A6jOQLuFiErhzYgKnzd/rF5MgomybmJiIzYISrLMbHrfRUPLGzi5FQlXsOi7F0qPklspx9OjRkFtCRFFx+7xPT09j7969sVtggoJVrVYxPDyMyclJ5PN517q6PC94Y2eXItHR0YHx8XHcAeAO2+2sxKCuxMAi4UTZ4bXIxOTkJMbGxrBt27bIhrFZjaE1rMoLVp7u5OQkhBA8LzSJnV2KVH0aAysxsBIDERm8FpkAol9ogotKtIZT5QUp5bwOL6sw+MNqDBQJt2EXVmJgJQYiMliLTHhNTI1TdQYKhtt7KqXEokWLAICLRzSAV3YpEkxjcLdJUUxe13UGNqKMOXnypPJ+TdMiq86wf/9+AMDatWs9HkmNcFtUBADOnDkze0WX5wN/2NmlSHFBifnuLxRwwPZ/K5VBSolyuczgRpQh5XJZmcaQy+VQKBRiU52BglEoFJDL5TAzM+N4f61W4/mgAUxjoEhYaQxTdbczjUFdjUJVxYKI0kf1mc/n8+jv74+0GsOZM2dw5syZyJ4/rbq6utDf3498Pu/6GJ4P/OOVXYqElcbwobrbmcbAagxE9AIrVtYrFos4cuRIBC2ai9UYWs9tMYmOjo4IWpNM7OxSpFiNYT5WYyAiL3FZWILVGFqPi0ksHNMYKDS6rqO3txe5XM7xWyqQ7TSGarWKwcFBVmMgotl46RYr3RYYoHSpVqtcTCIAvLJLobAKZNdPtKivxqBpGkYymMYwu38UJYQ0TQuxRUQUFbd4aRdlBQY7pjG0jnUcuGFam3/s7FIovGYUA9meVexUQNyOhcOJsiNJFRiYxtA6qvMCzwmNYWeXQuE1azTra7yrOrqaprGeIlGGeFVgiFOsPPvss6NuQmqpzgtcTKIx7OxSKOI+ozhqbrNti8UiRkZGwm8QEUWG8ZIA9XmBHd3GsLNLkTp+/HgshuKixtm2ROQlLhUY7KzJU4sXszsRNJ4XgsNqDBQKtxnFLEZu4GxbIrK4fe7jWIHhyJEjvNrcIjwvBIdfxajldF2HEMJxkYRisRiLGcVR0nUd+7iIBBGZVGkMcYuXrMbQGjwvBIudXWq5crns+IEFgCVLlsRuWC5sg4ODjvuHi0gQkV0c0xhYjaE1eF4IFtMYqOVGR0dd71uxYkWILYkntxm3XESCKHt0XedCEsTzQsB4ZZdayiuF4aabbsr88Fdvb6/jFwIhBHRdZ2AjygivRQTispCEHdMYWoPnhWAJt+HlZqxbt04ODQ0Ftj1KPrcPLAD09fWhs7MT7e3tIbcqXqrVKh555BHH+zRNY+mxkAghHpRSrou6HWFizI4XVbzM5XLo7++PTX1di7X4RdbjeNB4XvDWSMzmlV1qKVVxdCbZG7q6ulyDmtdiHESUHqrPey4Xz6xDdnKDVa1WMTw8rFxQgueFxrGzSy3V09PjOhRzww034LrrrkNnZ2cELYsPzrolIsA9XgJGvu7Y2Bi2bdsWqyFsq+xY1uN4EKw0FlVHF+B5oRns7FJLVSoVbNiwYV5HTkqJP/7jP8ZnPvMZdHd3R9S6eOCsWyICjHi5devW2dSAerVaDZs3b8b27dtDbpk7qxpD1uN4EAYHBz07uu3t7TwvNCGe4yKUGqVSybXsGGcWGzjrlogAI14ODAxA0zTXx3h1hii5VO+tEAKapmFgYIDnhSbwyi61FKsxeFOtf05E2WJ1ZJxGxID4VWRgNYbgqCow7Nq1i53cBWA1Bmop1ezi7u5urFixIvPDX/fee6/jVe5ischlOEPEagwUF6q4efHFF8eqIgPTGILDCgyNaSRmM42BWkLXdWXABrK9oES1WsXg4CD27t3L9c+JMsyKlblcDr29vdB1XTnbPk4dXQqW6r0dHR2FrushtiZdmMZAgbNmlLpNsgCMb6nf+ta3AAAXXHBBWE2LBc64JSJgfqwcHR3F1q1b0dHR4ZjaFLcUBgB44oknAGQvjreK6iKRteAI0xkax84uBa5cLis7urlcDoVCAW9961tDbFV8cMYtEQHOsbJWq2Fqagq5XA4zMzOzt1tx86qrrgq5lRSmQqEw77231Go1lMtldnabwDQGCpwqdSGfz8+uAjQ1NYWpqakQWxYPnHFLRID74gDT09Po7u5GPp8HMDduxk1W43grWAtKOHV0LVxQojm8skuBUlVfqE+wz+IsXtUCEpyAQJQtqkUkjh8/jh07dsT+S28W43grML2ttdjZpUCVy2XXurr1Q3DWLF4rWGYBF5AgIotqEYk4LiDhJItxvBWY3tZaTGOgBbPPJlalMMRxCC4M9soLXECCiKyYuWHDBhQKBdfHcQGJ7GB6W2vxyi4tiJ/KC4DzLOIsDH/5HZpSrZhEROlRHzPHx8eVqV9xq75QLwtxvNWY3tZ67OzSgnhVXgDcZxFnYfiLQ1NEZOcUM506OUmpvpCFON5qTG9rPaYxUFP8LBoBqGcRr1y5EitXrmxVEyNXrVY5NEVEAPzFzCRUX6iX9jgeBqa3tR6v7FLD/C4akeWhF2sfucn6/iHKEsZMcuOVwkDBYGeXGuZ30Qiv4bdTp04BANra2oJsXiyo0heYtkCULUHFzDhKcxwPA1MYwsHOLjXMaxiur6/P1/Db8ePHAQDd3d2BtS0uVOkLTFsgyhbVQgCLFy/GRRddlIiUBSdpjuOtZC0gwRSGcLCzSw1pZNEIL2mdxes1LMUARpQtqsUjli5dim3btiU2LqQ1jreSnyo9TGEIFju71JBGFo3wktZZvByWIiK7NCwe4SatcbyVvKr0MNUteKzGQA1RDccldRguaByWIiK7UqmEgYEB1/u5eES2eF3RZapb8HhllxrS0dGB8fHxebcXi8WGi5+ncfiLM2uJyE2SF49wk8Y43mqdnZ2u51FW5GgNdnYpEBMTEw3PJJ6amgKQruEvpjAQkZMgU8DiJI1xvNUmJiaibkLmsLNLDTl69Kjj7dPT0w1va+nSpQttTuwwhYGInKQ1BSyNcbzV3M6XbudXWjh2dqkhQaYxPPHEEwCACy64IIimxYJqeIqIssutIoMQAlu2bEnsl+E0xvFWUqW69fT0RNCibGBnlwLRTBqDNYs3TfUZOTxFRE4qlQo2bNgwr5MjpUxFNYY0xfFWYqpbNFiNgRoSZBpDGnF4iojsdF1Hb2+vY0fXwmoM2aFKdduwYQN6e3uh63rIrUo/XtmlhrAag5pbGkNHR0cErSGiKFmLB6iWCgZYjSFLent7XRcYkVJidHQUW7duBYDEprbEETu7FIiFpDGkaRYv0xiIyFIulz07urlcLtHVGNIYx1upUCggl8thZmbG9TG1Wg3lcpmd3QAxjYEawjQGNaYxEJFFVYHB0t3dnehqDNSYrq4uX/nNfo4d8o9XdqkhQaYxHDlyBIAx9J8WTGMgIotbBQa748ePJ7oaQxrjeCtZqS1eWJkhWOzsUiCaSWNII6YxEJGlUql45uzWarVEV2OgxgwODnpOSGxvb2dlhoAxjYEa4nTVEmgujaFWq3nmsyUN0xiIyFIqlTAwMABN0yCEcH1ckqsxpDGOt0q1WlW+10IIaJqGgYGBxF7pjyte2SXfdF0PdG33tM3iZbFwIqpXKpVmOy6qRWdYjSHdvNIXNE3DyMhIeA3KGHZ2ybeg13ZP2yxeFgsnomYkOQ0sbXG8VVTpC0xbaD2mMZBvqokWnE2sLhbOISmibNN1PdA0MEoWVfrCxo0beY5oMV7ZJV+CTmEA0jf8pRqiJKLs8jOEzTSGdFMtJrFz505cccUV7PC2kHAblm7GunXr5NDQUGDbo/hQfVAvvvjipq7spm1N9XvvvdfxCk2xWJwtz0PxJYR4UEq5Lup2hIkxOxyq+JnL5dDf35/Y0bG0xfFWqVarePTRR10Xk2DObuMaidlMYyBfVAWumw3SnZ2dqarNyEoMRGSn67qyowsg0R1dIH1xvFW6urrQ39/vev/o6Ch6e3uh63qIrcoOpjGQL0EuJpFWXFCCiCxW6oKqLJemaThw4ECIraKoqb78jI6Ozqa7MKUhWOzs0oIsZBbx888/DwBYtmxZgC2KDheUICJLuVxWdnRzuVxTVWziJm1xvNUKhQJyuZxrOkOtVkO5XGZnN2Ds7JIvbkPxC5lF/OyzzwJIR5CsVqtMYyCiWarUr3w+j76+vkSnL1jSFMfDYL3nw8PDrhUaVMcONYedXfKlFWkMaZnF6zXTmgtKEGWPKmamacJqWuJ42HRdx4YNG7gIUUjY2aUFWUgaQ1qKkbNYOBH5leQFJJykJY6HjYsQhYvVGMgTi6GrqYqFc41zomxqReoXpUO1WuUiRCHjlV1SamUx9DQMf+m6jn379rkutsGgRZRNWalgk4Y4HiY/51QKHju7pKSaUbzQ2cRnzpwBkOzhLw5FEVEj0pbGkIY4HiamvUWDnV1SamUx9EWLFjX9t3HBoSgicpKVNIY0xPEwVKtVZQUGgGlvrcTOLrnSdR1CCNch+oUWQ9+/fz8AYO3atQvaTlS8UhiIKLt6enocLxYIIbBly5bUdGqSHsfDYKUuqDq6THtrLXZ2yVW5XHbsyAEIpBh60tdUZwoDEbmpVCqOpaWklNi8eTO2b98eUcuClfQ4HgZV6gLA9IUwsBoDuVKlMKShGPpCMYWBiNyUSiXXiwWqjg+lj9cVXaYvtB6v7JIjrxSGIGYTJ30Wb2dnp+tsayLKtjBiaBwkPY6Hobe31zWlpVKpsKMbAuH2zbMZ69atk0NDQ4Ftj6Lj9uEEgIsvvjiQK7tJH/669957HSebpG2FpKwQQjwopVwXdTvCxJjdOmHE0DhIehwPQ7VaxSOPPOJ4n6ZpGBkZCbdBKdFIzGYaAzlSrc2dliC9UG6zqt1mYRNRdjCGkh+q44SCwzQGchRGQfTTp08DAJYsWRLI9sKkqsTAdc2JKCvVGJIcx8PgtYgEzxfhYGeXGpK2gujNYiUGIlLJSjUGUuMiEvHANAaaR9d1x6u6QLAF0U+cOIETJ04Etr0wsRIDEbnRdV1ZujFN1RiSHMfDwEUk4oFXdmkOP+t2B5XGkNRZvFxMgojcWDHUbZl1gNUYskRViYHCw2oMNIdqBnEul1vwEsF2SZ3F6zYsJYTArl27+E09oViNgYKgiqFA8HE0akmN42FhJYbWYTUGappqZmiaAvRCMIWBiOrpuu7Z0c3n84yjGaN6r1XHCgWLaQw0h6oKw4EDBwJ9riQOfzGFgYjq+U1dSONVvCTG8bCpUhl0XedFkhCws0u+tKIKgzX8ZQXLJGAVBiKqVy6XlR3dXC6HQqGQyko2SYzjYSsUCo63SylRLpfZ2Q0BO7s0K6wqDJak5XhVq1WmMBDRPKr0r3w+j76+vtSmLiQtjoetWq1ieHjY9X4uKhEOdnYJQLhVGJLIz/4homxSLSCxY8cOfhHOKOu8oSo/xkUlwsHOLgFQD8O1aghuYmICALBixYpAt9sKLAxORG6yvIBEkuJ42FTnDYDnjjCxGgMBiKYKw8mTJ3Hy5MnAt9sKLAxORCpZWEDCSZLieNhU772maTx3hIhXdglAuFUYLEmZxetVgYHBiii7sp4ClpQ4HgVVFYZKpcJzR4jY2SWlVlRhsCRlFi8rMBCRmyhSwOIkKXE8CqzCEB9MYyAACLUKQ9KwAgMRuVGlgOVyPMVmFaswxAuv7BJ0XYcQwnWYvlVDcLt37wYA3HjjjS3ZflBYEJyI3LhVYgCMiwVjY2PYtm1bauNEUuJ4mFiFIX6EW1J9M7jOejKplri8+OKLU1sf0i+ubZ4NjayznhaM2QvnZ/W0fD6P9evXh9gqipKfKgycnLZwjcRsjrGQcn3urHd0vXAoiijbSqUSNm7ciEWLFrk+Ju0VGWguVmGIH6YxZFxUKQwAsHfvXgDAlVde2bLnWCivmdYciiLKNl3XsXPnTpw5c8b1MWmuyJCEOB42VmGIH3Z2M65cLrvWh2z1LGJrFm+cl5vkYhJEpKKqxgCkvyJDEuJ42FiFIX6YxpBRuq4rc3UBpjBUq1UuJkFEc1ixM5fLecbQfD7fskV5KL5U77fqeKHW4ZXdDPIzoSKMYbc4FyP3UyieHV2ibKmPnaOjo8o0sCxMXo1zHI8Sq/jEC6sxZJDX1YhcLhfK1Yg4D395pS/wqm76sBoDefGKnZawYmgcxDmOR4lVfFqvkZjNK7sZpKogkM/n0dfXF0qQjnPBdaYvEFE9VexcvHgxpqenQ42hcRDnOB4VLigRP+zsZlBHR4fjimnFYhFHjhyJoEXxous69u3b5zo0yY4uUTapFpBYunQpvvjFLzI+ZBwXlIgndnZp1sTERGpnDDdicHDQsaNrlY0homyqVCqu8x1qtRo2b96M7du3R9Ayigs/C0rwPBI+dnYzQtd1lMtljI2NuZYam56eDrVNx44dAwCsWrUq1Od1Yg07qYKUlJJXbYgyzPr8uy2Nm8XFI+IUx6NgP3fk83nPBSVYZzca7OxmgJ/qC0D4hc/jMovXz7ATYOwfIqKoFuKJo7jE8SjUnzsmJyczX50jrtjZzQCvoudANIXPrVm8VrCMitewE8ChJyIyRLkQTxzFJY5HwencIaWc1+Hl+SN6nEaZcrque5bKyXrhc1VHVwjBtcyJiAvx0Dxu5w4pJTRN4/kjRnhlN8X8LIwQ5bBKXIa/Ojs7WZ2CiFzFZSGeOIpLHI+CauEI5ubGCxeVSDHVVYg4FD0/fPgwAOCcc86JrA0AcO+99zpOzmNnN1u4qAS5ictCPHEUlzgeBS4cES0uKkEA1GtwxyEwxyE4VqtV1yoUR48eDbk1RBRHcVmIJ47iEMej0tXV5drZ5cIR8cLObkrpuq6cFXrgwIEIWhUvXmkeLPxNRAAX4iFnqgWIeP6IF3Z2UyoJM4atK6cdHR2RPL+qCgNnzxKRFy7EE30cjxIXIEoOdnZTSjWEEpfhtqmpqUifX1WFgbNnicjiltIU9kI8cRR1HI9KtVpVVmPg+SNe2NlNKdWwW1xmDEc5i1c1/KRpGgMVEc3q6elxnXW/ZcuWTMeLLFZj8FPpiOKFnd2MidOwW5TFyDn8RER+VSoVbNiwYV7MkFJi8+bN2L59e0Qti14WF5VgClzysLObUhx2U+PwExH5VSqVcOONNzreNzk5ib1792a+KkPaVatVDA8Pe662yRS4eGJnN6WSkMbwjW98AwBwzTXXhP7cqmLguq4zWBHRHJqmKcs5Tk5OYmxsDNu2bctU/IgyjofFSlvw6ugyBS6+uKhESrmtCrZ48WJcccUVEbQoXlgMnOpxUQlS8bOKGmDU3V2/fn1IraIwqNIWLO3t7byqG7JGYnau1Y2haDCNQU011Mhi4ETkpFAoeD7Gq1NEyePnPfVzbFB0mMaQUkxjUGMxcCLyy+mqrmrRnrjE2DBkIY1BlfZmHQPj4+OzFRp4dTd+mMaQUklIY7Bm8XZ3d4f+3G7DUkII7Nq1i8Eqg5jGQG7cOjv1crlcLJZiD1OUcTws1WoVjz76KGZmZjwfyzS48DCNIeN0XXfs6AJMY7CwGgMR+aXq6Obz+dl/s9bRzYquri709/fPvteLF7sPijMNLp6YxpAyfopdx2WILapi5F4LShARWXRdV6YsZP0qXtYWlbDOsW4XjpgGF0/s7KZMuVx2nS2cy+VQKBQyv6gEF5QgIr/K5bJjvAAQq3galawtKsEFJZKJnd2UUQ23xW2IbenSpaE/J9czJ6JGqGJqnOJpVKKI41FSVWZg6bH4Ymc3RbyG2w4cOBBBq+KD65kTUSO8YmpcUsIoPG6Tv4vFIju6McbObopwuE2Nw09E1AjGVKo3MTERdROoCazGkCKqWaBxHG47fPgwDh8+HNrzcfiJiPzSdZ0pDD6EHcej5jYxza0CEsUDr+ymSBIWkrALexYvh5+IyI8kVbWJWtaqMagWmNB1neeSmGJnNwMmJiZiOdwW9ixeDj8RkR9JqmoTtaxVY3BbFlhKiXK5zM5uTDGNIUW4kISa2344evRoyC0hojhTpYR1d3czhSGjqtUqhoeHXe/nghLxxSu7KZHEWcNhDn+pFpJgEXAisuvp6XHN1z1+/Di2bNnCK3imrKQxWKktqrkfPJfEFzu7KZHEWcPHjh0DEM7wFxeSICK/KpUKtm7d6pjKUKvVsHnzZmzfvj2ClsVPmHE8SqpqPgAr+sQdO7sJp+s6yuVyImcNr1q1quXPYQ07cSEJIvLLigk33nij4/2qTk/WhBHHo+J1/rBomoZKpcJzSYyxs5tg1rCK20QKIL4pDGHwM+zEhSSIyEmpVMK73/3uRFW4oeD4OX8AxjlkZGQknEZR09jZTTDVjGEg/rOGf/nLXwIAzj333JZsn8NORNQKca1wE4VWx/GoeJ0/AJ5DkoTVGBJI13XXWn+WfD6P/v7+2KYwAMDMzAxmZmZasu1qtep5RZcLSRCRnRVbc7kcent7WeHGh1bG8Sipzh9CCJ5DEoZXdhPGb+pCEoZVWjWL109B+CTsHyIKT31sHR0dTVyFmyiktRqDahGiI0eORNAiWgh2dhMm6akLdq0qRq4afuKwExE5cYqtTh3dJMXYMKR1UQkuQpQu7OwmjKpodT6fR19fX6xTF8KgGn7isBMROfGKrZOTk4yxGcJFiNKFnd2E6ejoSM3Qyt69ewEAV155ZWDbVC0eoWkaO7pE5MhtIQkhBHbs2MHY4aIVcTxqXIQofdjZTQnODjZw8QgiakalUsGGDRvmxQ8pJReRyBieR9KH1RgSRNd1zg72wMUjiKhR1uI8bqtQchGJbOF5JH14ZTch/FQYSNrs4N27dwNwX6WoUV4pDERE9XWkPSoAABwHSURBVLg4z8IEHcfjQFWJgZKJnd2EUFVhSOrsYGsW7+c///lAtsehJyJqVJoq3EQh6DgeB6zEkD7s7CaEagGJuC8eERYOPRFRo1jhhuyq1SorMaQQO7sJoOu6srj5gQMHImjVwgVZjJwpDETUDFZhWJg0LSrhlS7ISgzJxc5uAqgmTiR5eC3IYuRMYSCiZrAKw8KkaVEJLkiUXuzsxow1K3hsbAw9PT2oVCrKYbYkD68VCoWG/6ZarWJ4eHhegXemMBBRo1iFYeGaieNx4HQu4YJE6cXObow4rc2+detW14UksjZD2No/VkCanJzE2NgYtm3bhpGREcehSKYwEJETVmHILrdzSbFYdD3XsqObbOzsxojTrOBarYapqSnkcjnMzMzM3p7FGcJOQ0y1Wg3lchmVSmXeiYvDTkTkhlUYssvtXFIoFNDe3s7zSApxUYkYcUtXmJ6eRn9/P/L5PABjhnAaKjA888wzs/lefrgNMY2NjaFUKmFgYACapkEIAU3TOOxERHPouo7e3l7kcjllhZu0xNgwNBrH48DtXDI+Po5CoYBiscjzSMrwym6MuKUrFIvFxFZcUGl0Fq9boe+Ojg4AQKlUYlAiIkd+0hYAY8h6ZGQknEalQBKrMfT29rp+2RkfH0d7ezt27drF80mKsLObABMTE6kcSmt0Fi8LfRNRs7zSFgCmLjQjidUYCoXCvNRAOys9jp3d9GAaQ4w4XbUE4FrgOmtY6JuImqWqagMwdSFLurq60N3drXyM1/FCycIruzHhtXBEGmcENzL8pVo0goW+iciL2+IRgDEJibmZzUliGoPX4hEAzytpw85uTKR14QiVEydOAPA3/MVFI4hoIZwqtlhqtRoXkGhSI3E8LlSLRwCswJBGTGOIibQuHKGyfPlyLF++3NdjuWgEES1EqVTCxo0bXe/nAhLNaSSOx4XqvV60aBE2btzI80rK8MpuTKgqMaQxhQEATp8+DQBYsmSJ52PdKjEUi8XA20VE6aPrOnbu3Ol6f1rTxVqtkTgeF6pqDGfOnMHOnTtxxRVXsMObIuzsxlxaKzEAL8zi9ZooALASAxEtjKoaA6swNK+ROB4XrMaQPezsxoRbRQFWYjCwEgMRLYRqEQlWYcgW670eHh5WLlZE6cHObkxkMY2hkVm8XgtKEBG58ap2k8ZFe8KSxGoMdjy3ZAM7uzGXhTQGP7N4mcZARM3KYrWbsCRxUQk7nluygdUYImRfp50LSsxXrVYxODiIvXv3Mo2BiHyzx1bVZCQgvdVuyB+eW7KBV3Yj0sg67WlNY9i/fz8AYO3atfPus/aPVzkgFv4mIrv62Do6Opq5BXvCpIrjccfFirKDnd2IcJ12Na+i3wALfxPRfE6x1akzk+X4SgYuVpQd7OyGRNd1lMtljI2NKZettOTzefT19aV6iO3MmTMAjCLe1Wp1dmZsPp9XdnSFEOjp6UGlUmFpGCKaw88s+izE17DY43ic1J9TnN5vLlaUHezshqDRYbWRkZGQWxgNa0LDkiVL5qQsTE5Ocv8QUVO8Lia0t7djYGCAnZmAxLEaQ30a3OTkJMbGxrBt27Y577tbPremaaG1lcIh3GaoNmPdunVyaGgosO2lhdcECUsul8tUvUdrFu/IyIjjN+z6Di9PUtRKQogHpZTrom5HmNIYs/3Mh8jn81i/fn2IrUqvOC4q4ZYGV3+xxOlY4XkmORqJ2azG0AKNzATO5/Oz/2apo1utVvHzn/8cBw8eVA4laZoGIQQ0TWMAIiJfCoWC8n6v+QCUTFYFH78LRZRKJQwMDPA8kwFMYwgYUxa8WfvIq6xaVvcPETWHVW7CF5c0Bj8VfJwqLJRKJXZuM4Cd3YBZM4H/BsBsIRaXmcBrCgUggzOBLxwcxDcnJ/EdAGMA7nB4DCstEFGjWOUmfHFZVMKrgg/PKdnGNIaAqWYCt5kpC235PNZkKGWh3ikzIK0BcH7dfRxKIqJGWaljfqrcZCldLAxnn302zj777KiboezoFotFnlMyjld2A9bR0YHx8XG8t+72YrGII0eORNKmONF1HRtcingzbYGIGuUndYGxJf1UX3ZOnjwZcmsobtjZbZE5aQwAlkxMZDJlod6Fg4O4x+zo3gfgz83bWcSbiJrhlbrAtIXWsuZeLF4cbXeiUCggl8thZmZm3n21Wg3lcplXdjOMaQwB0nUd4+Pjjved9piMlQXVanU2hQEAfmq7j0W8iagZXtVumLbQWkeOHInFqGVXV5ey/JmfxUYovXhlNyDWUJqlPo1B0zSMZHj27+xQo8v9LOJNRI3SdZ3VbiIWt2oMbpwqMVB2sLMbEMcqDKYsV16wWBUYAGA/5n4Z4CxZImpGuVx27OgCYOpCSJJQjYHnGGIawwL5mQWc5coLVpHvU4qZspwlS0SN0nVdGXezGnOzqFqtKqsx8BxDvLK7AE6zgB3TFw4cCLdhMTG7fzxKwjAIEVEjvIasuWhEeKJOY/BzLPAcQ+zsLoAqdQFg+oIqdQEA2tra8KEPfSj0dhFRsqkqMLD6Qris9yGqNAamL5Af7OwugGoIrS2fR19fX6aH0lSpC5qmoVKp8Bs3ETVMFXtZfSFc7e3tkT4/0xfID3Z2m2SfBeyYusBZwLius9OxFFuxWMTIyMhsyZrOzs4IWkdESeRVgeFARtPGomKVHYsqjrvNmRFCRNAaiit2dptkzQJ2SmG4JMOpC3Z3TkzgtPm7UxrD3XffDSD6kjVElByswBAvVjUGVY3bVioUCo63Sym5kATNYme3CZwFrFatVjE8POy6kMbRo0dDbhERpQFjLzWCC0mQhZ3dBnHxCDU/FRhY3JuIGsUKDPEUZTUGLiRBfrGz2yAuHqHmVYGBs2OJqBmswBBPUS4qwUoM5BcXlVCwFozI5XLo7e2FruvKYZGsLR5hLRixZ+9eDA4OolqtelZg4OxYIvLSaOxlBYbs4UIS1AjhlujfjHXr1smhoaHAthclpwUj2tvbUSgUHCsMZK0CQxD754knngAAXHDBBS1tK5EfQogHpZTrom5HmOIYsxl7kyWKOO50jNjxmMiGRmI20xhcOKYr1GpYMjWFM7kcZmZmZh+bxfQFp3SFWq2GQqGA9vb2eScqp+EkdnKJqJ5TukKtVsPU1BRyDrGX6QvZw/QFahTTGFy4DZmdnp7Gmv5+tOXzAIzFI7KWvgC4Lxhx9OhRDAwMQNM0CCGUqQvPPPPMbL4XERHgHnunp6fR39+PvBl78/k80xdiYGpqClNTU6E9H9MXqBlMY3DRqVgQwSqinWVB7J+o11QnsmMaQzww9iZLmHGc6QtkxzSGANVXXVgyMZGpdAU3XgtGEBEFaWJigukKMRRmNQamL1Cz2Nmto+s6yuWy45UFAK4LJWRJtVrlghFE1BJuMWR6ehqDg4Po6+tj6kJGWAsUTU5OIp/PM32BmsbOro3TEAkXjZhrdh+53M8i3kS0ED09Pa6rpE1OTmJsbAzbtm1jxyYmWpXGYJ1rrA7u5OQkhBCOS0VrmsbjgZTY2bVRLRgBZLPqQj3VohEcRiKihapUKsq8zFqths2bN2P79u0ht4yctCqNwSllQUo5r8PL8w75wc6ujapoeVs+z+EzuFdhABofRnrNa14TRJOIKGUKhYJrZxeAcjibwrVy5cqWbNftPZZSYtGiRThz5gw0TUOlUuFVXfLEzq5NR0cHxsfH56UucBawQdd1bNi3L7BhpPPPPz+ophFRCnjNtrdomoY9GU4ny4Le3l7XdJYzZ87MXtFlR5f8YGfXASswOLtwcBD3mB1dewqDEKKpYaQnn3wSADu9RGRwWlCiHheSiJdTp04BANra2gLdbqFQmLeIiF2tVkO5XGZnl3zhohI2rMCg5pbCIKVsKuD84Ac/wA9+8IOFNouIUkKVSgZwIYk4On78OI4fPx74dru6utDf34/Fi92vyXkdL0QWXtk16bo+m/jOCgzOrlMUeyciWigrlaweU8niq5WLSlhpLdMuF5xY/Yf8YmfXVC6XIaV0rMRwScYrMFi4kAQRRYELSsRXKxeV4CISFBSmMZjcEuEBcMgMXEiCiFpPtaAEZUu1WuUiEhQYXtkFUxi8cCEJIgqDKo2B1RfiqRVpDNY5xw0XkaBGsbMLpjB4adVCEldfffXCG0dEqcc0hviampoCEGwaA9MXKGhMYwBTGLwEuZCEXXd3N7q7u5ttFhGlhK7r6O3tda2IwzSG+Fq6dCmWLl0a6DZV6QsbN27kVV1qWOav7DKFQS3ohSTsnnjiCQDABRdc0PQ2iCjZ/CwkwUUk4qsVcVy1oMTOnTtxxRVXsMNLDcl8Z5cpDGpBLyRht2/fPgDs7BJlmddCElxEIt6sagxBjtKpFpTgYhLUjMymMVjDZkxhcFetVgNfSIKIyE4Vg7mIRHblcu7dEy4mQY3K5JVdp2EzpjDM5VWBQdO0UNtDROljTyOrp2kaRkZGwm8UNSToagxeC0kArABEjctkZ9caNnNKXQCMb5RrMp7C0KoKDEREFiuNzAlTF5Ih6EUlVJUYAJ5/qDmZ6+zquq4cNmvL59HX15fZYbNqtYrh4eGWVWAgIrJwODrbrPPN5OQk8ua5V9XR1TQNlUqF5x9qWKY6u/WFqh1TFzI8bDabuuARbIIKNG984xsD2Q4RJVNPT4/rxYexsTFs27aNHZuYO3LkCACgs7Ozob+zzjdW53ZychJjY2MoFouOJeiyfn6mhclUZ1eVvsDUBXXqAhD88FGjwZGI0qVSqbiWHavVati8eTO2b98eQcuo1ZzSFWq1GgqFAtrb2+ccE0xdoIVKfTUGq+pCLpdTpi+syeiM32q1isHBQezZu1eZuqBpWuDpCwcPHsTBgwcD2x4RJUupVMLGjRtd71cNaVM81Go1Zem4etY5x+29PXr0KAYGBqBpGoQQLTn3UPak+squW7Fyx/SFAwfCa1hM+ElbAFo3fHTfffcBANasWRP4toko/nRdx86dO13v52IS8ddINYb61AUnPT09KJVK7NxSoFLd2fWqugBkO33BK20B4PAREbWOakEJLiaRDI1UY2ClBYpKqtMYvGb6tuXzmU1fAKBMW+DwEREFyZ5S1tvbC13XlTGai0mkj6qjWywWUSgUsGHDhtnjgygoqb6y29HRgfHx8XlXLIvF4uwM0iy7rrPTcdYr9w8RBak+pWx0dBRbt26djdH1NE3DgQymliVRI2kMbquWFotFnDx5ct7xAYAXWygQqe7sWurTGJZMTGQybaHenRMTOG3+7pbGQES0UE7pCrVaDVNTU8jlcpiZmZm9nekLydJIGkOhUHB8vycmJuatmFar1VAul9nZpUCkIo3BaXgMMGZ1OjmtWIYwjewVFwYHB1GtVgG47we3/Ra0N73pTXjTm94UynMRUXTc0hWmp6fR39+PfD4PAMjn80xfSJjOzk5lGUnr/LN3714MDw+ju7t73vvttjQwFx2hoCT+yq7b8BjwQsFyx+oLGZnhO6/iwuQk2sfGMLBtG8ojI45DSmGtO75ixYpQnoeIouWWrlAsFpmukGJOC0ccP34cO3bsmHPF1i29IaxzEaVf4ju7jhUXajW0bd6M+/v6cNBhyCRL1RecKi5Yw0NOBd3DnA370EMPAQBe9rKXhfJ8RBQvExMTTFdIuOeffx4AsGzZsnn3uS0cUZ+eEPW5iNIv0WkMuq67LhRxanISXV1dWNPfjzZzyCRr1Req1aprxYWxsTGUSqVIi3cPDQ1haGgolOciovBZKWZOV3UBuA5fU3I8++yzePbZZx3vc6u+UJ+eEPW5iNIvsVd2reERi1uqQheAbHRt55pNX3C53xoeYvFuImoFt0V97LhoRPK5VWPQdR379u2DlHLe3zilJ/BcRK2U2M6uasGIrKUqOFEtGMHhISJqNdWCEQCrLqSFWzWGwcFBx46uEILnHwpdpGkMblUU/FDN0kxLqoJbFQU/VAtGcHiIiJrRSMxWxWhWXUgue3WFwcFBTExMOD7OLYVBSsnzD4VPShnYz+WXXy792r17t2xvb5cAZn/a29vl7t27ff29pmlz/tb60TTNdxviLAv75/bbb5e333571M0gklJKCWBIBhgPk/DTypidhBhEjXE6BpYuXSq3bt0677F8/6nVGonZQjoMMzRr3bp10u+EI6vUSH0aQls+j/Xr13v+fbVaxcFHH51faSElVwsGBwdnr87a0xA0TcPIyIjn3zvly7W3t8fqqq7Vtvb29ohbQgQIIR6UUq6Luh1hamXMTnuMziK389L5558/70p+Es5BlGyNxOzI0hjchrhUw+92aa+0oKqi4EcSZre2t7ezo0uUEI3G7LTH6Cxye68PHTo077YknIMoOyK/slvP75XLtMvC/tm/fz8AYO3a+imGROHjlV21LMQkUnM7Bs477zz84he/iKBFlGWJuLJbqVTmXdVjlYAXZGH/7N+/f7bDS0TxloWYRGpOx8DSpUtxzTXXRNQiIn8i6+xyiEON+4eI4oQxiZyOgU2bNuFXf/VXo24akVJkaQxEbsXIiaLANAaixjGOU1QSkcZARERERNRq7OwSERERUWoldrlgSj7m+hERJRvjOCUBO7sUmSVLlkTdBCIiWgDGcUoCpjFQZB544AE88MADUTeDiIiaxDhOScDOLkXm4YcfxsMPPxx1M4iIqEmM45QE7OwSERERUWqxs0tEREREqcXOLhERERGlFju7RERERJRagS4XLIQ4DGDU/G8ngCOBbTw8bHe42O5wsd3uNCnlOS1+jlipi9kLlZRji+0MXlLaynYGK+p2+o7ZgXZ252xYiKEkrjPPdoeL7Q4X202tkpT3iO0MXlLaynYGKyntBJjGQEREREQpxs4uEREREaVWKzu7Ay3cdiux3eFiu8PFdlOrJOU9YjuDl5S2sp3BSko7W5ezS0REREQUNaYxEBEREVFqLaizK4ToEEJ8TwjxmPnvKpfHbTQf85gQYqPt9qVCiAEhxKNCiEeEEL+3kPaE1W7b/XcJIR5qfYtnn6/pdgsh2oUQ3zT388NCiFtCaO/VQoiDQojHhRA3OdyfF0J82bz/fiFEr+2+PzNvPyiEeH2r27rQNgshXieEeFAI8VPz398Mq80Labft/h4hxHNCiPeH1WbzeRdyjLxcCHGfeTz/VAjRFmbbs2KBcedsIcR+288RIcRnzPs2CSEO2+57W1TtNG/fYx6LVnvONW9XfnbCbKcqjge1P1sRt722GWY7VbHa7RiIqJ29QoiTtrZ81vY3l5vtf1wI8X+EEGKh7VxgW0t1n/MZIcRa877A92lTpJRN/wD4JICbzN9vAvAJh8d0AHjC/HeV+fsq876PAvi4+XsOQOdC2hNWu837rwXwTwAeCqPNC203gHYA/818zFIAPwLwhha2dRGAnwO4wHy+/wDw0rrHvBPAZ83fbwDwZfP3l5qPzwPoM7ezKIT9u5A2XwbgRebvLwPwVIjHRdPttt3/VQD/DOD9SWg3gMUA/hPAK8z/F8M4RrL4E0S8tD3uQQC/Yf6+CcDfxaWdAPYAWOfwN8rPTpjthCKOB7E/F/iZdIzbfrYZcjtdY7XbMRBRO3vh0r8A8BMA6wEIAN9GAOfyhbS17jH/BcDPW7VPm/1ZaBrD7wDYaf6+E8DvOjzm9QC+J6U8KqU8BuB7AK4273srgJsBQP7/7Z1bqFRVGMd/X5zoXmqliafSAgl8CMqSoEAqejDsZpDRhW5Q0FM+1IMFlkJlRRd8CiHwISXtAkEQKJYP4YtXiiiPGnROVnAeopJOlP8e1hrcZ9wzZ87svdac5nw/2My+rL3mP9+s/d9rrb3WjHRCUq4fJ66k28zOBVYB6zJoLdK1bknHJe0EkPQ3sBcYTKj1emBI0pH4flui/iLFz7MNuCW2UO8Etkgak3QUGIr5paZrzZL2Sfop7v8GOMvMzsigGarFGjO7CzhK0J2TKrpvAw5KOgAgaVTSv5l0Tzeq+jwAZrYQmE2ooE1ZnRPkO+7aya0zg4+n8O1O8symM7NXV/LmMsxsLnC+pN0KtclNlJehXmm9P547paha2Z0j6Vhc/xmYU5JmHvBjYXsYmGdmM+L2WjPba2Zbzazs/BR0rTuurwXeAI4nU1hOVd0AxNgvB3akENmpjmIaSf8AvxF66Do5NwVVNBdZAeyVNJZIZzNd644Nt+cIT1lyUyXeCwGZ2efRP57NoHe6UovvcLInqDgreoWZHTSzbWZ26RTQ+V581PpC4SbeyTWfW2crH68azxS+ncLPU3p1WRnolc4FZrbPzL40s5sK6YcnyLMXWhvcB2xu2ldnTLtiYKIEZrYduKTk0OrihiSZ2WR+2mGA0CL9StIqM1sFvA48NIk8WpJKdxyHcqWkZxrjVeokYbwb+Q8QCuI7ko50p9JphZktAl4l9Dz+H1gDvCnpjx55ULcMADcC1xEanTvMbI+klA24viW170RWMt7fPwU2SxozsycJPUZtx7on1vmApBEzOw/4MGrdNMk8cuhs5eOTjud0poVX11YGauAYcJmkUTO7Fvgkap6ymNkS4Lik4lymKRHTCSu7km5tdczMfjGzuZKOxa71X0uSjQBLC9uDhDEco4Sb1Edx/1bg8c5kT0xC3TcAi83sB0L8ZpvZF5KWUgMJdTd4Fzgk6a0a5LZjBCj2LAzGfWVphqN5X0AoF52cm4IqmjGzQeBj4GFJh9PLPUVTg8noXgLca2brgRnACTP7S9KG9LIr6R4GdjWGPpnZZ8A1pH1a0bek9h0zuxoYkLSn8J6jhfQbCWNZe6ZT0kh8/d3M3ic81t1Em2u+Fzojp/h4N/Fs8b4pfLtuP0/i1W3KQHad8QnIWNSzx8wOE55ojTB+6Epd98dKMY2spKlXN0FMu0PVBjS/xviB9utL0swijAecGZejwKx4bAtwc1x/BNhaRU8u3YU088k7Qa1qvNcRWlanZdA6QJhUsYCTg90XNaV5mvGD3T+I64sYP9HhCHkmqFXRPCOmvydXeahDd1OaNeSdoFYl3jMJ4xXPjvlsB27PHfvpsNThl8ArwItN58wtrN8N7O6VzliGLoppTieMR3yqXRnsVTxp4eN1xLPiNVnq253kmVlnqVe3KwM90nkx8b5HmDQ2UigDzRPUllXRWVVr3D4tarwiZUy7/nwVg3MhoSflEOFm0/giFgMbC+keIwxWHwIeLey/HNhFmFW9g9Bln/5DV9RdOD6fvJXdrnUTWmkCvgX2x+WJxHqXAd8TZniujvteAu6I62cSevSH4sVbvEhWx/O+I+GvRtSlGXge+LMQ2/3A7KmuuymPNWSs7NZQRh4kTDD5mpIKgy+1fUeV/ZJwE72qad/L8fs7AOxsPp5TJ3AO4ZciDkZNb3OyojHhtZNRZ0sfryueFa/JUt8uy7OGclmrV7crAz3SuSLq2E9o2C8v5LmY4HuHgQ3EPwjrldZ4bClNDaxUMe1m8X9QcxzHcRzHcfoW/wc1x3Ecx3Ecp2/xyq7jOI7jOI7Tt3hl13Ecx3Ecx+lbvLLrOI7jOI7j9C1e2XUcx3Ecx3H6Fq/sOo7jOI7jOH2LV3Ydx3Ecx3GcvsUru47jOI7jOE7f8h8WC3c3jqPpMwAAAABJRU5ErkJggg==
"
>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The figure above displays the confidence intervals associated with the simulated A/A tests.</p>
<p>On the left hand side, we can see the results of a standard regression. By assuming no correlation between error terms (remember how we set all covariance terms to zero for the homoskedastic and heteroskedastic variance estimators), we have underestimated the standard error. The result is misleadingly narrow confidence intervals and a false positive rate that greatly exceeds the 0.05 alpha value. This plot shows that the impact that not controlling for clustered errors can have on inference.</p>
<p>On the right hand side, we specify a regression that captures how our errors are correlated within a given cluster. The resulting standard error of our estimate is now larger, as it includes the covariance terms for observations within the same cluster. This is reflected in the width of the confidence intervals, which are bigger than those obtained from the standard regression shown on the left. As we've correctly captured the error structure, our false positive rate now closely matches the 0.05 alpha value.</p>
<p>Note that in both cases our estimates are not biased, with our estimates $\hat{\beta}$ centred on the true $\beta$ value at 0.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Conclusion">Conclusion<a class="anchor-link" href="#Conclusion">&#182;</a></h3><p>This blog post has examined the subtleties of drawing inferential conclusions from experiments that randomize on one unit but analyse on another. We have demonstrated how a cluster-robust regression correctly captures the error structure and allows us to produce robust analysis.</p>
<p>Useful resources for cluster-robust inference:</p>
<ul>
<li><a href="http://cameron.econ.ucdavis.edu/research/Cameron_Miller_JHR_2015_February.pdf">A Practitioner’s Guide to Cluster-Robust Inference</a></li>
</ul>

</div>
</div>
</div>
 


<script type="text/javascript">if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = '//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: 'center'," +
        "    displayIndent: '0em'," +
        "    showMathMenu: true," +
        "    tex2jax: { " +
        "        inlineMath: [ ['$','$'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        " linebreaks: { automatic: true, width: '95% container' }, " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'black ! important'} }" +
        "    } " +
        "}); ";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
</script>

                <div class="clear"></div>

                <div class="info">
                    <a href="/clustered-sampling-part-2.html">posted at 00:00</a>
                    &nbsp;&middot;&nbsp;<a href="/category/statistics-inference.html" rel="tag">Statistics, Inference</a>
                    &nbsp;&middot;
                    &nbsp;<a href="/tag/experimentation.html" class="tags">Experimentation</a>
                </div>
            </article>            <h4 class="date">Dec 03, 2019</h4>

            <article class="post">
                <h2 class="title">
                    <a href="/casual-inference-paper-review.html" rel="bookmark" title="Permanent Link to &quot;Casual Inference Paper Review&quot;">Casual Inference Paper Review</a>
                </h2>

                
                

                <style type="text/css">/*!
*
* IPython notebook
*
*/
/* CSS font colors for translated ANSI escape sequences */
/* The color values are a mix of
   http://www.xcolors.net/dl/baskerville-ivorylight and
   http://www.xcolors.net/dl/euphrasia */
.ansi-black-fg {
  color: #3E424D;
}
.ansi-black-bg {
  background-color: #3E424D;
}
.ansi-black-intense-fg {
  color: #282C36;
}
.ansi-black-intense-bg {
  background-color: #282C36;
}
.ansi-red-fg {
  color: #E75C58;
}
.ansi-red-bg {
  background-color: #E75C58;
}
.ansi-red-intense-fg {
  color: #B22B31;
}
.ansi-red-intense-bg {
  background-color: #B22B31;
}
.ansi-green-fg {
  color: #00A250;
}
.ansi-green-bg {
  background-color: #00A250;
}
.ansi-green-intense-fg {
  color: #007427;
}
.ansi-green-intense-bg {
  background-color: #007427;
}
.ansi-yellow-fg {
  color: #DDB62B;
}
.ansi-yellow-bg {
  background-color: #DDB62B;
}
.ansi-yellow-intense-fg {
  color: #B27D12;
}
.ansi-yellow-intense-bg {
  background-color: #B27D12;
}
.ansi-blue-fg {
  color: #208FFB;
}
.ansi-blue-bg {
  background-color: #208FFB;
}
.ansi-blue-intense-fg {
  color: #0065CA;
}
.ansi-blue-intense-bg {
  background-color: #0065CA;
}
.ansi-magenta-fg {
  color: #D160C4;
}
.ansi-magenta-bg {
  background-color: #D160C4;
}
.ansi-magenta-intense-fg {
  color: #A03196;
}
.ansi-magenta-intense-bg {
  background-color: #A03196;
}
.ansi-cyan-fg {
  color: #60C6C8;
}
.ansi-cyan-bg {
  background-color: #60C6C8;
}
.ansi-cyan-intense-fg {
  color: #258F8F;
}
.ansi-cyan-intense-bg {
  background-color: #258F8F;
}
.ansi-white-fg {
  color: #C5C1B4;
}
.ansi-white-bg {
  background-color: #C5C1B4;
}
.ansi-white-intense-fg {
  color: #A1A6B2;
}
.ansi-white-intense-bg {
  background-color: #A1A6B2;
}
.ansi-default-inverse-fg {
  color: #FFFFFF;
}
.ansi-default-inverse-bg {
  background-color: #000000;
}
.ansi-bold {
  font-weight: bold;
}
.ansi-underline {
  text-decoration: underline;
}
/* The following styles are deprecated an will be removed in a future version */
.ansibold {
  font-weight: bold;
}
.ansi-inverse {
  outline: 0.5px dotted;
}
/* use dark versions for foreground, to improve visibility */
.ansiblack {
  color: black;
}
.ansired {
  color: darkred;
}
.ansigreen {
  color: darkgreen;
}
.ansiyellow {
  color: #c4a000;
}
.ansiblue {
  color: darkblue;
}
.ansipurple {
  color: darkviolet;
}
.ansicyan {
  color: steelblue;
}
.ansigray {
  color: gray;
}
/* and light for background, for the same reason */
.ansibgblack {
  background-color: black;
}
.ansibgred {
  background-color: red;
}
.ansibggreen {
  background-color: green;
}
.ansibgyellow {
  background-color: yellow;
}
.ansibgblue {
  background-color: blue;
}
.ansibgpurple {
  background-color: magenta;
}
.ansibgcyan {
  background-color: cyan;
}
.ansibggray {
  background-color: gray;
}
div.cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  border-radius: 2px;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  border-width: 1px;
  border-style: solid;
  border-color: transparent;
  width: 100%;
  padding: 5px;
  /* This acts as a spacer between cells, that is outside the border */
  margin: 0px;
  outline: none;
  position: relative;
  overflow: visible;
}
div.cell:before {
  position: absolute;
  display: block;
  top: -1px;
  left: -1px;
  width: 5px;
  height: calc(100% +  2px);
  content: '';
  background: transparent;
}
div.cell.jupyter-soft-selected {
  border-left-color: #E3F2FD;
  border-left-width: 1px;
  padding-left: 5px;
  border-right-color: #E3F2FD;
  border-right-width: 1px;
  background: #E3F2FD;
}
@media print {
  div.cell.jupyter-soft-selected {
    border-color: transparent;
  }
}
div.cell.selected,
div.cell.selected.jupyter-soft-selected {
  border-color: #ababab;
}
div.cell.selected:before,
div.cell.selected.jupyter-soft-selected:before {
  position: absolute;
  display: block;
  top: -1px;
  left: -1px;
  width: 5px;
  height: calc(100% +  2px);
  content: '';
  background: #42A5F5;
}
@media print {
  div.cell.selected,
  div.cell.selected.jupyter-soft-selected {
    border-color: transparent;
  }
}
.edit_mode div.cell.selected {
  border-color: #66BB6A;
}
.edit_mode div.cell.selected:before {
  position: absolute;
  display: block;
  top: -1px;
  left: -1px;
  width: 5px;
  height: calc(100% +  2px);
  content: '';
  background: #66BB6A;
}
@media print {
  .edit_mode div.cell.selected {
    border-color: transparent;
  }
}
.prompt {
  /* This needs to be wide enough for 3 digit prompt numbers: In[100]: */
  min-width: 14ex;
  /* This padding is tuned to match the padding on the CodeMirror editor. */
  padding: 0.4em;
  margin: 0px;
  font-family: monospace;
  text-align: right;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
  /* Don't highlight prompt number selection */
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  /* Use default cursor */
  cursor: default;
}
@media (max-width: 540px) {
  .prompt {
    text-align: left;
  }
}
div.inner_cell {
  min-width: 0;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_area {
  border: 1px solid #cfcfcf;
  border-radius: 2px;
  background: #f7f7f7;
  line-height: 1.21429em;
}
/* This is needed so that empty prompt areas can collapse to zero height when there
   is no content in the output_subarea and the prompt. The main purpose of this is
   to make sure that empty JavaScript output_subareas have no height. */
div.prompt:empty {
  padding-top: 0;
  padding-bottom: 0;
}
div.unrecognized_cell {
  padding: 5px 5px 5px 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.unrecognized_cell .inner_cell {
  border-radius: 2px;
  padding: 5px;
  font-weight: bold;
  color: red;
  border: 1px solid #cfcfcf;
  background: #eaeaea;
}
div.unrecognized_cell .inner_cell a {
  color: inherit;
  text-decoration: none;
}
div.unrecognized_cell .inner_cell a:hover {
  color: inherit;
  text-decoration: none;
}
@media (max-width: 540px) {
  div.unrecognized_cell > div.prompt {
    display: none;
  }
}
div.code_cell {
  /* avoid page breaking on code cells when printing */
}
@media print {
  div.code_cell {
    page-break-inside: avoid;
  }
}
/* any special styling for code cells that are currently running goes here */
div.input {
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.input {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_prompt {
  color: #303F9F;
  border-top: 1px solid transparent;
}
div.input_area > div.highlight {
  margin: 0.4em;
  border: none;
  padding: 0px;
  background-color: transparent;
}
div.input_area > div.highlight > pre {
  margin: 0px;
  border: none;
  padding: 0px;
  background-color: transparent;
}
/* The following gets added to the <head> if it is detected that the user has a
 * monospace font with inconsistent normal/bold/italic height.  See
 * notebookmain.js.  Such fonts will have keywords vertically offset with
 * respect to the rest of the text.  The user should select a better font.
 * See: https://github.com/ipython/ipython/issues/1503
 *
 * .CodeMirror span {
 *      vertical-align: bottom;
 * }
 */
.CodeMirror {
  line-height: 1.21429em;
  /* Changed from 1em to our global default */
  font-size: 14px;
  height: auto;
  /* Changed to auto to autogrow */
  background: none;
  /* Changed from white to allow our bg to show through */
}
.CodeMirror-scroll {
  /*  The CodeMirror docs are a bit fuzzy on if overflow-y should be hidden or visible.*/
  /*  We have found that if it is visible, vertical scrollbars appear with font size changes.*/
  overflow-y: hidden;
  overflow-x: auto;
}
.CodeMirror-lines {
  /* In CM2, this used to be 0.4em, but in CM3 it went to 4px. We need the em value because */
  /* we have set a different line-height and want this to scale with that. */
  /* Note that this should set vertical padding only, since CodeMirror assumes
       that horizontal padding will be set on CodeMirror pre */
  padding: 0.4em 0;
}
.CodeMirror-linenumber {
  padding: 0 8px 0 4px;
}
.CodeMirror-gutters {
  border-bottom-left-radius: 2px;
  border-top-left-radius: 2px;
}
.CodeMirror pre {
  /* In CM3 this went to 4px from 0 in CM2. This sets horizontal padding only,
    use .CodeMirror-lines for vertical */
  padding: 0 0.4em;
  border: 0;
  border-radius: 0;
}
.CodeMirror-cursor {
  border-left: 1.4px solid black;
}
@media screen and (min-width: 2138px) and (max-width: 4319px) {
  .CodeMirror-cursor {
    border-left: 2px solid black;
  }
}
@media screen and (min-width: 4320px) {
  .CodeMirror-cursor {
    border-left: 4px solid black;
  }
}
/*

Original style from softwaremaniacs.org (c) Ivan Sagalaev <Maniac@SoftwareManiacs.Org>
Adapted from GitHub theme

*/
.highlight-base {
  color: #000;
}
.highlight-variable {
  color: #000;
}
.highlight-variable-2 {
  color: #1a1a1a;
}
.highlight-variable-3 {
  color: #333333;
}
.highlight-string {
  color: #BA2121;
}
.highlight-comment {
  color: #408080;
  font-style: italic;
}
.highlight-number {
  color: #080;
}
.highlight-atom {
  color: #88F;
}
.highlight-keyword {
  color: #008000;
  font-weight: bold;
}
.highlight-builtin {
  color: #008000;
}
.highlight-error {
  color: #f00;
}
.highlight-operator {
  color: #AA22FF;
  font-weight: bold;
}
.highlight-meta {
  color: #AA22FF;
}
/* previously not defined, copying from default codemirror */
.highlight-def {
  color: #00f;
}
.highlight-string-2 {
  color: #f50;
}
.highlight-qualifier {
  color: #555;
}
.highlight-bracket {
  color: #997;
}
.highlight-tag {
  color: #170;
}
.highlight-attribute {
  color: #00c;
}
.highlight-header {
  color: blue;
}
.highlight-quote {
  color: #090;
}
.highlight-link {
  color: #00c;
}
/* apply the same style to codemirror */
.cm-s-ipython span.cm-keyword {
  color: #008000;
  font-weight: bold;
}
.cm-s-ipython span.cm-atom {
  color: #88F;
}
.cm-s-ipython span.cm-number {
  color: #080;
}
.cm-s-ipython span.cm-def {
  color: #00f;
}
.cm-s-ipython span.cm-variable {
  color: #000;
}
.cm-s-ipython span.cm-operator {
  color: #AA22FF;
  font-weight: bold;
}
.cm-s-ipython span.cm-variable-2 {
  color: #1a1a1a;
}
.cm-s-ipython span.cm-variable-3 {
  color: #333333;
}
.cm-s-ipython span.cm-comment {
  color: #408080;
  font-style: italic;
}
.cm-s-ipython span.cm-string {
  color: #BA2121;
}
.cm-s-ipython span.cm-string-2 {
  color: #f50;
}
.cm-s-ipython span.cm-meta {
  color: #AA22FF;
}
.cm-s-ipython span.cm-qualifier {
  color: #555;
}
.cm-s-ipython span.cm-builtin {
  color: #008000;
}
.cm-s-ipython span.cm-bracket {
  color: #997;
}
.cm-s-ipython span.cm-tag {
  color: #170;
}
.cm-s-ipython span.cm-attribute {
  color: #00c;
}
.cm-s-ipython span.cm-header {
  color: blue;
}
.cm-s-ipython span.cm-quote {
  color: #090;
}
.cm-s-ipython span.cm-link {
  color: #00c;
}
.cm-s-ipython span.cm-error {
  color: #f00;
}
.cm-s-ipython span.cm-tab {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAMCAYAAAAkuj5RAAAAAXNSR0IArs4c6QAAAGFJREFUSMft1LsRQFAQheHPowAKoACx3IgEKtaEHujDjORSgWTH/ZOdnZOcM/sgk/kFFWY0qV8foQwS4MKBCS3qR6ixBJvElOobYAtivseIE120FaowJPN75GMu8j/LfMwNjh4HUpwg4LUAAAAASUVORK5CYII=);
  background-position: right;
  background-repeat: no-repeat;
}
div.output_wrapper {
  /* this position must be relative to enable descendents to be absolute within it */
  position: relative;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  z-index: 1;
}
/* class for the output area when it should be height-limited */
div.output_scroll {
  /* ideally, this would be max-height, but FF barfs all over that */
  height: 24em;
  /* FF needs this *and the wrapper* to specify full width, or it will shrinkwrap */
  width: 100%;
  overflow: auto;
  border-radius: 2px;
  -webkit-box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  display: block;
}
/* output div while it is collapsed */
div.output_collapsed {
  margin: 0px;
  padding: 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
div.out_prompt_overlay {
  height: 100%;
  padding: 0px 0.4em;
  position: absolute;
  border-radius: 2px;
}
div.out_prompt_overlay:hover {
  /* use inner shadow to get border that is computed the same on WebKit/FF */
  -webkit-box-shadow: inset 0 0 1px #000;
  box-shadow: inset 0 0 1px #000;
  background: rgba(240, 240, 240, 0.5);
}
div.output_prompt {
  color: #D84315;
}
/* This class is the outer container of all output sections. */
div.output_area {
  padding: 0px;
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.output_area .MathJax_Display {
  text-align: left !important;
}
div.output_area 
div.output_area 
div.output_area img,
div.output_area svg {
  max-width: 100%;
  height: auto;
}
div.output_area img.unconfined,
div.output_area svg.unconfined {
  max-width: none;
}
div.output_area .mglyph > img {
  max-width: none;
}
/* This is needed to protect the pre formating from global settings such
   as that of bootstrap */
.output {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.output_area {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
div.output_area pre {
  margin: 0;
  padding: 1px 0 1px 0;
  border: 0;
  vertical-align: baseline;
  color: black;
  background-color: transparent;
  border-radius: 0;
}
/* This class is for the output subarea inside the output_area and after
   the prompt div. */
div.output_subarea {
  overflow-x: auto;
  padding: 0.4em;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
  max-width: calc(100% - 14ex);
}
div.output_scroll div.output_subarea {
  overflow-x: visible;
}
/* The rest of the output_* classes are for special styling of the different
   output types */
/* all text output has this class: */
div.output_text {
  text-align: left;
  color: #000;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
}
/* stdout/stderr are 'text' as well as 'stream', but execute_result/error are *not* streams */
div.output_stderr {
  background: #fdd;
  /* very light red background for stderr */
}
div.output_latex {
  text-align: left;
}
/* Empty output_javascript divs should have no height */
div.output_javascript:empty {
  padding: 0;
}
.js-error {
  color: darkred;
}
/* raw_input styles */
div.raw_input_container {
  line-height: 1.21429em;
  padding-top: 5px;
}
pre.raw_input_prompt {
  /* nothing needed here. */
}
input.raw_input {
  font-family: monospace;
  font-size: inherit;
  color: inherit;
  width: auto;
  /* make sure input baseline aligns with prompt */
  vertical-align: baseline;
  /* padding + margin = 0.5em between prompt and cursor */
  padding: 0em 0.25em;
  margin: 0em 0.25em;
}
input.raw_input:focus {
  box-shadow: none;
}
p.p-space {
  margin-bottom: 10px;
}
div.output_unrecognized {
  padding: 5px;
  font-weight: bold;
  color: red;
}
div.output_unrecognized a {
  color: inherit;
  text-decoration: none;
}
div.output_unrecognized a:hover {
  color: inherit;
  text-decoration: none;
}
.rendered_html {
  color: #000;
  /* any extras will just be numbers: */
}



.rendered_html :link {
  text-decoration: underline;
}
.rendered_html :visited {
  text-decoration: underline;
}






.rendered_html h1:first-child {
  margin-top: 0.538em;
}
.rendered_html h2:first-child {
  margin-top: 0.636em;
}
.rendered_html h3:first-child {
  margin-top: 0.777em;
}
.rendered_html h4:first-child {
  margin-top: 1em;
}
.rendered_html h5:first-child {
  margin-top: 1em;
}
.rendered_html h6:first-child {
  margin-top: 1em;
}
.rendered_html ul:not(.list-inline),
.rendered_html ol:not(.list-inline) {
  padding-left: 2em;
}








.rendered_html * + ul {
  margin-top: 1em;
}
.rendered_html * + ol {
  margin-top: 1em;
}





.rendered_html pre,




.rendered_html tr,
.rendered_html th,


.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}
.rendered_html * + table {
  margin-top: 1em;
}

.rendered_html * + p {
  margin-top: 1em;
}

.rendered_html * + img {
  margin-top: 1em;
}
.rendered_html img,

.rendered_html img.unconfined,


.rendered_html * + .alert {
  margin-top: 1em;
}
[dir="rtl"] 
div.text_cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.text_cell > div.prompt {
    display: none;
  }
}
div.text_cell_render {
  /*font-family: "Helvetica Neue", Arial, Helvetica, Geneva, sans-serif;*/
  outline: none;
  resize: none;
  width: inherit;
  border-style: none;
  padding: 0.5em 0.5em 0.5em 0.4em;
  color: #000;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
}
a.anchor-link:link {
  text-decoration: none;
  padding: 0px 20px;
  visibility: hidden;
}
h1:hover .anchor-link,
h2:hover .anchor-link,
h3:hover .anchor-link,
h4:hover .anchor-link,
h5:hover .anchor-link,
h6:hover .anchor-link {
  visibility: visible;
}
.text_cell.rendered .input_area {
  display: none;
}
.text_cell.rendered 
.text_cell.rendered .rendered_html tr,
.text_cell.rendered .rendered_html th,
.text_cell.rendered 
.text_cell.unrendered .text_cell_render {
  display: none;
}
.text_cell .dropzone .input_area {
  border: 2px dashed #bababa;
  margin: -1px;
}
.cm-header-1,
.cm-header-2,
.cm-header-3,
.cm-header-4,
.cm-header-5,
.cm-header-6 {
  font-weight: bold;
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
}
.cm-header-1 {
  font-size: 185.7%;
}
.cm-header-2 {
  font-size: 157.1%;
}
.cm-header-3 {
  font-size: 128.6%;
}
.cm-header-4 {
  font-size: 110%;
}
.cm-header-5 {
  font-size: 100%;
  font-style: italic;
}
.cm-header-6 {
  font-size: 100%;
  font-style: italic;
}
</style>
<style type="text/css">.highlight .hll { background-color: #ffffcc }
.highlight  { background: #f8f8f8; }
.highlight .c { color: #408080; font-style: italic } /* Comment */
.highlight .err { border: 1px solid #FF0000 } /* Error */
.highlight .k { color: #008000; font-weight: bold } /* Keyword */
.highlight .o { color: #666666 } /* Operator */
.highlight .ch { color: #408080; font-style: italic } /* Comment.Hashbang */
.highlight .cm { color: #408080; font-style: italic } /* Comment.Multiline */
.highlight .cp { color: #BC7A00 } /* Comment.Preproc */
.highlight .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */
.highlight .c1 { color: #408080; font-style: italic } /* Comment.Single */
.highlight .cs { color: #408080; font-style: italic } /* Comment.Special */
.highlight .gd { color: #A00000 } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gr { color: #FF0000 } /* Generic.Error */
.highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #00A000 } /* Generic.Inserted */
.highlight .go { color: #888888 } /* Generic.Output */
.highlight .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #0044DD } /* Generic.Traceback */
.highlight .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #008000 } /* Keyword.Pseudo */
.highlight .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #B00040 } /* Keyword.Type */
.highlight .m { color: #666666 } /* Literal.Number */
.highlight .s { color: #BA2121 } /* Literal.String */
.highlight .na { color: #7D9029 } /* Name.Attribute */
.highlight .nb { color: #008000 } /* Name.Builtin */
.highlight .nc { color: #0000FF; font-weight: bold } /* Name.Class */
.highlight .no { color: #880000 } /* Name.Constant */
.highlight .nd { color: #AA22FF } /* Name.Decorator */
.highlight .ni { color: #999999; font-weight: bold } /* Name.Entity */
.highlight .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.highlight .nf { color: #0000FF } /* Name.Function */
.highlight .nl { color: #A0A000 } /* Name.Label */
.highlight .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.highlight .nt { color: #008000; font-weight: bold } /* Name.Tag */
.highlight .nv { color: #19177C } /* Name.Variable */
.highlight .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mb { color: #666666 } /* Literal.Number.Bin */
.highlight .mf { color: #666666 } /* Literal.Number.Float */
.highlight .mh { color: #666666 } /* Literal.Number.Hex */
.highlight .mi { color: #666666 } /* Literal.Number.Integer */
.highlight .mo { color: #666666 } /* Literal.Number.Oct */
.highlight .sa { color: #BA2121 } /* Literal.String.Affix */
.highlight .sb { color: #BA2121 } /* Literal.String.Backtick */
.highlight .sc { color: #BA2121 } /* Literal.String.Char */
.highlight .dl { color: #BA2121 } /* Literal.String.Delimiter */
.highlight .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.highlight .s2 { color: #BA2121 } /* Literal.String.Double */
.highlight .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.highlight .sh { color: #BA2121 } /* Literal.String.Heredoc */
.highlight .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.highlight .sx { color: #008000 } /* Literal.String.Other */
.highlight .sr { color: #BB6688 } /* Literal.String.Regex */
.highlight .s1 { color: #BA2121 } /* Literal.String.Single */
.highlight .ss { color: #19177C } /* Literal.String.Symbol */
.highlight .bp { color: #008000 } /* Name.Builtin.Pseudo */
.highlight .fm { color: #0000FF } /* Name.Function.Magic */
.highlight .vc { color: #19177C } /* Name.Variable.Class */
.highlight .vg { color: #19177C } /* Name.Variable.Global */
.highlight .vi { color: #19177C } /* Name.Variable.Instance */
.highlight .vm { color: #19177C } /* Name.Variable.Magic */
.highlight .il { color: #666666 } /* Literal.Number.Integer.Long */</style><div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="A-Second-Chance-to-Get-Causal-Inference-Right:-A-Classification-of-Data-Science-Tasks">A Second Chance to Get Causal Inference Right: A Classification of Data Science Tasks<a class="anchor-link" href="#A-Second-Chance-to-Get-Causal-Inference-Right:-A-Classification-of-Data-Science-Tasks">&#182;</a></h3><p>This blog post consists of a review of the paper <em><a href="https://amstat.tandfonline.com/doi/full/10.1080/09332480.2019.1579578#.XaH9yedKjRb">A Second Chance to Get Causal Inference Right: A Classification of Data Science Tasks</a></em> by Miguel A. Hernán, John Hsu &amp; Brian Healy. The paper contains a number of points that are very applicable for data scientists working in industry.</p>
<p>Here are the top ones that stuck out to me.</p>
<ul>
<li><p><strong>A Classification of Data Science Tasks:</strong> Data Scientists often describe their role as gaining insights from data. This is a vague and ambiguous description. The authors put forward a categorisation which splits data science into three main tasks:</p>
<ul>
<li><strong>Description</strong> consists of providing a quantitative summary of something in the world. It can range from something as simple as calculating means to developing clever data visualizations.</li>
<li><strong>Prediction</strong> is the process of mapping a set of inputs to a set of outputs. The methods utilised in this area of data science can range from associations between variables to complex machine learning methods.</li>
<li><strong>Counterfactual prediction</strong> is the process of predicting what would have happened, if the world had been different - it's answering "what if?" questions. This understanding can be used to perform causal inference work. Methods utilised here include randomized experiments to techniques that aim to learn from observational data.<ul>
<li>The authors point out how some people misleadingly refer to causal inference as explanation. A randomized experiment may tell you there is some causal difference between two variants, but doesn't <em>explain</em> why that difference exists.</li>
</ul>
</li>
</ul>
<p>What does this make data science? In the words of the authors,</p>
<blockquote><p>Data science is the discipline that describes, predicts, and makes causal inferences (or, more generally, counterfactual predictions), not the discipline that uses machine learning algorithms or other technical tools.</p>
</blockquote>
<p>Building on this classification, the authors develop a number of ideas, detailed below.</p>
</li>
</ul>
<ul>
<li><p><strong>Our Role as Data Scientists:</strong> Within Deliveroo, where I currently work, there are three disciplines of data science - they are analytics, algorithms and causal inference. As you can see, these nicely map on to the classification above.  The authors provide a fantastic description of the role of an inference data scientist.</p>
<p>It's a three-step process. First, we articulate a question in such a way that the target experiment we'd eventually like to run is clear. At Deliveroo, a suitable question might be "Does the restaurant chosen for a customer’s first order impact their retention?", with a follow-up experiment looking to exploit some characteristic of restaurants found to lead to higher retention. Second, we use observational data to provide evidence that this is indeed a good question to explore. This might consist of examining correlation plots, partial correlation plots and associative models to understand the relationship between our variables before using some causal inference techniques to ascertain whether the relationship is causal. Finally, having asked a good question which naturally leads to a target experiment, and gathered evidence that this is an area worthy of exploration, we run an experiment. The authors provide an example of this process in action:</p>
<blockquote><p>For example, to compare the mortality under various epoetin dosing strategies in patients with renal failure, students use subject-matter knowledge to 1) outline the design of the hypothetical randomized experiment that would estimate the causal effect of interest - the target trial, 2) identify an observational database with sufficient information to approximately emulate the target trial and 3) emulate the target trial and therefore estimate the causal effect of interest using the observational database.</p>
</blockquote>
<p>A natural follow-up question is what type of questions we should ask. Should we ask big and broad questions or smaller, narrower questions? For example, instead of asking "What characteristics of a deal lead to a user converting?", why not use our domain knowledge to narrow in on a specific element and ask a question such as "What is the impact of ratings, or a certain badge on conversion?" Chipping away at the problem by asking smaller, more specific questions is probably more fruitful to trying to understand the whole picture in one.</p>
</li>
</ul>
<ul>
<li><p><strong>Prediction vs Causal Inference:</strong> Prediction and causal inference are two separate things and "the premise that predictive algorithms will lead to better decisions is questionable". The authors give the example of how a prior hospitalization may be a good predictor of mortality, but nobody would suggest that we stop admitting patients to hospital to reduce mortality. Understanding what may be predictive of a hospitalization, and then understanding what may be done to prevent that are two different questions. In their words, "predictive algorithms inform us that decisions have to be made, but they cannot help us make the decisions."</p>
<p>It's important to bear this distinction in mind, as it influences the approach taken to a problem. In the past, I've developed predictive models to understand whether a deal is likely to be clicked or whether a user is likely to churn. When the piece wraps up and it comes time to recommend a course of action, it's hard to use that same piece of analysis to identify the best course of action forward.</p>
<p>Increasingly, I believe there's a better way of approaching this problem, and it closely follows the methodology described above. It begins by thinking carefully about the relationship in question - as an aside, I've been working through <a href="https://www.youtube.com/playlist?list=PLwJRxp3blEvZyQBTTOMFRP_TDaSdly3gU">Ben Lambert's excellent YouTube Econometrics Course</a> and have been impressed by the level of thought that goes into specifying a regression. You think carefully about the data generating process, about the assumptions that must be honoured to produce unbiased and correct estimates. This thoughtfulness can sometimes be lost when plugging in a collection of variables into some predictive algorithm. After thinking carefully about this, you produce some estimate of the associative relationship between your variables of interest. The final step then is to attempt to establish some degree of causality from this observational data.</p>
</li>
</ul>
<ul>
<li><strong>"Let the data speak for itself:"</strong> A key goal of data science is to help make better decisions. And to do that, we must take our work and craft actionable recommendations that can be used by the business. For inference work, this normally entails going beyond just an associative relationship to something that tries to understand the drivers of a given relationship. Often, analysts stop short of deeming a certain relationship as causal and strongly caveat their work. I believe that it's better to go one step further. We should convince our audience (and ourselves) that we have thought through the problem carefully and have considered how to endow these numerical estimates with meaning. If we don't, we simply let our stakeholders imbue them with the meaning they'd like them to have. Doing this final step leads to stronger and more actionable recommendations.</li>
</ul>
<p>All in all, I thought this was a fantastic paper, and would highly recommend you read it.</p>

</div>
</div>
</div>
 


<script type="text/javascript">if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = '//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: 'center'," +
        "    displayIndent: '0em'," +
        "    showMathMenu: true," +
        "    tex2jax: { " +
        "        inlineMath: [ ['$','$'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        " linebreaks: { automatic: true, width: '95% container' }, " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'black ! important'} }" +
        "    } " +
        "}); ";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
</script>

                <div class="clear"></div>

                <div class="info">
                    <a href="/casual-inference-paper-review.html">posted at 00:00</a>
                    &nbsp;&middot;&nbsp;<a href="/category/experimentation.html" rel="tag">Experimentation</a>
                    &nbsp;&middot;
                    &nbsp;<a href="/tag/experimentation.html" class="tags">Experimentation</a>
                    &nbsp;<a href="/tag/paper-review.html" class="tags">Paper Review</a>
                </div>
            </article>

            <div class="clear"></div>
            <footer>
                <p>
                <a href="https://github.com/jody-frankowski/blue-penguin">Blue Penguin</a> Theme
                &middot;
                Powered by <a href="http://getpelican.com">Pelican</a>
            </footer>
        </div>
        <div class="clear"></div>
    </div>
</body>
</html>